/* eslint-disable */
function er(e,n){return n.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if(i!=="default"&&!(i in e)){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(e)}var ue=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wn(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}var xn={},nt={},$n={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});let zn;function Un(){if(zn===void 0)throw new Error("No runtime abstraction layer installed");return zn}(function(e){function n(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");zn=t}e.install=n})(Un||(Un={}));Xe.default=Un;var Xt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0,function(n){function t(i){return{dispose:i}}n.create=t}(e.Disposable||(e.Disposable={}))})(Xt);var ft={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;const n=Xe;(function(o){const s={dispose(){}};o.None=function(){return s}})(e.Event||(e.Event={}));class t{add(s,c=null,d){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(c),Array.isArray(d)&&d.push({dispose:()=>this.remove(s,c)})}remove(s,c=null){if(!this._callbacks)return;let d=!1;for(let h=0,_=this._callbacks.length;h<_;h++)if(this._callbacks[h]===s)if(this._contexts[h]===c){this._callbacks.splice(h,1),this._contexts.splice(h,1);return}else d=!0;if(d)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const c=[],d=this._callbacks.slice(0),h=this._contexts.slice(0);for(let _=0,g=d.length;_<g;_++)try{c.push(d[_].apply(h[_],s))}catch(p){n.default().console.error(p)}return c}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,c,d)=>{this._callbacks||(this._callbacks=new t),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,c);const h={dispose:()=>{!this._callbacks||(this._callbacks.remove(s,c),h.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(d)&&d.push(h),h}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}e.Emitter=i,i._noop=function(){}})(ft);var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.AbstractMessageBuffer=void 0;const io=13,ro=10,oo=`\r
`;class so{constructor(n="utf-8"){this._encoding=n,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(n){const t=typeof n=="string"?this.fromString(n,this._encoding):n;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let n=0,t=0,i=0,o=0;e:for(;t<this._chunks.length;){const h=this._chunks[t];for(i=0;i<h.length;){switch(h[i]){case io:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case ro:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=h.byteLength,t++}if(n!==4)return;const s=this._read(o+i),c=new Map,d=this.toString(s,"ascii").split(oo);if(d.length<2)return c;for(let h=0;h<d.length-2;h++){const _=d[h],g=_.indexOf(":");if(g===-1)throw new Error("Message header must separate key and value using :");const p=_.substr(0,g),y=_.substr(g+1).trim();c.set(p,y)}return c}tryReadBody(n){if(!(this._totalLength<n))return this._read(n)}get numberOfBytes(){return this._totalLength}_read(n){if(n===0)return this.emptyBuffer();if(n>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===n){const s=this._chunks[0];return this._chunks.shift(),this._totalLength-=n,this.asNative(s)}if(this._chunks[0].byteLength>n){const s=this._chunks[0],c=this.asNative(s,n);return this._chunks[0]=s.slice(n),this._totalLength-=n,c}const t=this.allocNative(n);let i=0,o=0;for(;n>0;){const s=this._chunks[o];if(s.byteLength>n){const c=s.slice(0,n);t.set(c,i),i+=n,this._chunks[o]=s.slice(n),this._totalLength-=n,n-=n}else t.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,n-=s.byteLength}return t}}Zt.AbstractMessageBuffer=so;Object.defineProperty($n,"__esModule",{value:!0});const ao=Xe,vt=Xt,co=ft,uo=Zt;class Yt extends uo.AbstractMessageBuffer{constructor(n="utf-8"){super(n);this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return Yt.emptyBuffer}fromString(n,t){return new TextEncoder().encode(n)}toString(n,t){return t==="ascii"?this.asciiDecoder.decode(n):new TextDecoder(t).decode(n)}asNative(n,t){return t===void 0?n:n.slice(0,t)}allocNative(n){return new Uint8Array(n)}}Yt.emptyBuffer=new Uint8Array(0);class lo{constructor(n){this.socket=n,this._onData=new co.Emitter,this._messageListener=t=>{t.data.arrayBuffer().then(o=>{this._onData.fire(new Uint8Array(o))})},this.socket.addEventListener("message",this._messageListener)}onClose(n){return this.socket.addEventListener("close",n),vt.Disposable.create(()=>this.socket.removeEventListener("close",n))}onError(n){return this.socket.addEventListener("error",n),vt.Disposable.create(()=>this.socket.removeEventListener("error",n))}onEnd(n){return this.socket.addEventListener("end",n),vt.Disposable.create(()=>this.socket.removeEventListener("end",n))}onData(n){return this._onData.event(n)}}class fo{constructor(n){this.socket=n}onClose(n){return this.socket.addEventListener("close",n),vt.Disposable.create(()=>this.socket.removeEventListener("close",n))}onError(n){return this.socket.addEventListener("error",n),vt.Disposable.create(()=>this.socket.removeEventListener("error",n))}onEnd(n){return this.socket.addEventListener("end",n),vt.Disposable.create(()=>this.socket.removeEventListener("end",n))}write(n,t){if(typeof n=="string"){if(t!==void 0&&t!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${t}`);this.socket.send(n)}else this.socket.send(n);return Promise.resolve()}end(){this.socket.close()}}const go=new TextEncoder,nr=Object.freeze({messageBuffer:Object.freeze({create:e=>new Yt(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,n)=>{if(n.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${n.charset}`);return Promise.resolve(go.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,n)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(n.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new lo(e),asWritableStream:e=>new fo(e)}),console,timer:Object.freeze({setTimeout(e,n,...t){return setTimeout(e,n,...t)},clearTimeout(e){clearTimeout(e)},setImmediate(e,...n){return setTimeout(e,0,...n)},clearImmediate(e){clearTimeout(e)}})});function Bn(){return nr}(function(e){function n(){ao.default.install(nr)}e.install=n})(Bn||(Bn={}));$n.default=Bn;var Jn={},en={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.stringArray=qe.array=qe.func=qe.error=qe.number=qe.string=qe.boolean=void 0;function ho(e){return e===!0||e===!1}qe.boolean=ho;function ir(e){return typeof e=="string"||e instanceof String}qe.string=ir;function mo(e){return typeof e=="number"||e instanceof Number}qe.number=mo;function po(e){return e instanceof Error}qe.error=po;function vo(e){return typeof e=="function"}qe.func=vo;function rr(e){return Array.isArray(e)}qe.array=rr;function yo(e){return rr(e)&&e.every(n=>ir(n))}qe.stringArray=yo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isResponseMessage=e.isNotificationMessage=e.isRequestMessage=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;const n=qe;var t;(function(Q){Q.ParseError=-32700,Q.InvalidRequest=-32600,Q.MethodNotFound=-32601,Q.InvalidParams=-32602,Q.InternalError=-32603,Q.jsonrpcReservedErrorRangeStart=-32099,Q.serverErrorStart=Q.jsonrpcReservedErrorRangeStart,Q.MessageWriteError=-32099,Q.MessageReadError=-32098,Q.ServerNotInitialized=-32002,Q.UnknownErrorCode=-32001,Q.jsonrpcReservedErrorRangeEnd=-32e3,Q.serverErrorEnd=Q.jsonrpcReservedErrorRangeEnd})(t=e.ErrorCodes||(e.ErrorCodes={}));class i extends Error{constructor($,j,L){super(j);this.code=n.number($)?$:t.UnknownErrorCode,this.data=L,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}e.ResponseError=i;class o{constructor($){this.kind=$}static is($){return $===o.auto||$===o.byName||$===o.byPosition}toString(){return this.kind}}e.ParameterStructures=o,o.auto=new o("auto"),o.byPosition=new o("byPosition"),o.byName=new o("byName");class s{constructor($,j){this.method=$,this.numberOfParams=j}get parameterStructures(){return o.auto}}e.AbstractMessageSignature=s;class c extends s{constructor($){super($,0)}}e.RequestType0=c;class d extends s{constructor($,j=o.auto){super($,1);this._parameterStructures=j}get parameterStructures(){return this._parameterStructures}}e.RequestType=d;class h extends s{constructor($,j=o.auto){super($,1);this._parameterStructures=j}get parameterStructures(){return this._parameterStructures}}e.RequestType1=h;class _ extends s{constructor($){super($,2)}}e.RequestType2=_;class g extends s{constructor($){super($,3)}}e.RequestType3=g;class p extends s{constructor($){super($,4)}}e.RequestType4=p;class y extends s{constructor($){super($,5)}}e.RequestType5=y;class r extends s{constructor($){super($,6)}}e.RequestType6=r;class l extends s{constructor($){super($,7)}}e.RequestType7=l;class b extends s{constructor($){super($,8)}}e.RequestType8=b;class R extends s{constructor($){super($,9)}}e.RequestType9=R;class E extends s{constructor($,j=o.auto){super($,1);this._parameterStructures=j}get parameterStructures(){return this._parameterStructures}}e.NotificationType=E;class G extends s{constructor($){super($,0)}}e.NotificationType0=G;class ee extends s{constructor($,j=o.auto){super($,1);this._parameterStructures=j}get parameterStructures(){return this._parameterStructures}}e.NotificationType1=ee;class w extends s{constructor($){super($,2)}}e.NotificationType2=w;class W extends s{constructor($){super($,3)}}e.NotificationType3=W;class S extends s{constructor($){super($,4)}}e.NotificationType4=S;class D extends s{constructor($){super($,5)}}e.NotificationType5=D;class P extends s{constructor($){super($,6)}}e.NotificationType6=P;class M extends s{constructor($){super($,7)}}e.NotificationType7=M;class K extends s{constructor($){super($,8)}}e.NotificationType8=K;class x extends s{constructor($){super($,9)}}e.NotificationType9=x;function re(Q){const $=Q;return $&&n.string($.method)&&(n.string($.id)||n.number($.id))}e.isRequestMessage=re;function Pe(Q){const $=Q;return $&&n.string($.method)&&Q.id===void 0}e.isNotificationMessage=Pe;function Re(Q){const $=Q;return $&&($.result!==void 0||!!$.error)&&(n.string($.id)||n.number($.id)||$.id===null)}e.isResponseMessage=Re})(en);var Vn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const n=Xe,t=qe,i=ft;var o;(function(h){h.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),h.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None});function _(g){const p=g;return p&&(p===h.None||p===h.Cancelled||t.boolean(p.isCancellationRequested)&&!!p.onCancellationRequested)}h.is=_})(o=e.CancellationToken||(e.CancellationToken={}));const s=Object.freeze(function(h,_){const g=n.default().timer.setTimeout(h.bind(_),0);return{dispose(){n.default().timer.clearTimeout(g)}}});class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class d{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=o.None}}e.CancellationTokenSource=d})(Vn);var Qn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;const n=Xe,t=qe,i=ft;(function(d){function h(_){let g=_;return g&&t.func(g.listen)&&t.func(g.dispose)&&t.func(g.onError)&&t.func(g.onClose)&&t.func(g.onPartialMessage)}d.is=h})(e.MessageReader||(e.MessageReader={}));class o{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(h){this.errorEmitter.fire(this.asError(h))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(h){this.partialMessageEmitter.fire(h)}asError(h){return h instanceof Error?h:new Error(`Reader received error. Reason: ${t.string(h.message)?h.message:"unknown"}`)}}e.AbstractMessageReader=o;var s;(function(d){function h(_){var g;let p,y;const r=new Map;let l;const b=new Map;if(_===void 0||typeof _=="string")p=_!=null?_:"utf-8";else{if(p=(g=_.charset)!==null&&g!==void 0?g:"utf-8",_.contentDecoder!==void 0&&(y=_.contentDecoder,r.set(y.name,y)),_.contentDecoders!==void 0)for(const R of _.contentDecoders)r.set(R.name,R);if(_.contentTypeDecoder!==void 0&&(l=_.contentTypeDecoder,b.set(l.name,l)),_.contentTypeDecoders!==void 0)for(const R of _.contentTypeDecoders)b.set(R.name,R)}return l===void 0&&(l=n.default().applicationJson.decoder,b.set(l.name,l)),{charset:p,contentDecoder:y,contentDecoders:r,contentTypeDecoder:l,contentTypeDecoders:b}}d.fromOptions=h})(s||(s={}));class c extends o{constructor(h,_){super();this.readable=h,this.options=s.fromOptions(_),this.buffer=n.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(h){this._partialMessageTimeout=h}get partialMessageTimeout(){return this._partialMessageTimeout}listen(h){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=h;const _=this.readable.onData(g=>{this.onData(g)});return this.readable.onError(g=>this.fireError(g)),this.readable.onClose(()=>this.fireClose()),_}onData(h){for(this.buffer.append(h);;){if(this.nextMessageLength===-1){const p=this.buffer.tryReadHeaders();if(!p)return;const y=p.get("Content-Length");if(!y)throw new Error("Header must provide a Content-Length property.");const r=parseInt(y);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}const _=this.buffer.tryReadBody(this.nextMessageLength);if(_===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let g;this.options.contentDecoder!==void 0?g=this.options.contentDecoder.decode(_):g=Promise.resolve(_),g.then(p=>{this.options.contentTypeDecoder.decode(p,this.options).then(y=>{this.callback(y)},y=>{this.fireError(y)})},p=>{this.fireError(p)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(n.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=n.default().timer.setTimeout((h,_)=>{this.partialMessageTimer=void 0,h===this.messageToken&&(this.firePartialMessage({messageToken:h,waitingTime:_}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}e.ReadableStreamMessageReader=c})(Qn);var Gn={},tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.Semaphore=void 0;const Co=Xe;class _o{constructor(n=1){if(n<=0)throw new Error("Capacity must be greater than 0");this._capacity=n,this._active=0,this._waiting=[]}lock(n){return new Promise((t,i)=>{this._waiting.push({thunk:n,resolve:t,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Co.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const n=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=n.thunk();t instanceof Promise?t.then(i=>{this._active--,n.resolve(i),this.runNext()},i=>{this._active--,n.reject(i),this.runNext()}):(this._active--,n.resolve(t),this.runNext())}catch(t){this._active--,n.reject(t),this.runNext()}}}tn.Semaphore=_o;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;const n=Xe,t=qe,i=tn,o=ft,s="Content-Length: ",c=`\r
`;(function(g){function p(y){let r=y;return r&&t.func(r.dispose)&&t.func(r.onClose)&&t.func(r.onError)&&t.func(r.write)}g.is=p})(e.MessageWriter||(e.MessageWriter={}));class d{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(p,y,r){this.errorEmitter.fire([this.asError(p),y,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(p){return p instanceof Error?p:new Error(`Writer received error. Reason: ${t.string(p.message)?p.message:"unknown"}`)}}e.AbstractMessageWriter=d;var h;(function(g){function p(y){var r,l;return y===void 0||typeof y=="string"?{charset:y!=null?y:"utf-8",contentTypeEncoder:n.default().applicationJson.encoder}:{charset:(r=y.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:y.contentEncoder,contentTypeEncoder:(l=y.contentTypeEncoder)!==null&&l!==void 0?l:n.default().applicationJson.encoder}}g.fromOptions=p})(h||(h={}));class _ extends d{constructor(p,y){super();this.writable=p,this.options=h.fromOptions(y),this.errorCount=0,this.writeSemaphore=new i.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(p){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(p,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const l=[];return l.push(s,r.byteLength.toString(),c),l.push(c),this.doWrite(p,l,r)},r=>{throw this.fireError(r),r}))}async doWrite(p,y,r){try{return await this.writable.write(y.join(""),"ascii"),this.writable.write(r)}catch(l){return this.handleError(l,p),Promise.reject(l)}}handleError(p,y){this.errorCount++,this.fireError(p,y,this.errorCount)}end(){this.writable.end()}}e.WriteableStreamMessageWriter=_})(Gn);var or={},sr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0;var n;(function(o){o.None=0,o.First=1,o.AsOld=o.First,o.Last=2,o.AsNew=o.Last})(n=e.Touch||(e.Touch={}));class t{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,c=n.None){const d=this._map.get(s);if(!!d)return c!==n.None&&this.touch(d,c),d.value}set(s,c,d=n.None){let h=this._map.get(s);if(h)h.value=c,d!==n.None&&this.touch(h,d);else{switch(h={key:s,value:c,next:void 0,previous:void 0},d){case n.None:this.addItemLast(h);break;case n.First:this.addItemFirst(h);break;case n.Last:this.addItemLast(h);break;default:this.addItemLast(h);break}this._map.set(s,h),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const c=this._map.get(s);if(!!c)return this._map.delete(s),this.removeItem(c),this._size--,c.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,c){const d=this._state;let h=this._head;for(;h;){if(c?s.bind(c)(h.value,h.key,this):s(h.value,h.key,this),this._state!==d)throw new Error("LinkedMap got modified during iteration.");h=h.next}}keys(){const s=this,c=this._state;let d=this._head;const h={[Symbol.iterator](){return h},next(){if(s._state!==c)throw new Error("LinkedMap got modified during iteration.");if(d){const _={value:d.key,done:!1};return d=d.next,_}else return{value:void 0,done:!0}}};return h}values(){const s=this,c=this._state;let d=this._head;const h={[Symbol.iterator](){return h},next(){if(s._state!==c)throw new Error("LinkedMap got modified during iteration.");if(d){const _={value:d.value,done:!1};return d=d.next,_}else return{value:void 0,done:!0}}};return h}entries(){const s=this,c=this._state;let d=this._head;const h={[Symbol.iterator](){return h},next(){if(s._state!==c)throw new Error("LinkedMap got modified during iteration.");if(d){const _={value:[d.key,d.value],done:!1};return d=d.next,_}else return{value:void 0,done:!0}}};return h}[Symbol.iterator](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this._head,d=this.size;for(;c&&d>s;)this._map.delete(c.key),c=c.next,d--;this._head=c,this._size=d,c&&(c.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const c=s.next,d=s.previous;if(!c||!d)throw new Error("Invalid list");c.previous=d,d.next=c}s.next=void 0,s.previous=void 0,this._state++}touch(s,c){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(c!==n.First&&c!==n.Last)){if(c===n.First){if(s===this._head)return;const d=s.next,h=s.previous;s===this._tail?(h.next=void 0,this._tail=h):(d.previous=h,h.next=d),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(c===n.Last){if(s===this._tail)return;const d=s.next,h=s.previous;s===this._head?(d.previous=void 0,this._head=d):(d.previous=h,h.next=d),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((c,d)=>{s.push([d,c])}),s}fromJSON(s){this.clear();for(const[c,d]of s)this.set(c,d)}}e.LinkedMap=t;class i extends t{constructor(s,c=1){super();this._limit=s,this._ratio=Math.min(Math.max(0,c),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,c=n.AsNew){return super.get(s,c)}peek(s){return super.get(s,n.None)}set(s,c){return super.set(s,c,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=i})(sr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.Trace=e.NullLogger=e.ProgressType=void 0;const n=Xe,t=qe,i=en,o=sr,s=ft,c=Vn;var d;(function(D){D.type=new i.NotificationType("$/cancelRequest")})(d||(d={}));var h;(function(D){D.type=new i.NotificationType("$/progress")})(h||(h={}));class _{constructor(){}}e.ProgressType=_;var g;(function(D){function P(M){return t.func(M)}D.is=P})(g||(g={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var p;(function(D){D[D.Off=0]="Off",D[D.Messages=1]="Messages",D[D.Verbose=2]="Verbose"})(p=e.Trace||(e.Trace={})),function(D){function P(K){if(!t.string(K))return D.Off;switch(K=K.toLowerCase(),K){case"off":return D.Off;case"messages":return D.Messages;case"verbose":return D.Verbose;default:return D.Off}}D.fromString=P;function M(K){switch(K){case D.Off:return"off";case D.Messages:return"messages";case D.Verbose:return"verbose";default:return"off"}}D.toString=M}(p=e.Trace||(e.Trace={}));var y;(function(D){D.Text="text",D.JSON="json"})(y=e.TraceFormat||(e.TraceFormat={})),function(D){function P(M){return M=M.toLowerCase(),M==="json"?D.JSON:D.Text}D.fromString=P}(y=e.TraceFormat||(e.TraceFormat={}));var r;(function(D){D.type=new i.NotificationType("$/setTrace")})(r=e.SetTraceNotification||(e.SetTraceNotification={}));var l;(function(D){D.type=new i.NotificationType("$/logTrace")})(l=e.LogTraceNotification||(e.LogTraceNotification={}));var b;(function(D){D[D.Closed=1]="Closed",D[D.Disposed=2]="Disposed",D[D.AlreadyListening=3]="AlreadyListening"})(b=e.ConnectionErrors||(e.ConnectionErrors={}));class R extends Error{constructor(P,M){super(M);this.code=P,Object.setPrototypeOf(this,R.prototype)}}e.ConnectionError=R;var E;(function(D){function P(M){const K=M;return K&&t.func(K.cancelUndispatched)}D.is=P})(E=e.ConnectionStrategy||(e.ConnectionStrategy={}));var G;(function(D){D.Message=Object.freeze({createCancellationTokenSource(M){return new c.CancellationTokenSource}});function P(M){const K=M;return K&&t.func(K.createCancellationTokenSource)}D.is=P})(G=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={}));var ee;(function(D){D.Message=Object.freeze({sendCancellation(M,K){M.sendNotification(d.type,{id:K})},cleanup(M){}});function P(M){const K=M;return K&&t.func(K.sendCancellation)&&t.func(K.cleanup)}D.is=P})(ee=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={}));var w;(function(D){D.Message=Object.freeze({receiver:G.Message,sender:ee.Message});function P(M){const K=M;return K&&G.is(K.receiver)&&ee.is(K.sender)}D.is=P})(w=e.CancellationStrategy||(e.CancellationStrategy={})),function(D){function P(M){const K=M;return K&&(w.is(K.cancellationStrategy)||E.is(K.connectionStrategy))}D.is=P}(e.ConnectionOptions||(e.ConnectionOptions={}));var W;(function(D){D[D.New=1]="New",D[D.Listening=2]="Listening",D[D.Closed=3]="Closed",D[D.Disposed=4]="Disposed"})(W||(W={}));function S(D,P,M,K){const x=M!==void 0?M:e.NullLogger;let re=0,Pe=0,Re=0;const Q="2.0";let $;const j=Object.create(null);let L;const z=Object.create(null),B=new Map;let ne,te=new o.LinkedMap,se=Object.create(null),Se=Object.create(null),fe=p.Off,we=y.Text,he,ke=W.New;const Be=new s.Emitter,Ye=new s.Emitter,st=new s.Emitter,Ge=new s.Emitter,et=new s.Emitter,xe=K&&K.cancellationStrategy?K.cancellationStrategy:w.Message;function tt(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function Me(v){return v===null?"res-unknown-"+(++Re).toString():"res-"+v.toString()}function U(){return"not-"+(++Pe).toString()}function a(v,F){i.isRequestMessage(F)?v.set(tt(F.id),F):i.isResponseMessage(F)?v.set(Me(F.id),F):v.set(U(),F)}function f(v){}function m(){return ke===W.Listening}function O(){return ke===W.Closed}function k(){return ke===W.Disposed}function T(){(ke===W.New||ke===W.Listening)&&(ke=W.Closed,Ye.fire(void 0))}function A(v){Be.fire([v,void 0,void 0])}function q(v){Be.fire(v)}D.onClose(T),D.onError(A),P.onClose(T),P.onError(q);function J(){ne||te.size===0||(ne=n.default().timer.setImmediate(()=>{ne=void 0,Y()}))}function Y(){if(te.size===0)return;const v=te.shift();try{i.isRequestMessage(v)?me(v):i.isNotificationMessage(v)?C(v):i.isResponseMessage(v)?pe(v):I(v)}finally{J()}}const ie=v=>{try{if(i.isNotificationMessage(v)&&v.method===d.type.method){const F=tt(v.params.id),H=te.get(F);if(i.isRequestMessage(H)){const V=K==null?void 0:K.connectionStrategy,de=V&&V.cancelUndispatched?V.cancelUndispatched(H,f):f(H);if(de&&(de.error!==void 0||de.result!==void 0)){te.delete(F),de.id=H.id,Ie(de,v.method,Date.now()),P.write(de);return}}}a(te,v)}finally{J()}};function me(v){if(k())return;function F(ve,Ee,ye){const Le={jsonrpc:Q,id:v.id};ve instanceof i.ResponseError?Le.error=ve.toJson():Le.result=ve===void 0?null:ve,Ie(Le,Ee,ye),P.write(Le)}function H(ve,Ee,ye){const Le={jsonrpc:Q,id:v.id,error:ve.toJson()};Ie(Le,Ee,ye),P.write(Le)}function V(ve,Ee,ye){ve===void 0&&(ve=null);const Le={jsonrpc:Q,id:v.id,result:ve};Ie(Le,Ee,ye),P.write(Le)}pt(v);const de=j[v.method];let _e,Ne;de&&(_e=de.type,Ne=de.handler);const je=Date.now();if(Ne||$){const ve=String(v.id),Ee=xe.receiver.createCancellationTokenSource(ve);Se[ve]=Ee;try{let ye;if(Ne)if(v.params===void 0){if(_e!==void 0&&_e.numberOfParams!==0){H(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${v.method} defines ${_e.numberOfParams} params but recevied none.`),v.method,je);return}ye=Ne(Ee.token)}else if(Array.isArray(v.params)){if(_e!==void 0&&_e.parameterStructures===i.ParameterStructures.byName){H(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,je);return}ye=Ne(...v.params,Ee.token)}else{if(_e!==void 0&&_e.parameterStructures===i.ParameterStructures.byPosition){H(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,je);return}ye=Ne(v.params,Ee.token)}else $&&(ye=$(v.method,v.params,Ee.token));const Le=ye;ye?Le.then?Le.then($e=>{delete Se[ve],F($e,v.method,je)},$e=>{delete Se[ve],$e instanceof i.ResponseError?H($e,v.method,je):$e&&t.string($e.message)?H(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${$e.message}`),v.method,je):H(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,je)}):(delete Se[ve],F(ye,v.method,je)):(delete Se[ve],V(ye,v.method,je))}catch(ye){delete Se[ve],ye instanceof i.ResponseError?F(ye,v.method,je):ye&&t.string(ye.message)?H(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${ye.message}`),v.method,je):H(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,je)}}else H(new i.ResponseError(i.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,je)}function pe(v){if(!k())if(v.id===null)v.error?x.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):x.error("Received response message without id. No further error information provided.");else{const F=String(v.id),H=se[F];if(Jt(v,H),H){delete se[F];try{if(v.error){const V=v.error;H.reject(new i.ResponseError(V.code,V.message,V.data))}else if(v.result!==void 0)H.resolve(v.result);else throw new Error("Should never happen.")}catch(V){V.message?x.error(`Response handler '${H.method}' failed with message: ${V.message}`):x.error(`Response handler '${H.method}' failed unexpectedly.`)}}}}function C(v){if(k())return;let F,H;if(v.method===d.type.method)H=V=>{const de=V.id,_e=Se[String(de)];_e&&_e.cancel()};else{const V=z[v.method];V&&(H=V.handler,F=V.type)}if(H||L)try{jn(v),H?v.params===void 0?(F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==i.ParameterStructures.byName&&x.error(`Notification ${v.method} defines ${F.numberOfParams} params but recevied none.`),H()):Array.isArray(v.params)?(F!==void 0&&(F.parameterStructures===i.ParameterStructures.byName&&x.error(`Notification ${v.method} defines parameters by name but received parameters by position`),F.numberOfParams!==v.params.length&&x.error(`Notification ${v.method} defines ${F.numberOfParams} params but received ${v.params.length} argumennts`)),H(...v.params)):(F!==void 0&&F.parameterStructures===i.ParameterStructures.byPosition&&x.error(`Notification ${v.method} defines parameters by position but received parameters by name`),H(v.params)):L&&L(v.method,v.params)}catch(V){V.message?x.error(`Notification handler '${v.method}' failed with message: ${V.message}`):x.error(`Notification handler '${v.method}' failed unexpectedly.`)}else st.fire(v)}function I(v){if(!v){x.error("Received empty message.");return}x.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);const F=v;if(t.string(F.id)||t.number(F.id)){const H=String(F.id),V=se[H];V&&V.reject(new Error("The received response has neither a result nor an error property."))}}function X(v){if(!(fe===p.Off||!he))if(we===y.Text){let F;fe===p.Verbose&&v.params&&(F=`Params: ${JSON.stringify(v.params,null,4)}

`),he.log(`Sending request '${v.method} - (${v.id})'.`,F)}else at("send-request",v)}function ae(v){if(!(fe===p.Off||!he))if(we===y.Text){let F;fe===p.Verbose&&(v.params?F=`Params: ${JSON.stringify(v.params,null,4)}

`:F=`No parameters provided.

`),he.log(`Sending notification '${v.method}'.`,F)}else at("send-notification",v)}function Ie(v,F,H){if(!(fe===p.Off||!he))if(we===y.Text){let V;fe===p.Verbose&&(v.error&&v.error.data?V=`Error data: ${JSON.stringify(v.error.data,null,4)}

`:v.result?V=`Result: ${JSON.stringify(v.result,null,4)}

`:v.error===void 0&&(V=`No result returned.

`)),he.log(`Sending response '${F} - (${v.id})'. Processing request took ${Date.now()-H}ms`,V)}else at("send-response",v)}function pt(v){if(!(fe===p.Off||!he))if(we===y.Text){let F;fe===p.Verbose&&v.params&&(F=`Params: ${JSON.stringify(v.params,null,4)}

`),he.log(`Received request '${v.method} - (${v.id})'.`,F)}else at("receive-request",v)}function jn(v){if(!(fe===p.Off||!he||v.method===l.type.method))if(we===y.Text){let F;fe===p.Verbose&&(v.params?F=`Params: ${JSON.stringify(v.params,null,4)}

`:F=`No parameters provided.

`),he.log(`Received notification '${v.method}'.`,F)}else at("receive-notification",v)}function Jt(v,F){if(!(fe===p.Off||!he))if(we===y.Text){let H;if(fe===p.Verbose&&(v.error&&v.error.data?H=`Error data: ${JSON.stringify(v.error.data,null,4)}

`:v.result?H=`Result: ${JSON.stringify(v.result,null,4)}

`:v.error===void 0&&(H=`No result returned.

`)),F){const V=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";he.log(`Received response '${F.method} - (${v.id})' in ${Date.now()-F.timerStart}ms.${V}`,H)}else he.log(`Received response ${v.id} without active response promise.`,H)}else at("receive-response",v)}function at(v,F){if(!he||fe===p.Off)return;const H={isLSPMessage:!0,type:v,message:F,timestamp:Date.now()};he.log(H)}function ct(){if(O())throw new R(b.Closed,"Connection is closed.");if(k())throw new R(b.Disposed,"Connection is disposed.")}function Kn(){if(m())throw new R(b.AlreadyListening,"Connection is already listening")}function Hn(){if(!m())throw new Error("Call listen() first.")}function ut(v){return v===void 0?null:v}function Vt(v){if(v!==null)return v}function Qt(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function Et(v,F){switch(v){case i.ParameterStructures.auto:return Qt(F)?Vt(F):[ut(F)];case i.ParameterStructures.byName:if(!Qt(F))throw new Error("Recevied parameters by name but param is not an object literal.");return Vt(F);case i.ParameterStructures.byPosition:return[ut(F)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Gt(v,F){let H;const V=v.numberOfParams;switch(V){case 0:H=void 0;break;case 1:H=Et(v.parameterStructures,F[0]);break;default:H=[];for(let de=0;de<F.length&&de<V;de++)H.push(ut(F[de]));if(F.length<V)for(let de=F.length;de<V;de++)H.push(null);break}return H}const u={sendNotification:(v,...F)=>{ct();let H,V;if(t.string(v)){H=v;const _e=F[0];let Ne=0,je=i.ParameterStructures.auto;i.ParameterStructures.is(_e)&&(Ne=1,je=_e);let ve=F.length;const Ee=ve-Ne;switch(Ee){case 0:V=void 0;break;case 1:V=Et(je,F[Ne]);break;default:if(je===i.ParameterStructures.byName)throw new Error(`Recevied ${Ee} parameters for 'by Name' notification parameter structure.`);V=F.slice(Ne,ve).map(ye=>ut(ye));break}}else{const _e=F;H=v.method,V=Gt(v,_e)}const de={jsonrpc:Q,method:H,params:V};ae(de),P.write(de)},onNotification:(v,F)=>{ct();let H;return t.func(v)?L=v:F&&(t.string(v)?(H=v,z[v]={type:void 0,handler:F}):(H=v.method,z[v.method]={type:v,handler:F})),{dispose:()=>{H!==void 0?delete z[H]:L=void 0}}},onProgress:(v,F,H)=>{if(B.has(F))throw new Error(`Progress handler for token ${F} already registered`);return B.set(F,H),{dispose:()=>{B.delete(F)}}},sendProgress:(v,F,H)=>{u.sendNotification(h.type,{token:F,value:H})},onUnhandledProgress:Ge.event,sendRequest:(v,...F)=>{ct(),Hn();let H,V,de;if(t.string(v)){H=v;const ve=F[0],Ee=F[F.length-1];let ye=0,Le=i.ParameterStructures.auto;i.ParameterStructures.is(ve)&&(ye=1,Le=ve);let $e=F.length;c.CancellationToken.is(Ee)&&($e=$e-1,de=Ee);const lt=$e-ye;switch(lt){case 0:V=void 0;break;case 1:V=Et(Le,F[ye]);break;default:if(Le===i.ParameterStructures.byName)throw new Error(`Recevied ${lt} parameters for 'by Name' request parameter structure.`);V=F.slice(ye,$e).map(dt=>ut(dt));break}}else{const ve=F;H=v.method,V=Gt(v,ve);const Ee=v.numberOfParams;de=c.CancellationToken.is(ve[Ee])?ve[Ee]:void 0}const _e=re++;let Ne;return de&&(Ne=de.onCancellationRequested(()=>{xe.sender.sendCancellation(u,_e)})),new Promise((ve,Ee)=>{const ye={jsonrpc:Q,id:_e,method:H,params:V},Le=dt=>{ve(dt),xe.sender.cleanup(_e),Ne==null||Ne.dispose()},$e=dt=>{Ee(dt),xe.sender.cleanup(_e),Ne==null||Ne.dispose()};let lt={method:H,timerStart:Date.now(),resolve:Le,reject:$e};X(ye);try{P.write(ye)}catch(dt){lt.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,dt.message?dt.message:"Unknown reason")),lt=null}lt&&(se[String(_e)]=lt)})},onRequest:(v,F)=>{ct();let H=null;return g.is(v)?(H=void 0,$=v):t.string(v)?(H=null,F!==void 0&&(H=v,j[v]={handler:F,type:void 0})):F!==void 0&&(H=v.method,j[v.method]={type:v,handler:F}),{dispose:()=>{H!==null&&(H!==void 0?delete j[H]:$=void 0)}}},trace:(v,F,H)=>{let V=!1,de=y.Text;H!==void 0&&(t.boolean(H)?V=H:(V=H.sendNotification||!1,de=H.traceFormat||y.Text)),fe=v,we=de,fe===p.Off?he=void 0:he=F,V&&!O()&&!k()&&u.sendNotification(r.type,{value:p.toString(v)})},onError:Be.event,onClose:Ye.event,onUnhandledNotification:st.event,onDispose:et.event,end:()=>{P.end()},dispose:()=>{if(k())return;ke=W.Disposed,et.fire(void 0);const v=new Error("Connection got disposed.");Object.keys(se).forEach(F=>{se[F].reject(v)}),se=Object.create(null),Se=Object.create(null),te=new o.LinkedMap,t.func(P.dispose)&&P.dispose(),t.func(D.dispose)&&D.dispose()},listen:()=>{ct(),Kn(),ke=W.Listening,D.listen(ie)},inspect:()=>{n.default().console.log("inspect")}};return u.onNotification(l.type,v=>{fe===p.Off||!he||he.log(v.message,fe===p.Verbose?v.verbose:void 0)}),u.onNotification(h.type,v=>{const F=B.get(v.token);F?F(v.value):Ge.fire(v)}),u}e.createMessageConnection=S})(or);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.Trace=e.ProgressType=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.RAL=void 0,e.CancellationStrategy=void 0;const n=en;Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});const t=Xt;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return t.Disposable}});const i=ft;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=Vn;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=Qn;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return s.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return s.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return s.ReadableStreamMessageReader}});const c=Gn;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const d=or;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return d.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return d.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return d.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return d.createMessageConnection}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return d.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return d.Trace}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return d.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return d.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return d.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return d.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return d.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return d.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return d.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return d.CancellationStrategy}});const h=Xe;e.RAL=h.default})(Jn);(function(e){var n=ue&&ue.__createBinding||(Object.create?function(h,_,g,p){p===void 0&&(p=g),Object.defineProperty(h,p,{enumerable:!0,get:function(){return _[g]}})}:function(h,_,g,p){p===void 0&&(p=g),h[p]=_[g]}),t=ue&&ue.__exportStar||function(h,_){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(_,g)&&n(_,h,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,$n.default.install();const o=Jn;t(Jn,e);class s extends o.AbstractMessageReader{constructor(_){super();this._onData=new o.Emitter,this._messageListener=g=>{this._onData.fire(g.data)},_.addEventListener("error",g=>this.fireError(g)),_.onmessage=this._messageListener}listen(_){return this._onData.event(_)}}e.BrowserMessageReader=s;class c extends o.AbstractMessageWriter{constructor(_){super();this.context=_,this.errorCount=0,_.addEventListener("error",g=>this.fireError(g))}write(_){try{return this.context.postMessage(_),Promise.resolve()}catch(g){return this.handleError(g,_),Promise.reject(g)}}handleError(_,g){this.errorCount++,this.fireError(_,g,this.errorCount)}end(){}}e.BrowserMessageWriter=c;function d(h,_,g,p){return g===void 0&&(g=o.NullLogger),o.ConnectionStrategy.is(p)&&(p={connectionStrategy:p}),o.createMessageConnection(h,_,g,p)}e.createMessageConnection=d})(nt);var ar={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCollection=e.Disposable=void 0;const n=Xt;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return n.Disposable}});class t{constructor(){this.disposables=[]}dispose(){for(;this.disposables.length!==0;)this.disposables.pop().dispose()}push(o){const s=this.disposables;return s.push(o),{dispose(){const c=s.indexOf(o);c!==-1&&s.splice(c,1)}}}}e.DisposableCollection=t})(ar);var Xn={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.WebSocketMessageReader=void 0;const bo=Qn;class Do extends bo.AbstractMessageReader{constructor(n){super();this.socket=n,this.state="initial",this.events=[],this.socket.onMessage(t=>this.readMessage(t)),this.socket.onError(t=>this.fireError(t)),this.socket.onClose((t,i)=>{if(t!==1e3){const o={name:""+t,message:`Error during socket reconnect: code = ${t}, reason = ${i}`};this.fireError(o)}this.fireClose()})}listen(n){if(this.state==="initial")for(this.state="listening",this.callback=n;this.events.length!==0;){const t=this.events.pop();t.message?this.readMessage(t.message):t.error?this.fireError(t.error):this.fireClose()}return{dispose:()=>{this.callback===n&&(this.callback=void 0)}}}readMessage(n){if(this.state==="initial")this.events.splice(0,0,{message:n});else if(this.state==="listening"){const t=JSON.parse(n);this.callback(t)}}fireError(n){this.state==="initial"?this.events.splice(0,0,{error:n}):this.state==="listening"&&super.fireError(n)}fireClose(){this.state==="initial"?this.events.splice(0,0,{}):this.state==="listening"&&super.fireClose(),this.state="closed"}}Ot.WebSocketMessageReader=Do;var Ft={},wo=ue&&ue.__awaiter||function(e,n,t,i){function o(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function d(g){try{_(i.next(g))}catch(p){c(p)}}function h(g){try{_(i.throw(g))}catch(p){c(p)}}function _(g){g.done?s(g.value):o(g.value).then(d,h)}_((i=i.apply(e,n||[])).next())})};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.WebSocketMessageWriter=void 0;const Ro=Gn;class To extends Ro.AbstractMessageWriter{constructor(n){super();this.socket=n,this.errorCount=0}end(){}write(n){return wo(this,void 0,void 0,function*(){try{const t=JSON.stringify(n);this.socket.send(t)}catch(t){this.errorCount++,this.fireError(t,n,this.errorCount)}})}}Ft.WebSocketMessageWriter=To;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.createWebSocketConnection=void 0;const Po=nt,So=Ot,ko=Ft;function Eo(e,n){const t=new So.WebSocketMessageReader(e),i=new ko.WebSocketMessageWriter(e),o=Po.createMessageConnection(t,i,n);return o.onClose(()=>o.dispose()),o}nn.createWebSocketConnection=Eo;(function(e){var n=ue&&ue.__createBinding||(Object.create?function(i,o,s,c){c===void 0&&(c=s),Object.defineProperty(i,c,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,c){c===void 0&&(c=s),i[c]=o[s]}),t=ue&&ue.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&n(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),t(cr,e),t(Ot,e),t(Ft,e),t(nn,e)})(Xn);var It={};Object.defineProperty(It,"__esModule",{value:!0});It.ConsoleLogger=void 0;class Oo{error(n){console.error(n)}warn(n){console.warn(n)}info(n){console.info(n)}log(n){console.log(n)}debug(n){console.debug(n)}}It.ConsoleLogger=Oo;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.toSocket=yt.listen=void 0;const Fo=Xn,Io=It;function Mo(e){const{webSocket:n,onConnection:t}=e,i=e.logger||new Io.ConsoleLogger;n.onopen=()=>{const o=ur(n),s=Fo.createWebSocketConnection(o,i);t(s)}}yt.listen=Mo;function ur(e){return{send:n=>e.send(n),onMessage:n=>e.onmessage=t=>n(t.data),onError:n=>e.onerror=t=>{"message"in t&&n(t.message)},onClose:n=>e.onclose=t=>n(t.code,t.reason),dispose:()=>e.close()}}yt.toSocket=ur;(function(e){var n=ue&&ue.__createBinding||(Object.create?function(i,o,s,c){c===void 0&&(c=s),Object.defineProperty(i,c,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,c){c===void 0&&(c=s),i[c]=o[s]}),t=ue&&ue.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&n(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),t(nt,e),t(en,e),t(ar,e),t(Xn,e),t(It,e),t(yt,e)})(xn);var qo=tr(xn),Ra=Object.freeze(er({__proto__:null,[Symbol.toStringTag]:"Module",default:qo},[xn])),Zn={},Mt={},Je={},Oe={},dr=nt,Yn={},ei;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647})(ei||(ei={}));var qt;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647})(qt||(qt={}));var Ve;(function(e){function n(i,o){return i===Number.MAX_VALUE&&(i=qt.MAX_VALUE),o===Number.MAX_VALUE&&(o=qt.MAX_VALUE),{line:i,character:o}}e.create=n;function t(i){var o=i;return N.objectLiteral(o)&&N.uinteger(o.line)&&N.uinteger(o.character)}e.is=t})(Ve||(Ve={}));var Ke;(function(e){function n(i,o,s,c){if(N.uinteger(i)&&N.uinteger(o)&&N.uinteger(s)&&N.uinteger(c))return{start:Ve.create(i,o),end:Ve.create(s,c)};if(Ve.is(i)&&Ve.is(o))return{start:i,end:o};throw new Error("Range#create called with invalid arguments["+i+", "+o+", "+s+", "+c+"]")}e.create=n;function t(i){var o=i;return N.objectLiteral(o)&&Ve.is(o.start)&&Ve.is(o.end)}e.is=t})(Ke||(Ke={}));var rn;(function(e){function n(i,o){return{uri:i,range:o}}e.create=n;function t(i){var o=i;return N.defined(o)&&Ke.is(o.range)&&(N.string(o.uri)||N.undefined(o.uri))}e.is=t})(rn||(rn={}));var ti;(function(e){function n(i,o,s,c){return{targetUri:i,targetRange:o,targetSelectionRange:s,originSelectionRange:c}}e.create=n;function t(i){var o=i;return N.defined(o)&&Ke.is(o.targetRange)&&N.string(o.targetUri)&&(Ke.is(o.targetSelectionRange)||N.undefined(o.targetSelectionRange))&&(Ke.is(o.originSelectionRange)||N.undefined(o.originSelectionRange))}e.is=t})(ti||(ti={}));var on;(function(e){function n(i,o,s,c){return{red:i,green:o,blue:s,alpha:c}}e.create=n;function t(i){var o=i;return N.numberRange(o.red,0,1)&&N.numberRange(o.green,0,1)&&N.numberRange(o.blue,0,1)&&N.numberRange(o.alpha,0,1)}e.is=t})(on||(on={}));var ni;(function(e){function n(i,o){return{range:i,color:o}}e.create=n;function t(i){var o=i;return Ke.is(o.range)&&on.is(o.color)}e.is=t})(ni||(ni={}));var ii;(function(e){function n(i,o,s){return{label:i,textEdit:o,additionalTextEdits:s}}e.create=n;function t(i){var o=i;return N.string(o.label)&&(N.undefined(o.textEdit)||it.is(o))&&(N.undefined(o.additionalTextEdits)||N.typedArray(o.additionalTextEdits,it.is))}e.is=t})(ii||(ii={}));var ri;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(ri||(ri={}));var oi;(function(e){function n(i,o,s,c,d){var h={startLine:i,endLine:o};return N.defined(s)&&(h.startCharacter=s),N.defined(c)&&(h.endCharacter=c),N.defined(d)&&(h.kind=d),h}e.create=n;function t(i){var o=i;return N.uinteger(o.startLine)&&N.uinteger(o.startLine)&&(N.undefined(o.startCharacter)||N.uinteger(o.startCharacter))&&(N.undefined(o.endCharacter)||N.uinteger(o.endCharacter))&&(N.undefined(o.kind)||N.string(o.kind))}e.is=t})(oi||(oi={}));var sn;(function(e){function n(i,o){return{location:i,message:o}}e.create=n;function t(i){var o=i;return N.defined(o)&&rn.is(o.location)&&N.string(o.message)}e.is=t})(sn||(sn={}));var si;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(si||(si={}));var ai;(function(e){e.Unnecessary=1,e.Deprecated=2})(ai||(ai={}));var ci;(function(e){function n(t){var i=t;return i!=null&&N.string(i.href)}e.is=n})(ci||(ci={}));var Nt;(function(e){function n(i,o,s,c,d,h){var _={range:i,message:o};return N.defined(s)&&(_.severity=s),N.defined(c)&&(_.code=c),N.defined(d)&&(_.source=d),N.defined(h)&&(_.relatedInformation=h),_}e.create=n;function t(i){var o,s=i;return N.defined(s)&&Ke.is(s.range)&&N.string(s.message)&&(N.number(s.severity)||N.undefined(s.severity))&&(N.integer(s.code)||N.string(s.code)||N.undefined(s.code))&&(N.undefined(s.codeDescription)||N.string((o=s.codeDescription)===null||o===void 0?void 0:o.href))&&(N.string(s.source)||N.undefined(s.source))&&(N.undefined(s.relatedInformation)||N.typedArray(s.relatedInformation,sn.is))}e.is=t})(Nt||(Nt={}));var Ct;(function(e){function n(i,o){for(var s=[],c=2;c<arguments.length;c++)s[c-2]=arguments[c];var d={title:i,command:o};return N.defined(s)&&s.length>0&&(d.arguments=s),d}e.create=n;function t(i){var o=i;return N.defined(o)&&N.string(o.title)&&N.string(o.command)}e.is=t})(Ct||(Ct={}));var it;(function(e){function n(s,c){return{range:s,newText:c}}e.replace=n;function t(s,c){return{range:{start:s,end:s},newText:c}}e.insert=t;function i(s){return{range:s,newText:""}}e.del=i;function o(s){var c=s;return N.objectLiteral(c)&&N.string(c.newText)&&Ke.is(c.range)}e.is=o})(it||(it={}));var gt;(function(e){function n(i,o,s){var c={label:i};return o!==void 0&&(c.needsConfirmation=o),s!==void 0&&(c.description=s),c}e.create=n;function t(i){var o=i;return o!==void 0&&N.objectLiteral(o)&&N.string(o.label)&&(N.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(N.string(o.description)||o.description===void 0)}e.is=t})(gt||(gt={}));var We;(function(e){function n(t){var i=t;return typeof i=="string"}e.is=n})(We||(We={}));var rt;(function(e){function n(s,c,d){return{range:s,newText:c,annotationId:d}}e.replace=n;function t(s,c,d){return{range:{start:s,end:s},newText:c,annotationId:d}}e.insert=t;function i(s,c){return{range:s,newText:"",annotationId:c}}e.del=i;function o(s){var c=s;return it.is(c)&&(gt.is(c.annotationId)||We.is(c.annotationId))}e.is=o})(rt||(rt={}));var Lt;(function(e){function n(i,o){return{textDocument:i,edits:o}}e.create=n;function t(i){var o=i;return N.defined(o)&&At.is(o.textDocument)&&Array.isArray(o.edits)}e.is=t})(Lt||(Lt={}));var _t;(function(e){function n(i,o,s){var c={kind:"create",uri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),s!==void 0&&(c.annotationId=s),c}e.create=n;function t(i){var o=i;return o&&o.kind==="create"&&N.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||N.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||N.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||We.is(o.annotationId))}e.is=t})(_t||(_t={}));var bt;(function(e){function n(i,o,s,c){var d={kind:"rename",oldUri:i,newUri:o};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(d.options=s),c!==void 0&&(d.annotationId=c),d}e.create=n;function t(i){var o=i;return o&&o.kind==="rename"&&N.string(o.oldUri)&&N.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||N.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||N.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||We.is(o.annotationId))}e.is=t})(bt||(bt={}));var Dt;(function(e){function n(i,o,s){var c={kind:"delete",uri:i};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(c.options=o),s!==void 0&&(c.annotationId=s),c}e.create=n;function t(i){var o=i;return o&&o.kind==="delete"&&N.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||N.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||N.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||We.is(o.annotationId))}e.is=t})(Dt||(Dt={}));var an;(function(e){function n(t){var i=t;return i&&(i.changes!==void 0||i.documentChanges!==void 0)&&(i.documentChanges===void 0||i.documentChanges.every(function(o){return N.string(o.kind)?_t.is(o)||bt.is(o)||Dt.is(o):Lt.is(o)}))}e.is=n})(an||(an={}));var cn=function(){function e(n,t){this.edits=n,this.changeAnnotations=t}return e.prototype.insert=function(n,t,i){var o,s;if(i===void 0?o=it.insert(n,t):We.is(i)?(s=i,o=rt.insert(n,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(i),o=rt.insert(n,t,s)),this.edits.push(o),s!==void 0)return s},e.prototype.replace=function(n,t,i){var o,s;if(i===void 0?o=it.replace(n,t):We.is(i)?(s=i,o=rt.replace(n,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(i),o=rt.replace(n,t,s)),this.edits.push(o),s!==void 0)return s},e.prototype.delete=function(n,t){var i,o;if(t===void 0?i=it.del(n):We.is(t)?(o=t,i=rt.del(n,t)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(t),i=rt.del(n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.add=function(n){this.edits.push(n)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(n){if(n===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),lr=function(){function e(n){this._annotations=n===void 0?Object.create(null):n,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(n,t){var i;if(We.is(n)?i=n:(i=this.nextId(),t=n),this._annotations[i]!==void 0)throw new Error("Id "+i+" is already in use.");if(t===void 0)throw new Error("No annotation provided for id "+i);return this._annotations[i]=t,this._size++,i},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),No=function(){function e(n){var t=this;this._textEditChanges=Object.create(null),n!==void 0?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new lr(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(function(i){if(Lt.is(i)){var o=new cn(i.edits,t._changeAnnotations);t._textEditChanges[i.textDocument.uri]=o}})):n.changes&&Object.keys(n.changes).forEach(function(i){var o=new cn(n.changes[i]);t._textEditChanges[i]=o})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(n){if(At.is(n)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var t={uri:n.uri,version:n.version},i=this._textEditChanges[t.uri];if(!i){var o=[],s={textDocument:t,edits:o};this._workspaceEdit.documentChanges.push(s),i=new cn(o,this._changeAnnotations),this._textEditChanges[t.uri]=i}return i}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var i=this._textEditChanges[n];if(!i){var o=[];this._workspaceEdit.changes[n]=o,i=new cn(o),this._textEditChanges[n]=i}return i}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new lr,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(n,t,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;gt.is(t)||We.is(t)?o=t:i=t;var s,c;if(o===void 0?s=_t.create(n,i):(c=We.is(o)?o:this._changeAnnotations.manage(o),s=_t.create(n,i,c)),this._workspaceEdit.documentChanges.push(s),c!==void 0)return c},e.prototype.renameFile=function(n,t,i,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;gt.is(i)||We.is(i)?s=i:o=i;var c,d;if(s===void 0?c=bt.create(n,t,o):(d=We.is(s)?s:this._changeAnnotations.manage(s),c=bt.create(n,t,o,d)),this._workspaceEdit.documentChanges.push(c),d!==void 0)return d},e.prototype.deleteFile=function(n,t,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;gt.is(t)||We.is(t)?o=t:i=t;var s,c;if(o===void 0?s=Dt.create(n,i):(c=We.is(o)?o:this._changeAnnotations.manage(o),s=Dt.create(n,i,c)),this._workspaceEdit.documentChanges.push(s),c!==void 0)return c},e}(),ui;(function(e){function n(i){return{uri:i}}e.create=n;function t(i){var o=i;return N.defined(o)&&N.string(o.uri)}e.is=t})(ui||(ui={}));var di;(function(e){function n(i,o){return{uri:i,version:o}}e.create=n;function t(i){var o=i;return N.defined(o)&&N.string(o.uri)&&N.integer(o.version)}e.is=t})(di||(di={}));var At;(function(e){function n(i,o){return{uri:i,version:o}}e.create=n;function t(i){var o=i;return N.defined(o)&&N.string(o.uri)&&(o.version===null||N.integer(o.version))}e.is=t})(At||(At={}));var li;(function(e){function n(i,o,s,c){return{uri:i,languageId:o,version:s,text:c}}e.create=n;function t(i){var o=i;return N.defined(o)&&N.string(o.uri)&&N.string(o.languageId)&&N.integer(o.version)&&N.string(o.text)}e.is=t})(li||(li={}));var wt;(function(e){e.PlainText="plaintext",e.Markdown="markdown"})(wt||(wt={}));(function(e){function n(t){var i=t;return i===e.PlainText||i===e.Markdown}e.is=n})(wt||(wt={}));var un;(function(e){function n(t){var i=t;return N.objectLiteral(t)&&wt.is(i.kind)&&N.string(i.value)}e.is=n})(un||(un={}));var fi;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(fi||(fi={}));var gi;(function(e){e.PlainText=1,e.Snippet=2})(gi||(gi={}));var hi;(function(e){e.Deprecated=1})(hi||(hi={}));var mi;(function(e){function n(i,o,s){return{newText:i,insert:o,replace:s}}e.create=n;function t(i){var o=i;return o&&N.string(o.newText)&&Ke.is(o.insert)&&Ke.is(o.replace)}e.is=t})(mi||(mi={}));var pi;(function(e){e.asIs=1,e.adjustIndentation=2})(pi||(pi={}));var vi;(function(e){function n(t){return{label:t}}e.create=n})(vi||(vi={}));var yi;(function(e){function n(t,i){return{items:t||[],isIncomplete:!!i}}e.create=n})(yi||(yi={}));var jt;(function(e){function n(i){return i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=n;function t(i){var o=i;return N.string(o)||N.objectLiteral(o)&&N.string(o.language)&&N.string(o.value)}e.is=t})(jt||(jt={}));var Ci;(function(e){function n(t){var i=t;return!!i&&N.objectLiteral(i)&&(un.is(i.contents)||jt.is(i.contents)||N.typedArray(i.contents,jt.is))&&(t.range===void 0||Ke.is(t.range))}e.is=n})(Ci||(Ci={}));var _i;(function(e){function n(t,i){return i?{label:t,documentation:i}:{label:t}}e.create=n})(_i||(_i={}));var bi;(function(e){function n(t,i){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var c={label:t};return N.defined(i)&&(c.documentation=i),N.defined(o)?c.parameters=o:c.parameters=[],c}e.create=n})(bi||(bi={}));var Di;(function(e){e.Text=1,e.Read=2,e.Write=3})(Di||(Di={}));var wi;(function(e){function n(t,i){var o={range:t};return N.number(i)&&(o.kind=i),o}e.create=n})(wi||(wi={}));var Ri;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Ri||(Ri={}));var Ti;(function(e){e.Deprecated=1})(Ti||(Ti={}));var Pi;(function(e){function n(t,i,o,s,c){var d={name:t,kind:i,location:{uri:s,range:o}};return c&&(d.containerName=c),d}e.create=n})(Pi||(Pi={}));var Si;(function(e){function n(i,o,s,c,d,h){var _={name:i,detail:o,kind:s,range:c,selectionRange:d};return h!==void 0&&(_.children=h),_}e.create=n;function t(i){var o=i;return o&&N.string(o.name)&&N.number(o.kind)&&Ke.is(o.range)&&Ke.is(o.selectionRange)&&(o.detail===void 0||N.string(o.detail))&&(o.deprecated===void 0||N.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}e.is=t})(Si||(Si={}));var ki;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(ki||(ki={}));var Ei;(function(e){function n(i,o){var s={diagnostics:i};return o!=null&&(s.only=o),s}e.create=n;function t(i){var o=i;return N.defined(o)&&N.typedArray(o.diagnostics,Nt.is)&&(o.only===void 0||N.typedArray(o.only,N.string))}e.is=t})(Ei||(Ei={}));var Oi;(function(e){function n(i,o,s){var c={title:i},d=!0;return typeof o=="string"?(d=!1,c.kind=o):Ct.is(o)?c.command=o:c.edit=o,d&&s!==void 0&&(c.kind=s),c}e.create=n;function t(i){var o=i;return o&&N.string(o.title)&&(o.diagnostics===void 0||N.typedArray(o.diagnostics,Nt.is))&&(o.kind===void 0||N.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||Ct.is(o.command))&&(o.isPreferred===void 0||N.boolean(o.isPreferred))&&(o.edit===void 0||an.is(o.edit))}e.is=t})(Oi||(Oi={}));var Fi;(function(e){function n(i,o){var s={range:i};return N.defined(o)&&(s.data=o),s}e.create=n;function t(i){var o=i;return N.defined(o)&&Ke.is(o.range)&&(N.undefined(o.command)||Ct.is(o.command))}e.is=t})(Fi||(Fi={}));var Ii;(function(e){function n(i,o){return{tabSize:i,insertSpaces:o}}e.create=n;function t(i){var o=i;return N.defined(o)&&N.uinteger(o.tabSize)&&N.boolean(o.insertSpaces)}e.is=t})(Ii||(Ii={}));var Mi;(function(e){function n(i,o,s){return{range:i,target:o,data:s}}e.create=n;function t(i){var o=i;return N.defined(o)&&Ke.is(o.range)&&(N.undefined(o.target)||N.string(o.target))}e.is=t})(Mi||(Mi={}));var qi;(function(e){function n(i,o){return{range:i,parent:o}}e.create=n;function t(i){var o=i;return o!==void 0&&Ke.is(o.range)&&(o.parent===void 0||e.is(o.parent))}e.is=t})(qi||(qi={}));var Lo=[`
`,`\r
`,"\r"],Ni;(function(e){function n(s,c,d,h){return new Ao(s,c,d,h)}e.create=n;function t(s){var c=s;return!!(N.defined(c)&&N.string(c.uri)&&(N.undefined(c.languageId)||N.string(c.languageId))&&N.uinteger(c.lineCount)&&N.func(c.getText)&&N.func(c.positionAt)&&N.func(c.offsetAt))}e.is=t;function i(s,c){for(var d=s.getText(),h=o(c,function(l,b){var R=l.range.start.line-b.range.start.line;return R===0?l.range.start.character-b.range.start.character:R}),_=d.length,g=h.length-1;g>=0;g--){var p=h[g],y=s.offsetAt(p.range.start),r=s.offsetAt(p.range.end);if(r<=_)d=d.substring(0,y)+p.newText+d.substring(r,d.length);else throw new Error("Overlapping edit");_=y}return d}e.applyEdits=i;function o(s,c){if(s.length<=1)return s;var d=s.length/2|0,h=s.slice(0,d),_=s.slice(d);o(h,c),o(_,c);for(var g=0,p=0,y=0;g<h.length&&p<_.length;){var r=c(h[g],_[p]);r<=0?s[y++]=h[g++]:s[y++]=_[p++]}for(;g<h.length;)s[y++]=h[g++];for(;p<_.length;)s[y++]=_[p++];return s}})(Ni||(Ni={}));var Ao=function(){function e(n,t,i,o){this._uri=n,this._languageId=t,this._version=i,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(n){if(n){var t=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(t,i)}return this._content},e.prototype.update=function(n,t){this._content=n.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var n=[],t=this._content,i=!0,o=0;o<t.length;o++){i&&(n.push(o),i=!1);var s=t.charAt(o);i=s==="\r"||s===`
`,s==="\r"&&o+1<t.length&&t.charAt(o+1)===`
`&&o++}i&&t.length>0&&n.push(t.length),this._lineOffsets=n}return this._lineOffsets},e.prototype.positionAt=function(n){n=Math.max(Math.min(n,this._content.length),0);var t=this.getLineOffsets(),i=0,o=t.length;if(o===0)return Ve.create(0,n);for(;i<o;){var s=Math.floor((i+o)/2);t[s]>n?o=s:i=s+1}var c=i-1;return Ve.create(c,n-t[c])},e.prototype.offsetAt=function(n){var t=this.getLineOffsets();if(n.line>=t.length)return this._content.length;if(n.line<0)return 0;var i=t[n.line],o=n.line+1<t.length?t[n.line+1]:this._content.length;return Math.max(Math.min(i+n.character,o),i)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),N;(function(e){var n=Object.prototype.toString;function t(r){return typeof r!="undefined"}e.defined=t;function i(r){return typeof r=="undefined"}e.undefined=i;function o(r){return r===!0||r===!1}e.boolean=o;function s(r){return n.call(r)==="[object String]"}e.string=s;function c(r){return n.call(r)==="[object Number]"}e.number=c;function d(r,l,b){return n.call(r)==="[object Number]"&&l<=r&&r<=b}e.numberRange=d;function h(r){return n.call(r)==="[object Number]"&&-2147483648<=r&&r<=2147483647}e.integer=h;function _(r){return n.call(r)==="[object Number]"&&0<=r&&r<=2147483647}e.uinteger=_;function g(r){return n.call(r)==="[object Function]"}e.func=g;function p(r){return r!==null&&typeof r=="object"}e.objectLiteral=p;function y(r,l){return Array.isArray(r)&&r.every(l)}e.typedArray=y})(N||(N={}));var jo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get integer(){return ei},get uinteger(){return qt},get Position(){return Ve},get Range(){return Ke},get Location(){return rn},get LocationLink(){return ti},get Color(){return on},get ColorInformation(){return ni},get ColorPresentation(){return ii},get FoldingRangeKind(){return ri},get FoldingRange(){return oi},get DiagnosticRelatedInformation(){return sn},get DiagnosticSeverity(){return si},get DiagnosticTag(){return ai},get CodeDescription(){return ci},get Diagnostic(){return Nt},get Command(){return Ct},get TextEdit(){return it},get ChangeAnnotation(){return gt},get ChangeAnnotationIdentifier(){return We},get AnnotatedTextEdit(){return rt},get TextDocumentEdit(){return Lt},get CreateFile(){return _t},get RenameFile(){return bt},get DeleteFile(){return Dt},get WorkspaceEdit(){return an},WorkspaceChange:No,get TextDocumentIdentifier(){return ui},get VersionedTextDocumentIdentifier(){return di},get OptionalVersionedTextDocumentIdentifier(){return At},get TextDocumentItem(){return li},get MarkupKind(){return wt},get MarkupContent(){return un},get CompletionItemKind(){return fi},get InsertTextFormat(){return gi},get CompletionItemTag(){return hi},get InsertReplaceEdit(){return mi},get InsertTextMode(){return pi},get CompletionItem(){return vi},get CompletionList(){return yi},get MarkedString(){return jt},get Hover(){return Ci},get ParameterInformation(){return _i},get SignatureInformation(){return bi},get DocumentHighlightKind(){return Di},get DocumentHighlight(){return wi},get SymbolKind(){return Ri},get SymbolTag(){return Ti},get SymbolInformation(){return Pi},get DocumentSymbol(){return Si},get CodeActionKind(){return ki},get CodeActionContext(){return Ei},get CodeAction(){return Oi},get CodeLens(){return Fi},get FormattingOptions(){return Ii},get DocumentLink(){return Mi},get SelectionRange(){return qi},EOL:Lo,get TextDocument(){return Ni}}),Ko=Wn(jo),be={};Object.defineProperty(be,"__esModule",{value:!0});be.ProtocolNotificationType=be.ProtocolNotificationType0=be.ProtocolRequestType=be.ProtocolRequestType0=be.RegistrationType=void 0;const Rt=nt;class Ho{constructor(n){this.method=n}}be.RegistrationType=Ho;class Wo extends Rt.RequestType0{constructor(n){super(n)}}be.ProtocolRequestType0=Wo;class xo extends Rt.RequestType{constructor(n){super(n,Rt.ParameterStructures.byName)}}be.ProtocolRequestType=xo;class $o extends Rt.NotificationType0{constructor(n){super(n)}}be.ProtocolNotificationType0=$o;class zo extends Rt.NotificationType{constructor(n){super(n,Rt.ParameterStructures.byName)}}be.ProtocolNotificationType=zo;var fr={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.objectLiteral=Fe.typedArray=Fe.stringArray=Fe.array=Fe.func=Fe.error=Fe.number=Fe.string=Fe.boolean=void 0;function Uo(e){return e===!0||e===!1}Fe.boolean=Uo;function gr(e){return typeof e=="string"||e instanceof String}Fe.string=gr;function Bo(e){return typeof e=="number"||e instanceof Number}Fe.number=Bo;function Jo(e){return e instanceof Error}Fe.error=Jo;function Vo(e){return typeof e=="function"}Fe.func=Vo;function hr(e){return Array.isArray(e)}Fe.array=hr;function Qo(e){return hr(e)&&e.every(n=>gr(n))}Fe.stringArray=Qo;function Go(e,n){return Array.isArray(e)&&e.every(n)}Fe.typedArray=Go;function Xo(e){return e!==null&&typeof e=="object"}Fe.objectLiteral=Xo;var mr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;const n=be;(function(t){t.method="textDocument/implementation",t.type=new n.ProtocolRequestType(t.method)})(e.ImplementationRequest||(e.ImplementationRequest={}))})(mr);var pr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;const n=be;(function(t){t.method="textDocument/typeDefinition",t.type=new n.ProtocolRequestType(t.method)})(e.TypeDefinitionRequest||(e.TypeDefinitionRequest={}))})(pr);var vr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;const n=be;(function(t){t.type=new n.ProtocolRequestType0("workspace/workspaceFolders")})(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})),function(t){t.type=new n.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={}))})(vr);var yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;const n=be;(function(t){t.type=new n.ProtocolRequestType("workspace/configuration")})(e.ConfigurationRequest||(e.ConfigurationRequest={}))})(yr);var Cr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;const n=be;(function(t){t.method="textDocument/documentColor",t.type=new n.ProtocolRequestType(t.method)})(e.DocumentColorRequest||(e.DocumentColorRequest={})),function(t){t.type=new n.ProtocolRequestType("textDocument/colorPresentation")}(e.ColorPresentationRequest||(e.ColorPresentationRequest={}))})(Cr);var _r={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=e.FoldingRangeKind=void 0;const n=be;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(e.FoldingRangeKind||(e.FoldingRangeKind={})),function(t){t.method="textDocument/foldingRange",t.type=new n.ProtocolRequestType(t.method)}(e.FoldingRangeRequest||(e.FoldingRangeRequest={}))})(_r);var br={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;const n=be;(function(t){t.method="textDocument/declaration",t.type=new n.ProtocolRequestType(t.method)})(e.DeclarationRequest||(e.DeclarationRequest={}))})(br);var Dr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;const n=be;(function(t){t.method="textDocument/selectionRange",t.type=new n.ProtocolRequestType(t.method)})(e.SelectionRangeRequest||(e.SelectionRangeRequest={}))})(Dr);var wr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;const n=nt,t=be;(function(i){i.type=new n.ProgressType;function o(s){return s===i.type}i.is=o})(e.WorkDoneProgress||(e.WorkDoneProgress={})),function(i){i.type=new t.ProtocolRequestType("window/workDoneProgress/create")}(e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})),function(i){i.type=new t.ProtocolNotificationType("window/workDoneProgress/cancel")}(e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={}))})(wr);var Rr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;const n=be;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new n.ProtocolRequestType(t.method)})(e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(t){t.method="callHierarchy/incomingCalls",t.type=new n.ProtocolRequestType(t.method)}(e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(t){t.method="callHierarchy/outgoingCalls",t.type=new n.ProtocolRequestType(t.method)}(e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={}))})(Rr);var Tr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=void 0;const n=be;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(e.SemanticTokenTypes||(e.SemanticTokenTypes={})),function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"}(e.SemanticTokenModifiers||(e.SemanticTokenModifiers={})),function(t){function i(o){const s=o;return s!==void 0&&(s.resultId===void 0||typeof s.resultId=="string")&&Array.isArray(s.data)&&(s.data.length===0||typeof s.data[0]=="number")}t.is=i}(e.SemanticTokens||(e.SemanticTokens={})),function(t){t.Relative="relative"}(e.TokenFormat||(e.TokenFormat={})),function(t){t.method="textDocument/semanticTokens",t.type=new n.RegistrationType(t.method)}(e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={})),function(t){t.method="textDocument/semanticTokens/full",t.type=new n.ProtocolRequestType(t.method)}(e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new n.ProtocolRequestType(t.method)}(e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={})),function(t){t.method="textDocument/semanticTokens/range",t.type=new n.ProtocolRequestType(t.method)}(e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={})),function(t){t.method="workspace/semanticTokens/refresh",t.type=new n.ProtocolRequestType0(t.method)}(e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={}))})(Tr);var Pr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;const n=be;(function(t){t.method="window/showDocument",t.type=new n.ProtocolRequestType(t.method)})(e.ShowDocumentRequest||(e.ShowDocumentRequest={}))})(Pr);var Sr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;const n=be;(function(t){t.method="textDocument/linkedEditingRange",t.type=new n.ProtocolRequestType(t.method)})(e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={}))})(Sr);var kr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;const n=be;(function(t){t.file="file",t.folder="folder"})(e.FileOperationPatternKind||(e.FileOperationPatternKind={})),function(t){t.method="workspace/willCreateFiles",t.type=new n.ProtocolRequestType(t.method)}(e.WillCreateFilesRequest||(e.WillCreateFilesRequest={})),function(t){t.method="workspace/didCreateFiles",t.type=new n.ProtocolNotificationType(t.method)}(e.DidCreateFilesNotification||(e.DidCreateFilesNotification={})),function(t){t.method="workspace/willRenameFiles",t.type=new n.ProtocolRequestType(t.method)}(e.WillRenameFilesRequest||(e.WillRenameFilesRequest={})),function(t){t.method="workspace/didRenameFiles",t.type=new n.ProtocolNotificationType(t.method)}(e.DidRenameFilesNotification||(e.DidRenameFilesNotification={})),function(t){t.method="workspace/didDeleteFiles",t.type=new n.ProtocolNotificationType(t.method)}(e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={})),function(t){t.method="workspace/willDeleteFiles",t.type=new n.ProtocolRequestType(t.method)}(e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={}))})(kr);var Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;const n=be;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(e.UniquenessLevel||(e.UniquenessLevel={})),function(t){t.import="import",t.export="export",t.local="local"}(e.MonikerKind||(e.MonikerKind={})),function(t){t.method="textDocument/moniker",t.type=new n.ProtocolRequestType(t.method)}(e.MonikerRequest||(e.MonikerRequest={}))})(Er);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeError=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.DocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=void 0;const n=Fe,t=be,i=mr;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=pr;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=vr;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=yr;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const d=Cr;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return d.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return d.ColorPresentationRequest}});const h=_r;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return h.FoldingRangeRequest}});const _=br;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return _.DeclarationRequest}});const g=Dr;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return g.SelectionRangeRequest}});const p=wr;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const y=Rr;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return y.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return y.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return y.CallHierarchyPrepareRequest}});const r=Tr;Object.defineProperty(e,"SemanticTokenTypes",{enumerable:!0,get:function(){return r.SemanticTokenTypes}}),Object.defineProperty(e,"SemanticTokenModifiers",{enumerable:!0,get:function(){return r.SemanticTokenModifiers}}),Object.defineProperty(e,"SemanticTokens",{enumerable:!0,get:function(){return r.SemanticTokens}}),Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return r.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return r.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return r.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return r.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return r.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return r.SemanticTokensRegistrationType}});const l=Pr;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return l.ShowDocumentRequest}});const b=Sr;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return b.LinkedEditingRangeRequest}});const R=kr;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return R.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return R.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return R.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return R.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return R.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return R.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return R.WillDeleteFilesRequest}});const E=Er;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return E.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return E.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return E.MonikerRequest}});var G;(function(w){function W(S){const D=S;return n.string(D.language)||n.string(D.scheme)||n.string(D.pattern)}w.is=W})(G=e.DocumentFilter||(e.DocumentFilter={}));var ee;(function(w){function W(S){if(!Array.isArray(S))return!1;for(let D of S)if(!n.string(D)&&!G.is(D))return!1;return!0}w.is=W})(ee=e.DocumentSelector||(e.DocumentSelector={})),function(w){w.type=new t.ProtocolRequestType("client/registerCapability")}(e.RegistrationRequest||(e.RegistrationRequest={})),function(w){w.type=new t.ProtocolRequestType("client/unregisterCapability")}(e.UnregistrationRequest||(e.UnregistrationRequest={})),function(w){w.Create="create",w.Rename="rename",w.Delete="delete"}(e.ResourceOperationKind||(e.ResourceOperationKind={})),function(w){w.Abort="abort",w.Transactional="transactional",w.TextOnlyTransactional="textOnlyTransactional",w.Undo="undo"}(e.FailureHandlingKind||(e.FailureHandlingKind={})),function(w){function W(S){const D=S;return D&&n.string(D.id)&&D.id.length>0}w.hasId=W}(e.StaticRegistrationOptions||(e.StaticRegistrationOptions={})),function(w){function W(S){const D=S;return D&&(D.documentSelector===null||ee.is(D.documentSelector))}w.is=W}(e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={})),function(w){function W(D){const P=D;return n.objectLiteral(P)&&(P.workDoneProgress===void 0||n.boolean(P.workDoneProgress))}w.is=W;function S(D){const P=D;return P&&n.boolean(P.workDoneProgress)}w.hasWorkDoneProgress=S}(e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={})),function(w){w.type=new t.ProtocolRequestType("initialize")}(e.InitializeRequest||(e.InitializeRequest={})),function(w){w.unknownProtocolVersion=1}(e.InitializeError||(e.InitializeError={})),function(w){w.type=new t.ProtocolNotificationType("initialized")}(e.InitializedNotification||(e.InitializedNotification={})),function(w){w.type=new t.ProtocolRequestType0("shutdown")}(e.ShutdownRequest||(e.ShutdownRequest={})),function(w){w.type=new t.ProtocolNotificationType0("exit")}(e.ExitNotification||(e.ExitNotification={})),function(w){w.type=new t.ProtocolNotificationType("workspace/didChangeConfiguration")}(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})),function(w){w.Error=1,w.Warning=2,w.Info=3,w.Log=4}(e.MessageType||(e.MessageType={})),function(w){w.type=new t.ProtocolNotificationType("window/showMessage")}(e.ShowMessageNotification||(e.ShowMessageNotification={})),function(w){w.type=new t.ProtocolRequestType("window/showMessageRequest")}(e.ShowMessageRequest||(e.ShowMessageRequest={})),function(w){w.type=new t.ProtocolNotificationType("window/logMessage")}(e.LogMessageNotification||(e.LogMessageNotification={})),function(w){w.type=new t.ProtocolNotificationType("telemetry/event")}(e.TelemetryEventNotification||(e.TelemetryEventNotification={})),function(w){w.None=0,w.Full=1,w.Incremental=2}(e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})),function(w){w.method="textDocument/didOpen",w.type=new t.ProtocolNotificationType(w.method)}(e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})),function(w){function W(D){let P=D;return P!=null&&typeof P.text=="string"&&P.range!==void 0&&(P.rangeLength===void 0||typeof P.rangeLength=="number")}w.isIncremental=W;function S(D){let P=D;return P!=null&&typeof P.text=="string"&&P.range===void 0&&P.rangeLength===void 0}w.isFull=S}(e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={})),function(w){w.method="textDocument/didChange",w.type=new t.ProtocolNotificationType(w.method)}(e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})),function(w){w.method="textDocument/didClose",w.type=new t.ProtocolNotificationType(w.method)}(e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})),function(w){w.method="textDocument/didSave",w.type=new t.ProtocolNotificationType(w.method)}(e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})),function(w){w.Manual=1,w.AfterDelay=2,w.FocusOut=3}(e.TextDocumentSaveReason||(e.TextDocumentSaveReason={})),function(w){w.method="textDocument/willSave",w.type=new t.ProtocolNotificationType(w.method)}(e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})),function(w){w.method="textDocument/willSaveWaitUntil",w.type=new t.ProtocolRequestType(w.method)}(e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})),function(w){w.type=new t.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})),function(w){w.Created=1,w.Changed=2,w.Deleted=3}(e.FileChangeType||(e.FileChangeType={})),function(w){w.Create=1,w.Change=2,w.Delete=4}(e.WatchKind||(e.WatchKind={})),function(w){w.type=new t.ProtocolNotificationType("textDocument/publishDiagnostics")}(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})),function(w){w.Invoked=1,w.TriggerCharacter=2,w.TriggerForIncompleteCompletions=3}(e.CompletionTriggerKind||(e.CompletionTriggerKind={})),function(w){w.method="textDocument/completion",w.type=new t.ProtocolRequestType(w.method)}(e.CompletionRequest||(e.CompletionRequest={})),function(w){w.method="completionItem/resolve",w.type=new t.ProtocolRequestType(w.method)}(e.CompletionResolveRequest||(e.CompletionResolveRequest={})),function(w){w.method="textDocument/hover",w.type=new t.ProtocolRequestType(w.method)}(e.HoverRequest||(e.HoverRequest={})),function(w){w.Invoked=1,w.TriggerCharacter=2,w.ContentChange=3}(e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})),function(w){w.method="textDocument/signatureHelp",w.type=new t.ProtocolRequestType(w.method)}(e.SignatureHelpRequest||(e.SignatureHelpRequest={})),function(w){w.method="textDocument/definition",w.type=new t.ProtocolRequestType(w.method)}(e.DefinitionRequest||(e.DefinitionRequest={})),function(w){w.method="textDocument/references",w.type=new t.ProtocolRequestType(w.method)}(e.ReferencesRequest||(e.ReferencesRequest={})),function(w){w.method="textDocument/documentHighlight",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})),function(w){w.method="textDocument/documentSymbol",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})),function(w){w.method="textDocument/codeAction",w.type=new t.ProtocolRequestType(w.method)}(e.CodeActionRequest||(e.CodeActionRequest={})),function(w){w.method="codeAction/resolve",w.type=new t.ProtocolRequestType(w.method)}(e.CodeActionResolveRequest||(e.CodeActionResolveRequest={})),function(w){w.method="workspace/symbol",w.type=new t.ProtocolRequestType(w.method)}(e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})),function(w){w.method="textDocument/codeLens",w.type=new t.ProtocolRequestType(w.method)}(e.CodeLensRequest||(e.CodeLensRequest={})),function(w){w.method="codeLens/resolve",w.type=new t.ProtocolRequestType(w.method)}(e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})),function(w){w.method="workspace/codeLens/refresh",w.type=new t.ProtocolRequestType0(w.method)}(e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={})),function(w){w.method="textDocument/documentLink",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentLinkRequest||(e.DocumentLinkRequest={})),function(w){w.method="documentLink/resolve",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})),function(w){w.method="textDocument/formatting",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})),function(w){w.method="textDocument/rangeFormatting",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})),function(w){w.method="textDocument/onTypeFormatting",w.type=new t.ProtocolRequestType(w.method)}(e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})),function(w){w.Identifier=1}(e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={})),function(w){w.method="textDocument/rename",w.type=new t.ProtocolRequestType(w.method)}(e.RenameRequest||(e.RenameRequest={})),function(w){w.method="textDocument/prepareRename",w.type=new t.ProtocolRequestType(w.method)}(e.PrepareRenameRequest||(e.PrepareRenameRequest={})),function(w){w.type=new t.ProtocolRequestType("workspace/executeCommand")}(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})),function(w){w.type=new t.ProtocolRequestType("workspace/applyEdit")}(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={}))})(fr);var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.createProtocolConnection=void 0;const Or=nt;function Zo(e,n,t,i){return Or.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),Or.createMessageConnection(e,n,t,i)}dn.createProtocolConnection=Zo;(function(e){var n=ue&&ue.__createBinding||(Object.create?function(o,s,c,d){d===void 0&&(d=c),Object.defineProperty(o,d,{enumerable:!0,get:function(){return s[c]}})}:function(o,s,c,d){d===void 0&&(d=c),o[d]=s[c]}),t=ue&&ue.__exportStar||function(o,s){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&n(s,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,t(nt,e),t(Ko,e),t(be,e),t(fr,e);var i=dn;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return i.createProtocolConnection}}),function(o){o.lspReservedErrorRangeStart=-32899,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800}(e.LSPErrorCodes||(e.LSPErrorCodes={}))})(Yn);(function(e){var n=ue&&ue.__createBinding||(Object.create?function(s,c,d,h){h===void 0&&(h=d),Object.defineProperty(s,h,{enumerable:!0,get:function(){return c[d]}})}:function(s,c,d,h){h===void 0&&(h=d),s[h]=c[d]}),t=ue&&ue.__exportStar||function(s,c){for(var d in s)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&n(c,s,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const i=dr;t(dr,e),t(Yn,e);function o(s,c,d,h){return i.createMessageConnection(s,c,d,h)}e.createProtocolConnection=o})(Oe);class Kt{constructor(n,t,i,o){this._uri=n,this._languageId=t,this._version=i,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){const t=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(t,i)}return this._content}update(n,t){for(let i of n)if(Kt.isIncremental(i)){const o=Ir(i.range),s=this.offsetAt(o.start),c=this.offsetAt(o.end);this._content=this._content.substring(0,s)+i.text+this._content.substring(c,this._content.length);const d=Math.max(o.start.line,0),h=Math.max(o.end.line,0);let _=this._lineOffsets;const g=Fr(i.text,!1,s);if(h-d===g.length)for(let y=0,r=g.length;y<r;y++)_[y+d+1]=g[y];else g.length<1e4?_.splice(d+1,h-d,...g):this._lineOffsets=_=_.slice(0,d+1).concat(g,_.slice(h+1));const p=i.text.length-(c-s);if(p!==0)for(let y=d+1+g.length,r=_.length;y<r;y++)_[y]=_[y]+p}else if(Kt.isFull(i))this._content=i.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Fr(this._content,!0)),this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);let t=this.getLineOffsets(),i=0,o=t.length;if(o===0)return{line:0,character:n};for(;i<o;){let c=Math.floor((i+o)/2);t[c]>n?o=c:i=c+1}let s=i-1;return{line:s,character:n-t[s]}}offsetAt(n){let t=this.getLineOffsets();if(n.line>=t.length)return this._content.length;if(n.line<0)return 0;let i=t[n.line],o=n.line+1<t.length?t[n.line+1]:this._content.length;return Math.max(Math.min(i+n.character,o),i)}get lineCount(){return this.getLineOffsets().length}static isIncremental(n){let t=n;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(n){let t=n;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}}var Li;(function(e){function n(o,s,c,d){return new Kt(o,s,c,d)}e.create=n;function t(o,s,c){if(o instanceof Kt)return o.update(s,c),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=t;function i(o,s){let c=o.getText(),d=Ai(s.map(Yo),(g,p)=>{let y=g.range.start.line-p.range.start.line;return y===0?g.range.start.character-p.range.start.character:y}),h=0;const _=[];for(const g of d){let p=o.offsetAt(g.range.start);if(p<h)throw new Error("Overlapping edit");p>h&&_.push(c.substring(h,p)),g.newText.length&&_.push(g.newText),h=o.offsetAt(g.range.end)}return _.push(c.substr(h)),_.join("")}e.applyEdits=i})(Li||(Li={}));function Ai(e,n){if(e.length<=1)return e;const t=e.length/2|0,i=e.slice(0,t),o=e.slice(t);Ai(i,n),Ai(o,n);let s=0,c=0,d=0;for(;s<i.length&&c<o.length;)n(i[s],o[c])<=0?e[d++]=i[s++]:e[d++]=o[c++];for(;s<i.length;)e[d++]=i[s++];for(;c<o.length;)e[d++]=o[c++];return e}function Fr(e,n,t=0){const i=n?[t]:[];for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);(s===13||s===10)&&(s===13&&o+1<e.length&&e.charCodeAt(o+1)===10&&o++,i.push(t+o+1))}return i}function Ir(e){const n=e.start,t=e.end;return n.line>t.line||n.line===t.line&&n.character>t.character?{start:t,end:n}:e}function Yo(e){const n=Ir(e.range);return n!==e.range?{newText:e.newText,range:n}:e}var es=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get TextDocument(){return Li}}),Mr=Wn(es);(function(e){var n=ue&&ue.__createBinding||(Object.create?function(d,h,_,g){g===void 0&&(g=_),Object.defineProperty(d,g,{enumerable:!0,get:function(){return h[_]}})}:function(d,h,_,g){g===void 0&&(g=_),d[g]=h[_]}),t=ue&&ue.__exportStar||function(d,h){for(var _ in d)_!=="default"&&!Object.prototype.hasOwnProperty.call(h,_)&&n(h,d,_)};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationTarget=e.DocumentIdentifier=e.ProgressLocation=e.VsCodeDiagnosticSeverity=e.SignatureHelpTriggerKind=e.isDocumentSelector=e.Services=e.TextDocument=e.Emitter=e.Event=e.CancellationToken=e.Disposable=void 0;const i=Oe,o=Mr;Object.defineProperty(e,"TextDocument",{enumerable:!0,get:function(){return o.TextDocument}});const s=nt;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return s.Disposable}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}}),Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return s.Emitter}}),t(Yn,e),function(d){const h=window,_=Symbol("Services");d.get=()=>{const p=h[_];if(!p)throw new Error("Language Client services has not been installed");return p};function g(p){return h[_]&&console.warn("Language Client services have been overridden"),h[_]=p,s.Disposable.create(()=>h[_]=void 0)}d.install=g}(e.Services||(e.Services={}));function c(d){return!d||!Array.isArray(d)?!1:d.every(h=>typeof h=="string"||i.DocumentFilter.is(h))}e.isDocumentSelector=c,function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"}(e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})),function(d){d[d.Error=0]="Error",d[d.Warning=1]="Warning",d[d.Information=2]="Information",d[d.Hint=3]="Hint"}(e.VsCodeDiagnosticSeverity||(e.VsCodeDiagnosticSeverity={})),function(d){d[d.SourceControl=1]="SourceControl",d[d.Window=10]="Window",d[d.Notification=15]="Notification"}(e.ProgressLocation||(e.ProgressLocation={})),function(d){function h(_){return!!_&&"uri"in _&&"languageId"in _}d.is=h}(e.DocumentIdentifier||(e.DocumentIdentifier={})),function(d){d[d.Global=1]="Global",d[d.Workspace=2]="Workspace",d[d.WorkspaceFolder=3]="WorkspaceFolder"}(e.ConfigurationTarget||(e.ConfigurationTarget={}))})(Je);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCollection=e.Disposable=void 0;const n=Je;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return n.Disposable}});class t{constructor(){this.disposables=[]}dispose(){for(;this.disposables.length!==0;)this.disposables.pop().dispose()}push(o){const s=this.disposables;return s.push(o),{dispose(){const c=s.indexOf(o);c!==-1&&s.splice(c,1)}}}}e.DisposableCollection=t})(Mt);var ln={},ot=ue&&ue.__awaiter||function(e,n,t,i){function o(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function d(g){try{_(i.next(g))}catch(p){c(p)}}function h(g){try{_(i.throw(g))}catch(p){c(p)}}function _(g){g.done?s(g.value):o(g.value).then(d,h)}_((i=i.apply(e,n||[])).next())})};Object.defineProperty(ln,"__esModule",{value:!0});ln.createConnection=void 0;const ze=Oe,fn=Fe;function ts(e,n,t){return e.onError(i=>{n(i[0],i[1],i[2])}),e.onClose(t),{listen:()=>e.listen(),sendRequest:(i,...o)=>e.sendRequest(fn.string(i)?i:i.method,...o),onRequest:(i,o)=>e.onRequest(fn.string(i)?i:i.method,o),sendNotification:(i,o)=>ot(this,void 0,void 0,function*(){return e.sendNotification(fn.string(i)?i:i.method,o)}),onNotification:(i,o)=>e.onNotification(fn.string(i)?i:i.method,o),onProgress:(i,o,s)=>e.onProgress(i,o,s),sendProgress:(i,o,s)=>ot(this,void 0,void 0,function*(){return e.sendProgress(i,o,s)}),trace:(i,o,s=!1)=>e.trace(i,o,s),initialize:i=>e.sendRequest(ze.InitializeRequest.type,i),shutdown:()=>e.sendRequest(ze.ShutdownRequest.type,void 0),exit:()=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.ExitNotification.type)}),onLogMessage:i=>e.onNotification(ze.LogMessageNotification.type,i),onShowMessage:i=>e.onNotification(ze.ShowMessageNotification.type,i),onTelemetry:i=>e.onNotification(ze.TelemetryEventNotification.type,i),didChangeConfiguration:i=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.DidChangeConfigurationNotification.type,i)}),didChangeWatchedFiles:i=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.DidChangeWatchedFilesNotification.type,i)}),didOpenTextDocument:i=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.DidOpenTextDocumentNotification.type,i)}),didChangeTextDocument:i=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.DidChangeTextDocumentNotification.type,i)}),didCloseTextDocument:i=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.DidCloseTextDocumentNotification.type,i)}),didSaveTextDocument:i=>ot(this,void 0,void 0,function*(){return e.sendNotification(ze.DidSaveTextDocumentNotification.type,i)}),onDiagnostics:i=>e.onNotification(ze.PublishDiagnosticsNotification.type,i),dispose:()=>e.dispose(),end:()=>e.end()}}ln.createConnection=ts;var qr={},Ze={},gn={},Nr;Nr=(()=>{var e={470:i=>{function o(d){if(typeof d!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(d))}function s(d,h){for(var _,g="",p=0,y=-1,r=0,l=0;l<=d.length;++l){if(l<d.length)_=d.charCodeAt(l);else{if(_===47)break;_=47}if(_===47){if(!(y===l-1||r===1))if(y!==l-1&&r===2){if(g.length<2||p!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var b=g.lastIndexOf("/");if(b!==g.length-1){b===-1?(g="",p=0):p=(g=g.slice(0,b)).length-1-g.lastIndexOf("/"),y=l,r=0;continue}}else if(g.length===2||g.length===1){g="",p=0,y=l,r=0;continue}}h&&(g.length>0?g+="/..":g="..",p=2)}else g.length>0?g+="/"+d.slice(y+1,l):g=d.slice(y+1,l),p=l-y-1;y=l,r=0}else _===46&&r!==-1?++r:r=-1}return g}var c={resolve:function(){for(var d,h="",_=!1,g=arguments.length-1;g>=-1&&!_;g--){var p;g>=0?p=arguments[g]:(d===void 0&&(d=process.cwd()),p=d),o(p),p.length!==0&&(h=p+"/"+h,_=p.charCodeAt(0)===47)}return h=s(h,!_),_?h.length>0?"/"+h:"/":h.length>0?h:"."},normalize:function(d){if(o(d),d.length===0)return".";var h=d.charCodeAt(0)===47,_=d.charCodeAt(d.length-1)===47;return(d=s(d,!h)).length!==0||h||(d="."),d.length>0&&_&&(d+="/"),h?"/"+d:d},isAbsolute:function(d){return o(d),d.length>0&&d.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var d,h=0;h<arguments.length;++h){var _=arguments[h];o(_),_.length>0&&(d===void 0?d=_:d+="/"+_)}return d===void 0?".":c.normalize(d)},relative:function(d,h){if(o(d),o(h),d===h||(d=c.resolve(d))===(h=c.resolve(h)))return"";for(var _=1;_<d.length&&d.charCodeAt(_)===47;++_);for(var g=d.length,p=g-_,y=1;y<h.length&&h.charCodeAt(y)===47;++y);for(var r=h.length-y,l=p<r?p:r,b=-1,R=0;R<=l;++R){if(R===l){if(r>l){if(h.charCodeAt(y+R)===47)return h.slice(y+R+1);if(R===0)return h.slice(y+R)}else p>l&&(d.charCodeAt(_+R)===47?b=R:R===0&&(b=0));break}var E=d.charCodeAt(_+R);if(E!==h.charCodeAt(y+R))break;E===47&&(b=R)}var G="";for(R=_+b+1;R<=g;++R)R!==g&&d.charCodeAt(R)!==47||(G.length===0?G+="..":G+="/..");return G.length>0?G+h.slice(y+b):(y+=b,h.charCodeAt(y)===47&&++y,h.slice(y))},_makeLong:function(d){return d},dirname:function(d){if(o(d),d.length===0)return".";for(var h=d.charCodeAt(0),_=h===47,g=-1,p=!0,y=d.length-1;y>=1;--y)if((h=d.charCodeAt(y))===47){if(!p){g=y;break}}else p=!1;return g===-1?_?"/":".":_&&g===1?"//":d.slice(0,g)},basename:function(d,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');o(d);var _,g=0,p=-1,y=!0;if(h!==void 0&&h.length>0&&h.length<=d.length){if(h.length===d.length&&h===d)return"";var r=h.length-1,l=-1;for(_=d.length-1;_>=0;--_){var b=d.charCodeAt(_);if(b===47){if(!y){g=_+1;break}}else l===-1&&(y=!1,l=_+1),r>=0&&(b===h.charCodeAt(r)?--r==-1&&(p=_):(r=-1,p=l))}return g===p?p=l:p===-1&&(p=d.length),d.slice(g,p)}for(_=d.length-1;_>=0;--_)if(d.charCodeAt(_)===47){if(!y){g=_+1;break}}else p===-1&&(y=!1,p=_+1);return p===-1?"":d.slice(g,p)},extname:function(d){o(d);for(var h=-1,_=0,g=-1,p=!0,y=0,r=d.length-1;r>=0;--r){var l=d.charCodeAt(r);if(l!==47)g===-1&&(p=!1,g=r+1),l===46?h===-1?h=r:y!==1&&(y=1):h!==-1&&(y=-1);else if(!p){_=r+1;break}}return h===-1||g===-1||y===0||y===1&&h===g-1&&h===_+1?"":d.slice(h,g)},format:function(d){if(d===null||typeof d!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof d);return function(h,_){var g=_.dir||_.root,p=_.base||(_.name||"")+(_.ext||"");return g?g===_.root?g+p:g+"/"+p:p}(0,d)},parse:function(d){o(d);var h={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return h;var _,g=d.charCodeAt(0),p=g===47;p?(h.root="/",_=1):_=0;for(var y=-1,r=0,l=-1,b=!0,R=d.length-1,E=0;R>=_;--R)if((g=d.charCodeAt(R))!==47)l===-1&&(b=!1,l=R+1),g===46?y===-1?y=R:E!==1&&(E=1):y!==-1&&(E=-1);else if(!b){r=R+1;break}return y===-1||l===-1||E===0||E===1&&y===l-1&&y===r+1?l!==-1&&(h.base=h.name=r===0&&p?d.slice(1,l):d.slice(r,l)):(r===0&&p?(h.name=d.slice(1,y),h.base=d.slice(1,l)):(h.name=d.slice(r,y),h.base=d.slice(r,l)),h.ext=d.slice(y,l)),r>0?h.dir=d.slice(0,r-1):p&&(h.dir="/"),h},sep:"/",delimiter:":",win32:null,posix:null};c.posix=c,i.exports=c},447:(i,o,s)=>{var c;if(s.r(o),s.d(o,{URI:()=>G,Utils:()=>Pe}),typeof process=="object")c=process.platform==="win32";else if(typeof navigator=="object"){var d=navigator.userAgent;c=d.indexOf("Windows")>=0}var h,_,g=(h=function(j,L){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,B){z.__proto__=B}||function(z,B){for(var ne in B)Object.prototype.hasOwnProperty.call(B,ne)&&(z[ne]=B[ne])})(j,L)},function(j,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function z(){this.constructor=j}h(j,L),j.prototype=L===null?Object.create(L):(z.prototype=L.prototype,new z)}),p=/^\w[\w\d+.-]*$/,y=/^\//,r=/^\/\//;function l(j,L){if(!j.scheme&&L)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(j.authority,'", path: "').concat(j.path,'", query: "').concat(j.query,'", fragment: "').concat(j.fragment,'"}'));if(j.scheme&&!p.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path){if(j.authority){if(!y.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(r.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var b="",R="/",E=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,G=function(){function j(L,z,B,ne,te,se){se===void 0&&(se=!1),typeof L=="object"?(this.scheme=L.scheme||b,this.authority=L.authority||b,this.path=L.path||b,this.query=L.query||b,this.fragment=L.fragment||b):(this.scheme=function(Se,fe){return Se||fe?Se:"file"}(L,se),this.authority=z||b,this.path=function(Se,fe){switch(Se){case"https":case"http":case"file":fe?fe[0]!==R&&(fe=R+fe):fe=R}return fe}(this.scheme,B||b),this.query=ne||b,this.fragment=te||b,l(this,se))}return j.isUri=function(L){return L instanceof j||!!L&&typeof L.authority=="string"&&typeof L.fragment=="string"&&typeof L.path=="string"&&typeof L.query=="string"&&typeof L.scheme=="string"&&typeof L.fsPath=="string"&&typeof L.with=="function"&&typeof L.toString=="function"},Object.defineProperty(j.prototype,"fsPath",{get:function(){return P(this,!1)},enumerable:!1,configurable:!0}),j.prototype.with=function(L){if(!L)return this;var z=L.scheme,B=L.authority,ne=L.path,te=L.query,se=L.fragment;return z===void 0?z=this.scheme:z===null&&(z=b),B===void 0?B=this.authority:B===null&&(B=b),ne===void 0?ne=this.path:ne===null&&(ne=b),te===void 0?te=this.query:te===null&&(te=b),se===void 0?se=this.fragment:se===null&&(se=b),z===this.scheme&&B===this.authority&&ne===this.path&&te===this.query&&se===this.fragment?this:new w(z,B,ne,te,se)},j.parse=function(L,z){z===void 0&&(z=!1);var B=E.exec(L);return B?new w(B[2]||b,re(B[4]||b),re(B[5]||b),re(B[7]||b),re(B[9]||b),z):new w(b,b,b,b,b)},j.file=function(L){var z=b;if(c&&(L=L.replace(/\\/g,R)),L[0]===R&&L[1]===R){var B=L.indexOf(R,2);B===-1?(z=L.substring(2),L=R):(z=L.substring(2,B),L=L.substring(B)||R)}return new w("file",z,L,b,b)},j.from=function(L){var z=new w(L.scheme,L.authority,L.path,L.query,L.fragment);return l(z,!0),z},j.prototype.toString=function(L){return L===void 0&&(L=!1),M(this,L)},j.prototype.toJSON=function(){return this},j.revive=function(L){if(L){if(L instanceof j)return L;var z=new w(L);return z._formatted=L.external,z._fsPath=L._sep===ee?L.fsPath:null,z}return L},j}(),ee=c?1:void 0,w=function(j){function L(){var z=j!==null&&j.apply(this,arguments)||this;return z._formatted=null,z._fsPath=null,z}return g(L,j),Object.defineProperty(L.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),L.prototype.toString=function(z){return z===void 0&&(z=!1),z?M(this,!0):(this._formatted||(this._formatted=M(this,!1)),this._formatted)},L.prototype.toJSON=function(){var z={$mid:1};return this._fsPath&&(z.fsPath=this._fsPath,z._sep=ee),this._formatted&&(z.external=this._formatted),this.path&&(z.path=this.path),this.scheme&&(z.scheme=this.scheme),this.authority&&(z.authority=this.authority),this.query&&(z.query=this.query),this.fragment&&(z.fragment=this.fragment),z},L}(G),W=((_={})[58]="%3A",_[47]="%2F",_[63]="%3F",_[35]="%23",_[91]="%5B",_[93]="%5D",_[64]="%40",_[33]="%21",_[36]="%24",_[38]="%26",_[39]="%27",_[40]="%28",_[41]="%29",_[42]="%2A",_[43]="%2B",_[44]="%2C",_[59]="%3B",_[61]="%3D",_[32]="%20",_);function S(j,L){for(var z=void 0,B=-1,ne=0;ne<j.length;ne++){var te=j.charCodeAt(ne);if(te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===45||te===46||te===95||te===126||L&&te===47)B!==-1&&(z+=encodeURIComponent(j.substring(B,ne)),B=-1),z!==void 0&&(z+=j.charAt(ne));else{z===void 0&&(z=j.substr(0,ne));var se=W[te];se!==void 0?(B!==-1&&(z+=encodeURIComponent(j.substring(B,ne)),B=-1),z+=se):B===-1&&(B=ne)}}return B!==-1&&(z+=encodeURIComponent(j.substring(B))),z!==void 0?z:j}function D(j){for(var L=void 0,z=0;z<j.length;z++){var B=j.charCodeAt(z);B===35||B===63?(L===void 0&&(L=j.substr(0,z)),L+=W[B]):L!==void 0&&(L+=j[z])}return L!==void 0?L:j}function P(j,L){var z;return z=j.authority&&j.path.length>1&&j.scheme==="file"?"//".concat(j.authority).concat(j.path):j.path.charCodeAt(0)===47&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&j.path.charCodeAt(2)===58?L?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,c&&(z=z.replace(/\//g,"\\")),z}function M(j,L){var z=L?D:S,B="",ne=j.scheme,te=j.authority,se=j.path,Se=j.query,fe=j.fragment;if(ne&&(B+=ne,B+=":"),(te||ne==="file")&&(B+=R,B+=R),te){var we=te.indexOf("@");if(we!==-1){var he=te.substr(0,we);te=te.substr(we+1),(we=he.indexOf(":"))===-1?B+=z(he,!1):(B+=z(he.substr(0,we),!1),B+=":",B+=z(he.substr(we+1),!1)),B+="@"}(we=(te=te.toLowerCase()).indexOf(":"))===-1?B+=z(te,!1):(B+=z(te.substr(0,we),!1),B+=te.substr(we))}if(se){if(se.length>=3&&se.charCodeAt(0)===47&&se.charCodeAt(2)===58)(ke=se.charCodeAt(1))>=65&&ke<=90&&(se="/".concat(String.fromCharCode(ke+32),":").concat(se.substr(3)));else if(se.length>=2&&se.charCodeAt(1)===58){var ke;(ke=se.charCodeAt(0))>=65&&ke<=90&&(se="".concat(String.fromCharCode(ke+32),":").concat(se.substr(2)))}B+=z(se,!0)}return Se&&(B+="?",B+=z(Se,!1)),fe&&(B+="#",B+=L?fe:S(fe,!1)),B}function K(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+K(j.substr(3)):j}}var x=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function re(j){return j.match(x)?j.replace(x,function(L){return K(L)}):j}var Pe,Re=s(470),Q=function(j,L,z){if(z||arguments.length===2)for(var B,ne=0,te=L.length;ne<te;ne++)!B&&ne in L||(B||(B=Array.prototype.slice.call(L,0,ne)),B[ne]=L[ne]);return j.concat(B||Array.prototype.slice.call(L))},$=Re.posix||Re;(function(j){j.joinPath=function(L){for(var z=[],B=1;B<arguments.length;B++)z[B-1]=arguments[B];return L.with({path:$.join.apply($,Q([L.path],z,!1))})},j.resolvePath=function(L){for(var z=[],B=1;B<arguments.length;B++)z[B-1]=arguments[B];var ne=L.path||"/";return L.with({path:$.resolve.apply($,Q([ne],z,!1))})},j.dirname=function(L){var z=$.dirname(L.path);return z.length===1&&z.charCodeAt(0)===46?L:L.with({path:z})},j.basename=function(L){return $.basename(L.path)},j.extname=function(L){return $.extname(L.path)}})(Pe||(Pe={}))}},n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{}};return e[i](o,o.exports,t),o.exports}return t.d=(i,o)=>{for(var s in o)t.o(o,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},t.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),t.r=i=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t(447)})();const{URI:ns,Utils:is}=Nr;var rs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",URI:ns,Utils:is}),os=Wn(rs),ss=ue&&ue.__awaiter||function(e,n,t,i){function o(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function d(g){try{_(i.next(g))}catch(p){c(p)}}function h(g){try{_(i.throw(g))}catch(p){c(p)}}function _(g){g.done?s(g.value):o(g.value).then(d,h)}_((i=i.apply(e,n||[])).next())})};Object.defineProperty(gn,"__esModule",{value:!0});gn.createVSCodeApi=void 0;const Lr=os,Te=Mt,oe=Je,ji=Je,Ki=Oe;function as(e){const n=()=>{throw new Error("unsupported")},t=class extends Lr.URI{static joinPath(D,...P){return n()}};class i{constructor(D,P){this.label=D,this.kind=P}}class o{constructor(D,P){this.range=D,this.command=P}get isResolved(){return!!this.command}}class s{constructor(D,P){this.range=D,this.target=P}}class c{constructor(D){this.value=D,this.contains=n,this.intersects=n}append(D){return new c(this.value?this.value+c.sep+D:D)}}c.sep=".",c.Empty=new c(""),c.QuickFix=new c("quickfix"),c.Refactor=new c("refactor"),c.RefactorExtract=c.Refactor.append("extract"),c.RefactorInline=c.Refactor.append("inline"),c.RefactorRewrite=c.Refactor.append("rewrite"),c.Source=new c("source"),c.SourceOrganizeImports=c.Source.append("organizeImports"),c.SourceFixAll=c.Source.append("fixAll");class d{constructor(D,P,M=Ki.DiagnosticSeverity.Error){this.range=D,this.message=P,this.severity=M}}class h{constructor(D,P,M,K,x,re){this.kind=D,this.name=P,this.detail=M,this.uri=K,this.range=x,this.selectionRange=re}}class _{constructor(D,P){this.title=D,this.kind=P}}class g{constructor(D,P){this.data=D,this.resultId=P}}class p{isWritableFileSystem(D){return!1}stat(D){throw new Error("Method not implemented.")}readDirectory(D){return Promise.resolve([])}createDirectory(D){return Promise.resolve()}readFile(D){return Promise.resolve(new Uint8Array(0))}writeFile(D,P){return Promise.resolve()}delete(D,P){return Promise.resolve()}rename(D,P,M){return Promise.resolve()}copy(D,P,M){return Promise.resolve()}}const y={fs:new p,workspaceFile:void 0,createFileSystemWatcher(S,D,P,M){const K=e();if(typeof S!="string")throw new Error("unsupported");if(K.workspace.createFileSystemWatcher){const x=K.workspace.createFileSystemWatcher(S,D,P,M);return Object.assign(x,{ignoreCreateEvents:!!D,ignoreChangeEvents:!!P,ignoreDeleteEvents:!!M})}return{ignoreCreateEvents:!!D,ignoreChangeEvents:!!P,ignoreDeleteEvents:!!M,onDidCreate:oe.Event.None,onDidChange:oe.Event.None,onDidDelete:oe.Event.None,dispose:()=>{}}},applyEdit:S=>ss(this,void 0,void 0,function*(){const D=e();if(oe.WorkspaceEdit.is(S))return D.workspace.applyEdit(S);throw new Error("unsupported")}),getConfiguration(S,D){const{workspace:P}=e(),M=P.configurations?P.configurations.getConfiguration(S,D?D.toString():void 0):void 0;return Object.assign({get:(x,re)=>M?M.get(x,re):re,has:x=>M?M.has(x):!1,inspect:n,update:n},{toJSON:()=>M?M.toJSON():void 0})},get onDidChangeConfiguration(){const S=e();return S.workspace.configurations?S.workspace.configurations.onDidChangeConfiguration:oe.Event.None},get workspaceFolders(){const S=e();if("workspaceFolders"in S.workspace)return S.workspace.workspaceFolders;const D=S.workspace.rootUri;if(!D)return;const P=t.parse(D);return[{uri:P,index:0,name:P.toString()}]},get onDidChangeWorkspaceFolders(){return e().workspace.onDidChangeWorkspaceFolders||oe.Event.None},get textDocuments(){return e().workspace.textDocuments},get onDidOpenTextDocument(){return e().workspace.onDidOpenTextDocument},get onDidCloseTextDocument(){return e().workspace.onDidCloseTextDocument},get onDidChangeTextDocument(){const S=e();return(D,P,M)=>S.workspace.onDidChangeTextDocument(({textDocument:K,contentChanges:x})=>{D.bind(P)({document:K,contentChanges:x})},void 0,M)},get onWillSaveTextDocument(){const D=e().workspace.onWillSaveTextDocument;return D?(P,M,K)=>D(({textDocument:x,reason:re,waitUntil:Pe})=>{P.bind(M)({document:x,reason:re,waitUntil:Q=>{Pe&&Pe(Q)}})},void 0,K):oe.Event.None},get onDidSaveTextDocument(){return e().workspace.onDidSaveTextDocument||oe.Event.None},get onWillCreateFiles(){return oe.Event.None},get onDidCreateFiles(){return oe.Event.None},get onWillDeleteFiles(){return oe.Event.None},get onDidDeleteFiles(){return oe.Event.None},get onWillRenameFiles(){return oe.Event.None},get onDidRenameFiles(){return oe.Event.None},getWorkspaceFolder:n,asRelativePath:n,updateWorkspaceFolders:n,findFiles:n,saveAll:n,openTextDocument:n,registerTextDocumentContentProvider:n,registerTaskProvider:n,registerFileSystemProvider:n,rootPath:void 0,name:void 0};function r(S){return S instanceof Lr.URI!==void 0}class l{constructor(D){this.name=D||"default",this.services=e(),this.collection=this.services.languages.createDiagnosticCollection?this.services.languages.createDiagnosticCollection(D):void 0}entries(){}set(D,P){function M(x){return x}function K(x){return x!=null&&typeof x=="object"?x.value:x}r(D)?this.collection&&(P?this.collection.set(D.toString(),P.map(x=>({range:x.range,code:K(x.code),source:x.source,message:x.message,tags:x.tags,relatedInformation:void 0,severity:M(x.severity)}))):this.collection.set(D.toString(),[])):D.forEach(x=>{this.set(x[0],x[1])})}dispose(){this.collection&&this.collection.dispose()}delete(D){}clear(){}forEach(D,P){}get(D){}has(D){return!1}}const b={match(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));if(!oe.DocumentIdentifier.is(D))throw new Error("unexpected document: "+JSON.stringify(D));return e().languages.match(S,D)?1:0},registerCallHierarchyProvider(S,D){return{dispose(){}}},createDiagnosticCollection(S){return new l(S)},registerCompletionItemProvider(S,D,...P){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:M}=e();if(!M.registerCompletionItemProvider)return Te.Disposable.create(()=>{});const K=D.resolveCompletionItem;return M.registerCompletionItemProvider(S,{provideCompletionItems({textDocument:x,position:re,context:Pe},Re){return D.provideCompletionItems(x,re,Re,Pe||{triggerKind:oe.CompletionTriggerKind.Invoked})},resolveCompletionItem:K?(x,re)=>K(x,re):void 0},...P)},registerCodeActionsProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerCodeActionsProvider?P.registerCodeActionsProvider(S,{provideCodeActions({textDocument:M,range:K,context:x},re){return D.provideCodeActions(M,K,x,re)},resolveCodeAction:D.resolveCodeAction?(M,K)=>D.resolveCodeAction(M,K):void 0}):Te.Disposable.create(()=>{})},registerCodeLensProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();if(!P.registerCodeLensProvider)return Te.Disposable.create(()=>{});const M=D.resolveCodeLens;return P.registerCodeLensProvider(S,{provideCodeLenses({textDocument:K},x){return D.provideCodeLenses(K,x)},resolveCodeLens:M?(K,x)=>M(K,x):void 0})},registerDefinitionProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerDefinitionProvider?P.registerDefinitionProvider(S,{provideDefinition({textDocument:M,position:K},x){return D.provideDefinition(M,K,x)}}):Te.Disposable.create(()=>{})},registerImplementationProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerImplementationProvider?P.registerImplementationProvider(S,{provideImplementation({textDocument:M,position:K},x){return D.provideImplementation(M,K,x)}}):Te.Disposable.create(()=>{})},registerTypeDefinitionProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerTypeDefinitionProvider?P.registerTypeDefinitionProvider(S,{provideTypeDefinition({textDocument:M,position:K},x){return D.provideTypeDefinition(M,K,x)}}):Te.Disposable.create(()=>{})},registerDeclarationProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerDeclarationProvider?P.registerDeclarationProvider(S,{provideDeclaration({textDocument:M,position:K},x){return D.provideDeclaration(M,K,x)}}):Te.Disposable.create(()=>{})},registerHoverProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerHoverProvider?P.registerHoverProvider(S,{provideHover({textDocument:M,position:K},x){return D.provideHover(M,K,x)}}):Te.Disposable.create(()=>{})},registerDocumentHighlightProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerDocumentHighlightProvider?P.registerDocumentHighlightProvider(S,{provideDocumentHighlights({textDocument:M,position:K},x){return D.provideDocumentHighlights(M,K,x)}}):Te.Disposable.create(()=>{})},registerDocumentSymbolProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerDocumentSymbolProvider?P.registerDocumentSymbolProvider(S,{provideDocumentSymbols({textDocument:M},K){return D.provideDocumentSymbols(M,K)}}):Te.Disposable.create(()=>{})},registerWorkspaceSymbolProvider(S){const{languages:D}=e();return D.registerWorkspaceSymbolProvider?D.registerWorkspaceSymbolProvider({provideWorkspaceSymbols({query:P},M){return S.provideWorkspaceSymbols(P,M)}}):Te.Disposable.create(()=>{})},registerReferenceProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerReferenceProvider?P.registerReferenceProvider(S,{provideReferences({textDocument:M,position:K,context:x},re){return D.provideReferences(M,K,x,re)}}):Te.Disposable.create(()=>{})},registerRenameProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerRenameProvider?P.registerRenameProvider(S,{provideRenameEdits({textDocument:M,position:K,newName:x},re){return D.provideRenameEdits(M,K,x,re)}}):Te.Disposable.create(()=>{})},registerDocumentFormattingEditProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerDocumentFormattingEditProvider?P.registerDocumentFormattingEditProvider(S,{provideDocumentFormattingEdits({textDocument:M,options:K},x){return D.provideDocumentFormattingEdits(M,K,x)}}):Te.Disposable.create(()=>{})},registerDocumentRangeFormattingEditProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerDocumentRangeFormattingEditProvider?P.registerDocumentRangeFormattingEditProvider(S,{provideDocumentRangeFormattingEdits({textDocument:M,range:K,options:x},re){return D.provideDocumentRangeFormattingEdits(M,K,x,re)}}):Te.Disposable.create(()=>{})},registerOnTypeFormattingEditProvider(S,D,P,...M){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:K}=e();return K.registerOnTypeFormattingEditProvider?K.registerOnTypeFormattingEditProvider(S,{provideOnTypeFormattingEdits({textDocument:x,position:re,ch:Pe,options:Re},Q){return D.provideOnTypeFormattingEdits(x,re,Pe,Re,Q)}},P,...M):Te.Disposable.create(()=>{})},registerSignatureHelpProvider(S,D,P,...M){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:K}=e();if(!K.registerSignatureHelpProvider)return Te.Disposable.create(()=>{});let x,re;return typeof P=="string"?x=[P,...M]:P&&(x=P.triggerCharacters,re=P.retriggerCharacters),K.registerSignatureHelpProvider(S,{triggerCharacters:x,retriggerCharacters:re,provideSignatureHelp({textDocument:Pe,position:Re},Q,$){return D.provideSignatureHelp(Pe,Re,Q,$)}})},registerDocumentLinkProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();if(!P.registerDocumentLinkProvider)return Te.Disposable.create(()=>{});const M=D.resolveDocumentLink;return P.registerDocumentLinkProvider(S,{provideDocumentLinks({textDocument:K},x){return D.provideDocumentLinks(K,x)},resolveDocumentLink:M?(K,x)=>M(K,x):void 0})},registerColorProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerColorProvider?P.registerColorProvider(S,{provideDocumentColors({textDocument:M},K){return D.provideDocumentColors(M,K)},provideColorPresentations({textDocument:M,color:K,range:x},re){return D.provideColorPresentations(K,{document:M,range:x},re)}}):Te.Disposable.create(()=>{})},registerFoldingRangeProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerFoldingRangeProvider?P.registerFoldingRangeProvider(S,{provideFoldingRanges({textDocument:M},K){return D.provideFoldingRanges(M,{},K)}}):Te.Disposable.create(()=>{})},registerSelectionRangeProvider(S,D){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:P}=e();return P.registerSelectionRangeProvider?P.registerSelectionRangeProvider(S,{provideSelectionRanges({textDocument:M,positions:K},x){return D.provideSelectionRanges(M,K,x)}}):Te.Disposable.create(()=>{})},registerEvaluatableExpressionProvider:n,registerDocumentSemanticTokensProvider(S,D,P){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:M}=e();return M.registerDocumentSemanticTokensProvider?M.registerDocumentSemanticTokensProvider(S,{onDidChange:D.onDidChangeSemanticTokens,provideDocumentSemanticTokens({textDocument:K},x){return D.provideDocumentSemanticTokens(K,x)},provideDocumentSemanticTokensEdits:D.provideDocumentSemanticTokensEdits&&(({textDocument:K,previousResultId:x},re)=>D.provideDocumentSemanticTokensEdits(K,x,re))},P):Te.Disposable.create(()=>{})},registerDocumentRangeSemanticTokensProvider(S,D,P){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));const{languages:M}=e();return M.registerDocumentRangeSemanticTokensProvider?M.registerDocumentRangeSemanticTokensProvider(S,{provideDocumentRangeSemanticTokens({textDocument:K,range:x},re){return D.provideDocumentRangeSemanticTokens(K,x,re)}},P):Te.Disposable.create(()=>{})},getLanguages:n,setTextDocumentLanguage:n,getDiagnostics:n,setLanguageConfiguration:n,onDidChangeDiagnostics:n,registerLinkedEditingRangeProvider:n};function R(S,D,...P){if(typeof D!="string")throw new Error("unexpected message: "+JSON.stringify(D));const M=D;if(P!==void 0&&!Array.isArray(P))throw new Error("unexpected actions: "+JSON.stringify(P));const K=P||[],{window:x}=e();return x?x.showMessage(S,M,...K):Promise.resolve(void 0)}const E={showInformationMessage:R.bind(void 0,oe.MessageType.Info),showWarningMessage:R.bind(void 0,oe.MessageType.Warning),showErrorMessage:R.bind(void 0,oe.MessageType.Error),createOutputChannel(S){const{window:D}=e(),P=D?D.createOutputChannel:void 0,M=P?P.bind(D)(S):void 0;return{name:S,append:M?M.append.bind(M):()=>{},appendLine:M?M.appendLine.bind(M):()=>{},clear:n,show:K=>{if(K!==void 0&&typeof K!="boolean")throw new Error("unexpected preserveFocus argument: "+JSON.stringify(K,void 0,4));return M?M.show(K):()=>{}},hide:n,dispose:M?M.dispose.bind(M):()=>{}}},withProgress:(S,D)=>{const{window:P}=e();return P&&P.withProgress?P.withProgress(S,D):D({report:()=>{}},new Ki.CancellationTokenSource().token)},showTextDocument:n,createTextEditorDecorationType:n,showQuickPick:n,showWorkspaceFolderPick:n,showOpenDialog:n,showSaveDialog:n,showInputBox:n,createWebviewPanel:n,setStatusBarMessage:n,withScmProgress:n,createStatusBarItem:n,createTerminal:n,registerTreeDataProvider:n,createTreeView:n,registerWebviewPanelSerializer:n,get activeTextEditor(){return n()},get visibleTextEditors(){return n()},onDidChangeActiveTextEditor:n,onDidChangeVisibleTextEditors:n,onDidChangeTextEditorSelection:n,onDidChangeTextEditorVisibleRanges:n,onDidChangeTextEditorOptions:n,onDidChangeTextEditorViewColumn:n,get terminals(){return n()},get activeTerminal(){return n()},onDidChangeActiveTerminal:n,onDidOpenTerminal:n,onDidCloseTerminal:n,get state(){return n()},onDidChangeWindowState:n,createQuickPick:n,createInputBox:n,registerUriHandler:n,registerWebviewViewProvider:n,registerCustomEditorProvider:n,registerTerminalLinkProvider:n,get activeColorTheme(){return n()},onDidChangeActiveColorTheme:n,registerFileDecorationProvider:n},G={registerCommand(S,D,P){const{commands:M}=e();return M?M.registerCommand(S,D,P):Te.Disposable.create(()=>{})},registerTextEditorCommand:n,executeCommand:n,getCommands:n};class ee{constructor(D){this.callOnDispose=D}static from(...D){let P=D;return new ee(function(){if(P){for(const M of P)M&&typeof M.dispose=="function"&&M.dispose();P=void 0}})}dispose(){this.callOnDispose()}}const w={appName:"Monaco",appRoot:"",language:navigator.language||"en-US",get uriScheme(){return n()},get clipboard(){return n()},get machineId(){return n()},get sessionId(){return n()},remoteName:void 0,shell:"",uiKind:2,asExternalUri:n,openExternal:n};return{workspace:y,languages:b,window:E,commands:G,env:w,Uri:t,CompletionItem:i,CodeLens:o,DocumentLink:s,CodeActionKind:c,CodeAction:_,Diagnostic:d,CallHierarchyItem:h,SemanticTokens:g,Disposable:ee,SignatureHelpTriggerKind:oe.SignatureHelpTriggerKind,DiagnosticSeverity:ji.DiagnosticSeverity,EventEmitter:ji.Emitter,CancellationTokenSource:Ki.CancellationTokenSource,ProgressLocation:ji.ProgressLocation}}gn.createVSCodeApi=as;const cs=gn,us=Je;var Ae=(0,cs.createVSCodeApi)(us.Services.get),ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.toJSONObject=ht.ConfigurationFeature=void 0;const Hi=Ae,ds=Oe;class ls{constructor(n){this._client=n}fillClientCapabilities(n){n.workspace=n.workspace||{},n.workspace.configuration=!0}initialize(){let n=this._client;n.onRequest(ds.ConfigurationRequest.type,(t,i)=>{let o=c=>{let d=[];for(let h of c.items){let _=h.scopeUri!==void 0&&h.scopeUri!==null?this._client.protocol2CodeConverter.asUri(h.scopeUri):void 0;d.push(this.getConfiguration(_,h.section!==null?h.section:void 0))}return d},s=n.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(t,i,o):o(t,i)})}getConfiguration(n,t){let i=null;if(t){let o=t.lastIndexOf(".");if(o===-1)i=Tt(Hi.workspace.getConfiguration(void 0,n).get(t));else{let s=Hi.workspace.getConfiguration(t.substr(0,o),n);s&&(i=Tt(s.get(t.substr(o+1))))}}else{let o=Hi.workspace.getConfiguration(void 0,n);i={};for(let s of Object.keys(o))o.has(s)&&(i[s]=Tt(o.get(s)))}return i===void 0&&(i=null),i}dispose(){}}ht.ConfigurationFeature=ls;function Tt(e){if(e){if(Array.isArray(e))return e.map(Tt);if(typeof e=="object"){const n=Object.create(null);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=Tt(e[t]));return n}}return e}ht.toJSONObject=Tt;var hn={},De={};Object.defineProperty(De,"__esModule",{value:!0});De.asPromise=De.thenable=De.typedArray=De.stringArray=De.array=De.func=De.error=De.number=De.string=De.boolean=void 0;function fs(e){return e===!0||e===!1}De.boolean=fs;function Ar(e){return typeof e=="string"||e instanceof String}De.string=Ar;function gs(e){return typeof e=="number"||e instanceof Number}De.number=gs;function hs(e){return e instanceof Error}De.error=hs;function jr(e){return typeof e=="function"}De.func=jr;function Kr(e){return Array.isArray(e)}De.array=Kr;function ms(e){return Kr(e)&&e.every(n=>Ar(n))}De.stringArray=ms;function ps(e,n){return Array.isArray(e)&&e.every(n)}De.typedArray=ps;function Hr(e){return e&&jr(e.then)}De.thenable=Hr;function vs(e){return e instanceof Promise?e:Hr(e)?new Promise((n,t)=>{e.then(i=>n(i),i=>t(i))}):Promise.resolve(e)}De.asPromise=vs;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const ys=Ae;class Cs extends ys.CompletionItem{constructor(n){super(n)}}mn.default=Cs;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});const _s=Ae;class bs extends _s.CodeLens{constructor(n){super(n)}}pn.default=bs;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});const Ds=Ae;class ws extends Ds.DocumentLink{constructor(n,t){super(n,t)}}vn.default=ws;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const Rs=Ae;class Ts extends Rs.CodeAction{constructor(n,t){super(n);this.data=t}}yn.default=Ts;var Wi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolDiagnostic=e.DiagnosticCode=void 0;const n=Ae,t=De;(function(o){function s(c){const d=c;return d!=null&&(t.number(d.value)||t.string(d.value))&&t.string(d.target)}o.is=s})(e.DiagnosticCode||(e.DiagnosticCode={}));class i extends n.Diagnostic{constructor(s,c,d,h){super(s,c,d);this.data=h,this.hasDiagnosticCode=!1}}e.ProtocolDiagnostic=i})(Wi);var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const Ps=Ae;class Ss extends Ps.CallHierarchyItem{constructor(n,t,i,o,s,c,d){super(n,t,i,o,s,c);d!==void 0&&(this.data=d)}}Cn.default=Ss;Object.defineProperty(hn,"__esModule",{value:!0});hn.createConverter=void 0;const He=Ae,Ce=Oe,Ht=De,ks=mn,Es=pn,Os=vn,Fs=yn,Wr=Wi,Is=Cn,Ms=Oe;var xi;(function(e){function n(t){const i=t;return i&&!!i.inserting&&!!i.replacing}e.is=n})(xi||(xi={}));function qs(e){const t=e||(C=>C.toString());function i(C){return t(C)}function o(C){return{uri:t(C.uri)}}function s(C){return{uri:t(C.uri),version:C.version}}function c(C){return{textDocument:{uri:t(C.uri),languageId:C.languageId,version:C.version,text:C.getText()}}}function d(C){let I=C;return!!I.document&&!!I.contentChanges}function h(C){let I=C;return!!I.uri&&!!I.version}function _(C){if(h(C))return{textDocument:{uri:t(C.uri),version:C.version},contentChanges:[{text:C.getText()}]};if(d(C)){let I=C.document;return{textDocument:{uri:t(I.uri),version:I.version},contentChanges:C.contentChanges.map(ae=>{let Ie=ae.range;return{range:{start:{line:Ie.start.line,character:Ie.start.character},end:{line:Ie.end.line,character:Ie.end.character}},rangeLength:ae.rangeLength,text:ae.text}})}}else throw Error("Unsupported text document change parameter")}function g(C){return{textDocument:o(C)}}function p(C,I=!1){let X={textDocument:o(C)};return I&&(X.text=C.getText()),X}function y(C){switch(C){case He.TextDocumentSaveReason.Manual:return Ce.TextDocumentSaveReason.Manual;case He.TextDocumentSaveReason.AfterDelay:return Ce.TextDocumentSaveReason.AfterDelay;case He.TextDocumentSaveReason.FocusOut:return Ce.TextDocumentSaveReason.FocusOut}return Ce.TextDocumentSaveReason.Manual}function r(C){return{textDocument:o(C.document),reason:y(C.reason)}}function l(C){return{files:C.files.map(I=>({uri:t(I)}))}}function b(C){return{files:C.files.map(I=>({oldUri:t(I.oldUri),newUri:t(I.newUri)}))}}function R(C){return{files:C.files.map(I=>({uri:t(I)}))}}function E(C){return{files:C.files.map(I=>({uri:t(I)}))}}function G(C){return{files:C.files.map(I=>({oldUri:t(I.oldUri),newUri:t(I.newUri)}))}}function ee(C){return{files:C.files.map(I=>({uri:t(I)}))}}function w(C,I){return{textDocument:o(C),position:Re(I)}}function W(C){switch(C){case He.CompletionTriggerKind.TriggerCharacter:return Ce.CompletionTriggerKind.TriggerCharacter;case He.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ce.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ce.CompletionTriggerKind.Invoked}}function S(C,I,X){return{textDocument:o(C),position:Re(I),context:{triggerKind:W(X.triggerKind),triggerCharacter:X.triggerCharacter}}}function D(C){switch(C){case He.SignatureHelpTriggerKind.Invoke:return Ce.SignatureHelpTriggerKind.Invoked;case He.SignatureHelpTriggerKind.TriggerCharacter:return Ce.SignatureHelpTriggerKind.TriggerCharacter;case He.SignatureHelpTriggerKind.ContentChange:return Ce.SignatureHelpTriggerKind.ContentChange}}function P(C){return{label:C.label}}function M(C){return C.map(P)}function K(C){return{label:C.label,parameters:M(C.parameters)}}function x(C){return C.map(K)}function re(C){return C===void 0?C:{signatures:x(C.signatures),activeSignature:C.activeSignature,activeParameter:C.activeParameter}}function Pe(C,I,X){return{textDocument:o(C),position:Re(I),context:{isRetrigger:X.isRetrigger,triggerCharacter:X.triggerCharacter,triggerKind:D(X.triggerKind),activeSignatureHelp:re(X.activeSignatureHelp)}}}function Re(C){return{line:C.line,character:C.character}}function Q(C){return C==null?C:{line:C.line,character:C.character}}function $(C){let I=[];for(let X of C)I.push(Q(X));return I}function j(C){return C==null?C:{start:Q(C.start),end:Q(C.end)}}function L(C){return C==null?C:Ce.Location.create(i(C.uri),j(C.range))}function z(C){switch(C){case He.DiagnosticSeverity.Error:return Ce.DiagnosticSeverity.Error;case He.DiagnosticSeverity.Warning:return Ce.DiagnosticSeverity.Warning;case He.DiagnosticSeverity.Information:return Ce.DiagnosticSeverity.Information;case He.DiagnosticSeverity.Hint:return Ce.DiagnosticSeverity.Hint}}function B(C){if(!C)return;let I=[];for(let X of C){let ae=ne(X);ae!==void 0&&I.push(ae)}return I.length>0?I:void 0}function ne(C){switch(C){case He.DiagnosticTag.Unnecessary:return Ce.DiagnosticTag.Unnecessary;case He.DiagnosticTag.Deprecated:return Ce.DiagnosticTag.Deprecated;default:return}}function te(C){return{message:C.message,location:L(C.location)}}function se(C){return C.map(te)}function Se(C){if(C!=null)return Ht.number(C)||Ht.string(C)?C:{value:C.value,target:i(C.target)}}function fe(C){const I=Ce.Diagnostic.create(j(C.range),C.message),X=C instanceof Wr.ProtocolDiagnostic?C:void 0;X!==void 0&&X.data!==void 0&&(I.data=X.data);const ae=Se(C.code);return Wr.DiagnosticCode.is(ae)?X!==void 0&&X.hasDiagnosticCode?I.code=ae:(I.code=ae.value,I.codeDescription={href:ae.target}):I.code=ae,Ht.number(C.severity)&&(I.severity=z(C.severity)),Array.isArray(C.tags)&&(I.tags=B(C.tags)),C.relatedInformation&&(I.relatedInformation=se(C.relatedInformation)),C.source&&(I.source=C.source),I}function we(C){return C==null?C:C.map(fe)}function he(C,I){switch(C){case"$string":return I;case Ce.MarkupKind.PlainText:return{kind:C,value:I};case Ce.MarkupKind.Markdown:return{kind:C,value:I.value};default:return`Unsupported Markup content received. Kind is: ${C}`}}function ke(C){switch(C){case He.CompletionItemTag.Deprecated:return Ce.CompletionItemTag.Deprecated}}function Be(C){if(C===void 0)return C;const I=[];for(let X of C){const ae=ke(X);ae!==void 0&&I.push(ae)}return I}function Ye(C,I){return I!==void 0?I:C+1}function st(C){let I={label:C.label},X=C instanceof ks.default?C:void 0;C.detail&&(I.detail=C.detail),C.documentation&&(!X||X.documentationFormat==="$string"?I.documentation=C.documentation:I.documentation=he(X.documentationFormat,C.documentation)),C.filterText&&(I.filterText=C.filterText),Ge(I,C),Ht.number(C.kind)&&(I.kind=Ye(C.kind,X&&X.originalItemKind)),C.sortText&&(I.sortText=C.sortText),C.additionalTextEdits&&(I.additionalTextEdits=tt(C.additionalTextEdits)),C.commitCharacters&&(I.commitCharacters=C.commitCharacters.slice()),C.command&&(I.command=T(C.command)),(C.preselect===!0||C.preselect===!1)&&(I.preselect=C.preselect);const ae=Be(C.tags);if(X){if(X.data!==void 0&&(I.data=X.data),X.deprecated===!0||X.deprecated===!1){if(X.deprecated===!0&&ae!==void 0&&ae.length>0){const Ie=ae.indexOf(He.CompletionItemTag.Deprecated);Ie!==-1&&ae.splice(Ie,1)}I.deprecated=X.deprecated}X.insertTextMode!==void 0&&(I.insertTextMode=X.insertTextMode)}return ae!==void 0&&ae.length>0&&(I.tags=ae),I.insertTextMode===void 0&&C.keepWhitespace===!0&&(I.insertTextMode=Ms.InsertTextMode.adjustIndentation),I}function Ge(C,I){let X=Ce.InsertTextFormat.PlainText,ae,Ie;I.textEdit?(ae=I.textEdit.newText,Ie=I.textEdit.range):I.insertText instanceof He.SnippetString?(X=Ce.InsertTextFormat.Snippet,ae=I.insertText.value):ae=I.insertText,I.range&&(Ie=I.range),C.insertTextFormat=X,I.fromEdit&&ae!==void 0&&Ie!==void 0?C.textEdit=et(ae,Ie):C.insertText=ae}function et(C,I){return xi.is(I)?Ce.InsertReplaceEdit.create(C,j(I.inserting),j(I.replacing)):{newText:C,range:j(I)}}function xe(C){return{range:j(C.range),newText:C.newText}}function tt(C){return C==null?C:C.map(xe)}function Me(C){return C<=He.SymbolKind.TypeParameter?C+1:Ce.SymbolKind.Property}function U(C){return C}function a(C){return C.map(U)}function f(C,I,X){return{textDocument:o(C),position:Re(I),context:{includeDeclaration:X.includeDeclaration}}}function m(C){let I=Ce.CodeAction.create(C.title);if(C instanceof Fs.default&&C.data!==void 0&&(I.data=C.data),C.kind!==void 0&&(I.kind=k(C.kind)),C.diagnostics!==void 0&&(I.diagnostics=we(C.diagnostics)),C.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return C.command!==void 0&&(I.command=T(C.command)),C.isPreferred!==void 0&&(I.isPreferred=C.isPreferred),C.disabled!==void 0&&(I.disabled={reason:C.disabled.reason}),I}function O(C){if(C==null)return C;let I;return C.only&&Ht.string(C.only.value)&&(I=[C.only.value]),Ce.CodeActionContext.create(we(C.diagnostics),I)}function k(C){if(C!=null)return C.value}function T(C){let I=Ce.Command.create(C.title,C.command);return C.arguments&&(I.arguments=C.arguments),I}function A(C){let I=Ce.CodeLens.create(j(C.range));return C.command&&(I.command=T(C.command)),C instanceof Es.default&&C.data&&(I.data=C.data),I}function q(C,I){const X={tabSize:C.tabSize,insertSpaces:C.insertSpaces};return I.trimTrailingWhitespace&&(X.trimTrailingWhitespace=!0),I.trimFinalNewlines&&(X.trimFinalNewlines=!0),I.insertFinalNewline&&(X.insertFinalNewline=!0),X}function J(C){return{textDocument:o(C)}}function Y(C){return{textDocument:o(C)}}function ie(C){let I=Ce.DocumentLink.create(j(C.range));C.target&&(I.target=i(C.target)),C.tooltip!==void 0&&(I.tooltip=C.tooltip);let X=C instanceof Os.default?C:void 0;return X&&X.data&&(I.data=X.data),I}function me(C){return{textDocument:o(C)}}function pe(C){const I={name:C.name,kind:Me(C.kind),uri:i(C.uri),range:j(C.range),selectionRange:j(C.selectionRange)};return C.detail!==void 0&&C.detail.length>0&&(I.detail=C.detail),C.tags!==void 0&&(I.tags=a(C.tags)),C instanceof Is.default&&C.data!==void 0&&(I.data=C.data),I}return{asUri:i,asTextDocumentIdentifier:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:c,asChangeTextDocumentParams:_,asCloseTextDocumentParams:g,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:r,asDidCreateFilesParams:l,asDidRenameFilesParams:b,asDidDeleteFilesParams:R,asWillCreateFilesParams:E,asWillRenameFilesParams:G,asWillDeleteFilesParams:ee,asTextDocumentPositionParams:w,asCompletionParams:S,asSignatureHelpParams:Pe,asWorkerPosition:Re,asRange:j,asPosition:Q,asPositions:$,asLocation:L,asDiagnosticSeverity:z,asDiagnosticTag:ne,asDiagnostic:fe,asDiagnostics:we,asCompletionItem:st,asTextEdit:xe,asSymbolKind:Me,asSymbolTag:U,asSymbolTags:a,asReferenceParams:f,asCodeAction:m,asCodeActionContext:O,asCommand:T,asCodeLens:A,asFormattingOptions:q,asDocumentSymbolParams:J,asCodeLensParams:Y,asDocumentLink:ie,asDocumentLinkParams:me,asCallHierarchyItem:pe}}hn.createConverter=qs;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.createConverter=void 0;const Z=Ae,le=Oe,Qe=De,Ns=mn,Ls=pn,As=vn,js=yn,xr=Wi,Ks=Cn,$r=Oe;var bn;(function(e){function n(t){let i=t;return i&&Qe.string(i.language)&&Qe.string(i.value)}e.is=n})(bn||(bn={}));function Hs(e,n){const i=e||(u=>Z.Uri.parse(u));function o(u){return i(u)}function s(u){return u.map(c)}function c(u){let v=new xr.ProtocolDiagnostic(y(u.range),u.message,l(u.severity),u.data);return u.code!==void 0&&(le.CodeDescription.is(u.codeDescription)?v.code={value:u.code,target:o(u.codeDescription.href)}:xr.DiagnosticCode.is(u.code)?(v.hasDiagnosticCode=!0,v.code={value:u.code.value,target:o(u.code.target)}):v.code=u.code),u.source&&(v.source=u.source),u.relatedInformation&&(v.relatedInformation=d(u.relatedInformation)),Array.isArray(u.tags)&&(v.tags=_(u.tags)),v}function d(u){return u.map(h)}function h(u){return new Z.DiagnosticRelatedInformation(j(u.location),u.message)}function _(u){if(!u)return;let v=[];for(let F of u){let H=g(F);H!==void 0&&v.push(H)}return v.length>0?v:void 0}function g(u){switch(u){case le.DiagnosticTag.Unnecessary:return Z.DiagnosticTag.Unnecessary;case le.DiagnosticTag.Deprecated:return Z.DiagnosticTag.Deprecated;default:return}}function p(u){if(!!u)return new Z.Position(u.line,u.character)}function y(u){if(!!u)return new Z.Range(p(u.start),p(u.end))}function r(u){return u.map(v=>y(v))}function l(u){if(u==null)return Z.DiagnosticSeverity.Error;switch(u){case le.DiagnosticSeverity.Error:return Z.DiagnosticSeverity.Error;case le.DiagnosticSeverity.Warning:return Z.DiagnosticSeverity.Warning;case le.DiagnosticSeverity.Information:return Z.DiagnosticSeverity.Information;case le.DiagnosticSeverity.Hint:return Z.DiagnosticSeverity.Hint}return Z.DiagnosticSeverity.Error}function b(u){if(Qe.string(u))return E(u);if(bn.is(u))return E().appendCodeblock(u.value,u.language);if(Array.isArray(u)){let v=[];for(let F of u){let H=E();bn.is(F)?H.appendCodeblock(F.value,F.language):H.appendMarkdown(F),v.push(H)}return v}else{let v;switch(u.kind){case le.MarkupKind.Markdown:return E(u.value);case le.MarkupKind.PlainText:return v=E(),v.appendText(u.value),v;default:return v=E(),v.appendText(`Unsupported Markup content received. Kind is: ${u.kind}`),v}}}function R(u){if(Qe.string(u))return u;switch(u.kind){case le.MarkupKind.Markdown:return E(u.value);case le.MarkupKind.PlainText:return u.value;default:return`Unsupported Markup content received. Kind is: ${u.kind}`}}function E(u){const v=new Z.MarkdownString(u);return n===!0&&(v.isTrusted=n),v}function G(u){if(!!u)return new Z.Hover(b(u.contents),y(u.range))}function ee(u){if(!u)return;if(Array.isArray(u))return u.map(D);let v=u;return new Z.CompletionList(v.items.map(D),v.isIncomplete)}function w(u){return le.CompletionItemKind.Text<=u&&u<=le.CompletionItemKind.TypeParameter?[u-1,void 0]:[Z.CompletionItemKind.Text,u]}function W(u){switch(u){case le.CompletionItemTag.Deprecated:return Z.CompletionItemTag.Deprecated}}function S(u){if(u==null)return[];const v=[];for(let F of u){const H=W(F);H!==void 0&&v.push(H)}return v}function D(u){let v=S(u.tags),F=new Ns.default(u.label);u.detail&&(F.detail=u.detail),u.documentation&&(F.documentation=R(u.documentation),F.documentationFormat=Qe.string(u.documentation)?"$string":u.documentation.kind),u.filterText&&(F.filterText=u.filterText);let H=P(u);if(H&&(F.insertText=H.text,F.range=H.range,F.fromEdit=H.fromEdit),Qe.number(u.kind)){let[V,de]=w(u.kind);F.kind=V,de&&(F.originalItemKind=de)}return u.sortText&&(F.sortText=u.sortText),u.additionalTextEdits&&(F.additionalTextEdits=x(u.additionalTextEdits)),Qe.stringArray(u.commitCharacters)&&(F.commitCharacters=u.commitCharacters.slice()),u.command&&(F.command=xe(u.command)),(u.deprecated===!0||u.deprecated===!1)&&(F.deprecated=u.deprecated,u.deprecated===!0&&v.push(Z.CompletionItemTag.Deprecated)),(u.preselect===!0||u.preselect===!1)&&(F.preselect=u.preselect),u.data!==void 0&&(F.data=u.data),v.length>0&&(F.tags=v),u.insertTextMode!==void 0&&(F.insertTextMode=u.insertTextMode,u.insertTextMode===$r.InsertTextMode.asIs&&(F.keepWhitespace=!0)),F}function P(u){return u.textEdit?u.insertTextFormat===le.InsertTextFormat.Snippet?{text:new Z.SnippetString(u.textEdit.newText),range:M(u.textEdit),fromEdit:!0}:{text:u.textEdit.newText,range:M(u.textEdit),fromEdit:!0}:u.insertText?u.insertTextFormat===le.InsertTextFormat.Snippet?{text:new Z.SnippetString(u.insertText),fromEdit:!1}:{text:u.insertText,fromEdit:!1}:void 0}function M(u){return le.InsertReplaceEdit.is(u)?{inserting:y(u.insert),replacing:y(u.replace)}:y(u.range)}function K(u){if(!!u)return new Z.TextEdit(y(u.range),u.newText)}function x(u){if(!!u)return u.map(K)}function re(u){if(!u)return;let v=new Z.SignatureHelp;return Qe.number(u.activeSignature)?v.activeSignature=u.activeSignature:v.activeSignature=0,Qe.number(u.activeParameter)?v.activeParameter=u.activeParameter:v.activeParameter=0,u.signatures&&(v.signatures=Pe(u.signatures)),v}function Pe(u){return u.map(Re)}function Re(u){let v=new Z.SignatureInformation(u.label);return u.documentation!==void 0&&(v.documentation=R(u.documentation)),u.parameters!==void 0&&(v.parameters=Q(u.parameters)),u.activeParameter!==void 0&&(v.activeParameter=u.activeParameter),v}function Q(u){return u.map($)}function $(u){let v=new Z.ParameterInformation(u.label);return u.documentation&&(v.documentation=R(u.documentation)),v}function j(u){if(!!u)return new Z.Location(i(u.uri),y(u.range))}function L(u){if(!!u)return ne(u)}function z(u){if(!!u)return ne(u)}function B(u){if(!u)return;let v={targetUri:i(u.targetUri),targetRange:y(u.targetRange),originSelectionRange:y(u.originSelectionRange),targetSelectionRange:y(u.targetSelectionRange)};if(!v.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return v}function ne(u){if(!!u)return Qe.array(u)?u.length===0?[]:le.LocationLink.is(u[0])?u.map(F=>B(F)):u.map(F=>j(F)):le.LocationLink.is(u)?[B(u)]:j(u)}function te(u){if(!!u)return u.map(v=>j(v))}function se(u){if(!!u)return u.map(Se)}function Se(u){let v=new Z.DocumentHighlight(y(u.range));return Qe.number(u.kind)&&(v.kind=fe(u.kind)),v}function fe(u){switch(u){case le.DocumentHighlightKind.Text:return Z.DocumentHighlightKind.Text;case le.DocumentHighlightKind.Read:return Z.DocumentHighlightKind.Read;case le.DocumentHighlightKind.Write:return Z.DocumentHighlightKind.Write}return Z.DocumentHighlightKind.Text}function we(u,v){if(!!u)return u.map(F=>Ye(F,v))}function he(u){return u<=le.SymbolKind.TypeParameter?u-1:Z.SymbolKind.Property}function ke(u){switch(u){case le.SymbolTag.Deprecated:return Z.SymbolTag.Deprecated;default:return}}function Be(u){if(u==null)return;const v=[];for(const F of u){const H=ke(F);H!==void 0&&v.push(H)}return v.length===0?void 0:v}function Ye(u,v){let F=new Z.SymbolInformation(u.name,he(u.kind),y(u.location.range),u.location.uri?i(u.location.uri):v);return et(F,u),u.containerName&&(F.containerName=u.containerName),F}function st(u){if(u!=null)return u.map(Ge)}function Ge(u){let v=new Z.DocumentSymbol(u.name,u.detail||"",he(u.kind),y(u.range),y(u.selectionRange));if(et(v,u),u.children!==void 0&&u.children.length>0){let F=[];for(let H of u.children)F.push(Ge(H));v.children=F}return v}function et(u,v){u.tags=Be(v.tags),v.deprecated&&(u.tags?u.tags.includes(Z.SymbolTag.Deprecated)||(u.tags=u.tags.concat(Z.SymbolTag.Deprecated)):u.tags=[Z.SymbolTag.Deprecated])}function xe(u){let v={title:u.title,command:u.command};return u.arguments&&(v.arguments=u.arguments),v}function tt(u){if(!!u)return u.map(xe)}const Me=new Map;Me.set(le.CodeActionKind.Empty,Z.CodeActionKind.Empty),Me.set(le.CodeActionKind.QuickFix,Z.CodeActionKind.QuickFix),Me.set(le.CodeActionKind.Refactor,Z.CodeActionKind.Refactor),Me.set(le.CodeActionKind.RefactorExtract,Z.CodeActionKind.RefactorExtract),Me.set(le.CodeActionKind.RefactorInline,Z.CodeActionKind.RefactorInline),Me.set(le.CodeActionKind.RefactorRewrite,Z.CodeActionKind.RefactorRewrite),Me.set(le.CodeActionKind.Source,Z.CodeActionKind.Source),Me.set(le.CodeActionKind.SourceOrganizeImports,Z.CodeActionKind.SourceOrganizeImports);function U(u){if(u==null)return;let v=Me.get(u);if(v)return v;let F=u.split(".");v=Z.CodeActionKind.Empty;for(let H of F)v=v.append(H);return v}function a(u){if(u!=null)return u.map(v=>U(v))}function f(u){if(u==null)return;let v=new js.default(u.title,u.data);return u.kind!==void 0&&(v.kind=U(u.kind)),u.diagnostics!==void 0&&(v.diagnostics=s(u.diagnostics)),u.edit!==void 0&&(v.edit=k(u.edit)),u.command!==void 0&&(v.command=xe(u.command)),u.isPreferred!==void 0&&(v.isPreferred=u.isPreferred),u.disabled!==void 0&&(v.disabled={reason:u.disabled.reason}),v}function m(u){if(!u)return;let v=new Ls.default(y(u.range));return u.command&&(v.command=xe(u.command)),u.data!==void 0&&u.data!==null&&(v.data=u.data),v}function O(u){if(!!u)return u.map(v=>m(v))}function k(u){if(!u)return;const v=new Map;if(u.changeAnnotations!==void 0)for(const V of Object.keys(u.changeAnnotations)){const de=T(u.changeAnnotations[V]);v.set(V,de)}const F=V=>{if(V!==void 0)return v.get(V)},H=new Z.WorkspaceEdit;if(u.documentChanges)for(const V of u.documentChanges)if(le.CreateFile.is(V))H.createFile(i(V.uri),V.options,F(V.annotationId));else if(le.RenameFile.is(V))H.renameFile(i(V.oldUri),i(V.newUri),V.options,F(V.annotationId));else if(le.DeleteFile.is(V))H.deleteFile(i(V.uri),V.options,F(V.annotationId));else if(le.TextDocumentEdit.is(V)){const de=i(V.textDocument.uri);for(const _e of V.edits)$r.AnnotatedTextEdit.is(_e)?H.replace(de,y(_e.range),_e.newText,F(_e.annotationId)):H.replace(de,y(_e.range),_e.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(V,void 0,4)}`);else u.changes&&Object.keys(u.changes).forEach(V=>{H.set(i(V),x(u.changes[V]))});return H}function T(u){if(u!==void 0)return{label:u.label,needsConfirmation:!!u.needsConfirmation,description:u.description}}function A(u){let v=y(u.range),F=u.target?o(u.target):void 0,H=new As.default(v,F);return u.tooltip!==void 0&&(H.tooltip=u.tooltip),u.data!==void 0&&u.data!==null&&(H.data=u.data),H}function q(u){if(!!u)return u.map(A)}function J(u){return new Z.Color(u.red,u.green,u.blue,u.alpha)}function Y(u){return new Z.ColorInformation(y(u.range),J(u.color))}function ie(u){if(Array.isArray(u))return u.map(Y)}function me(u){let v=new Z.ColorPresentation(u.label);return v.additionalTextEdits=x(u.additionalTextEdits),u.textEdit&&(v.textEdit=K(u.textEdit)),v}function pe(u){if(Array.isArray(u))return u.map(me)}function C(u){if(u)switch(u){case le.FoldingRangeKind.Comment:return Z.FoldingRangeKind.Comment;case le.FoldingRangeKind.Imports:return Z.FoldingRangeKind.Imports;case le.FoldingRangeKind.Region:return Z.FoldingRangeKind.Region}}function I(u){return new Z.FoldingRange(u.startLine,u.endLine,C(u.kind))}function X(u){if(Array.isArray(u))return u.map(I)}function ae(u){return new Z.SelectionRange(y(u.range),u.parent?ae(u.parent):void 0)}function Ie(u){if(!Array.isArray(u))return[];let v=[];for(let F of u)v.push(ae(F));return v}function pt(u){if(u===null)return;let v=new Ks.default(he(u.kind),u.name,u.detail||"",o(u.uri),y(u.range),y(u.selectionRange),u.data);return u.tags!==void 0&&(v.tags=Be(u.tags)),v}function jn(u){if(u!==null)return u.map(v=>pt(v))}function Jt(u){return new Z.CallHierarchyIncomingCall(pt(u.from),r(u.fromRanges))}function at(u){if(u!==null)return u.map(v=>Jt(v))}function ct(u){return new Z.CallHierarchyOutgoingCall(pt(u.to),r(u.fromRanges))}function Kn(u){if(u!==null)return u.map(v=>ct(v))}function Hn(u){if(u!=null)return new Z.SemanticTokens(new Uint32Array(u.data),u.resultId)}function ut(u){return new Z.SemanticTokensEdit(u.start,u.deleteCount,u.data!==void 0?new Uint32Array(u.data):void 0)}function Vt(u){if(u!=null)return new Z.SemanticTokensEdits(u.edits.map(ut),u.resultId)}function Qt(u){return u}function Et(u){if(u!=null)return new Z.LinkedEditingRanges(r(u.ranges),Gt(u.wordPattern))}function Gt(u){if(u!=null)return new RegExp(u)}return{asUri:o,asDiagnostics:s,asDiagnostic:c,asRange:y,asRanges:r,asPosition:p,asDiagnosticSeverity:l,asDiagnosticTag:g,asHover:G,asCompletionResult:ee,asCompletionItem:D,asTextEdit:K,asTextEdits:x,asSignatureHelp:re,asSignatureInformations:Pe,asSignatureInformation:Re,asParameterInformations:Q,asParameterInformation:$,asDeclarationResult:L,asDefinitionResult:z,asLocation:j,asReferences:te,asDocumentHighlights:se,asDocumentHighlight:Se,asDocumentHighlightKind:fe,asSymbolKind:he,asSymbolTag:ke,asSymbolTags:Be,asSymbolInformations:we,asSymbolInformation:Ye,asDocumentSymbols:st,asDocumentSymbol:Ge,asCommand:xe,asCommands:tt,asCodeAction:f,asCodeActionKind:U,asCodeActionKinds:a,asCodeLens:m,asCodeLenses:O,asWorkspaceEdit:k,asDocumentLink:A,asDocumentLinks:q,asFoldingRangeKind:C,asFoldingRange:I,asFoldingRanges:X,asColor:J,asColorInformation:Y,asColorInformations:ie,asColorPresentation:me,asColorPresentations:pe,asSelectionRange:ae,asSelectionRanges:Ie,asSemanticTokensLegend:Qt,asSemanticTokens:Hn,asSemanticTokensEdit:ut,asSemanticTokensEdits:Vt,asCallHierarchyItem:pt,asCallHierarchyItems:jn,asCallHierarchyIncomingCall:Jt,asCallHierarchyIncomingCalls:at,asCallHierarchyOutgoingCall:ct,asCallHierarchyOutgoingCalls:Kn,asLinkedEditingRanges:Et}}_n.createConverter=Hs;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.Delayer=void 0;const zr=Oe;class Ws{constructor(n){this.defaultDelay=n,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(n,t=this.defaultDelay){return this.task=n,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(i=>{this.onSuccess=i}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var i=this.task();return this.task=void 0,i})),(t>=0||this.timeout===void 0)&&(this.timeout=zr.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let n=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,n}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(zr.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}}Dn.Delayer=Ws;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.generateUuid=Ue.parse=Ue.isUUID=Ue.v4=Ue.empty=void 0;class $i{constructor(n){this._value=n}asHex(){return this._value}equals(n){return this.asHex()===n.asHex()}}class ge extends $i{constructor(){super([ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),"-",ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),"-","4",ge._randomHex(),ge._randomHex(),ge._randomHex(),"-",ge._oneOf(ge._timeHighBits),ge._randomHex(),ge._randomHex(),ge._randomHex(),"-",ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex()].join(""))}static _oneOf(n){return n[Math.floor(n.length*Math.random())]}static _randomHex(){return ge._oneOf(ge._chars)}}ge._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ge._timeHighBits=["8","9","a","b"];Ue.empty=new $i("00000000-0000-0000-0000-000000000000");function Ur(){return new ge}Ue.v4=Ur;const xs=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Br(e){return xs.test(e)}Ue.isUUID=Br;function $s(e){if(!Br(e))throw new Error("invalid uuid");return new $i(e)}Ue.parse=$s;function zs(){return Ur().asHex()}Ue.generateUuid=zs;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.ProgressPart=void 0;const Jr=Ae,Vr=Oe,Qr=De;class Us{constructor(n,t,i){this._client=n,this._token=t,this._reported=0,this._disposable=this._client.onProgress(Vr.WorkDoneProgress.type,this._token,o=>{switch(o.kind){case"begin":this.begin(o);break;case"report":this.report(o);break;case"end":this.done(),i&&i(this);break}})}begin(n){Jr.window.withProgress({location:Jr.ProgressLocation.Window,cancellable:n.cancellable,title:n.title},async(t,i)=>(this._progress=t,this._infinite=n.percentage===void 0,this._cancellationToken=i,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Vr.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(n),new Promise((o,s)=>{this._resolve=o,this._reject=s})))}report(n){if(this._infinite&&Qr.string(n.message))this._progress.report({message:n.message});else if(Qr.number(n.percentage)){let t=Math.max(0,Math.min(n.percentage,100)),i=Math.max(0,t-this._reported);this._progress.report({message:n.message,increment:i}),this._reported+=i}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}}Wt.ProgressPart=Us;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLanguageClient=e.MessageTransports=e.TextDocumentFeature=e.State=e.RevealOutputChannelOn=e.CloseAction=e.ErrorAction=void 0;const n=Ae,t=Oe,i=ht,o=hn,s=_n,c=De,d=Dn,h=Ue,_=Wt;class g{error(a){t.RAL().console.error(a)}warn(a){t.RAL().console.warn(a)}info(a){t.RAL().console.info(a)}log(a){t.RAL().console.log(a)}}function p(U,a,f,m,O){let k=new g,T=t.createProtocolConnection(U,a,k,O);return T.onError(q=>{f(q[0],q[1],q[2])}),T.onClose(m),{listen:()=>T.listen(),sendRequest:(q,...J)=>T.sendRequest(c.string(q)?q:q.method,...J),onRequest:(q,J)=>T.onRequest(c.string(q)?q:q.method,J),sendNotification:(q,J)=>T.sendNotification(c.string(q)?q:q.method,J),onNotification:(q,J)=>T.onNotification(c.string(q)?q:q.method,J),onProgress:T.onProgress,sendProgress:T.sendProgress,trace:(q,J,Y)=>{const ie={sendNotification:!1,traceFormat:t.TraceFormat.Text};Y===void 0?T.trace(q,J,ie):(c.boolean(Y),T.trace(q,J,Y))},initialize:q=>T.sendRequest(t.InitializeRequest.type,q),shutdown:()=>T.sendRequest(t.ShutdownRequest.type,void 0),exit:()=>T.sendNotification(t.ExitNotification.type),onLogMessage:q=>T.onNotification(t.LogMessageNotification.type,q),onShowMessage:q=>T.onNotification(t.ShowMessageNotification.type,q),onTelemetry:q=>T.onNotification(t.TelemetryEventNotification.type,q),didChangeConfiguration:q=>T.sendNotification(t.DidChangeConfigurationNotification.type,q),didChangeWatchedFiles:q=>T.sendNotification(t.DidChangeWatchedFilesNotification.type,q),didOpenTextDocument:q=>T.sendNotification(t.DidOpenTextDocumentNotification.type,q),didChangeTextDocument:q=>T.sendNotification(t.DidChangeTextDocumentNotification.type,q),didCloseTextDocument:q=>T.sendNotification(t.DidCloseTextDocumentNotification.type,q),didSaveTextDocument:q=>T.sendNotification(t.DidSaveTextDocumentNotification.type,q),onDiagnostics:q=>T.onNotification(t.PublishDiagnosticsNotification.type,q),end:()=>T.end(),dispose:()=>T.dispose()}}var y;(function(U){U[U.Continue=1]="Continue",U[U.Shutdown=2]="Shutdown"})(y=e.ErrorAction||(e.ErrorAction={}));var r;(function(U){U[U.DoNotRestart=1]="DoNotRestart",U[U.Restart=2]="Restart"})(r=e.CloseAction||(e.CloseAction={}));class l{constructor(a,f){this.name=a,this.maxRestartCount=f,this.restarts=[]}error(a,f,m){return m&&m<=3?y.Continue:y.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?r.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(n.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),r.DoNotRestart):(this.restarts.shift(),r.Restart)}}var b;(function(U){U[U.Info=1]="Info",U[U.Warn=2]="Warn",U[U.Error=3]="Error",U[U.Never=4]="Never"})(b=e.RevealOutputChannelOn||(e.RevealOutputChannelOn={}));var R;(function(U){U[U.Stopped=1]="Stopped",U[U.Starting=3]="Starting",U[U.Running=2]="Running"})(R=e.State||(e.State={}));var E;(function(U){U[U.Initial=0]="Initial",U[U.Starting=1]="Starting",U[U.StartFailed=2]="StartFailed",U[U.Running=3]="Running",U[U.Stopping=4]="Stopping",U[U.Stopped=5]="Stopped"})(E||(E={}));const G=[t.SymbolKind.File,t.SymbolKind.Module,t.SymbolKind.Namespace,t.SymbolKind.Package,t.SymbolKind.Class,t.SymbolKind.Method,t.SymbolKind.Property,t.SymbolKind.Field,t.SymbolKind.Constructor,t.SymbolKind.Enum,t.SymbolKind.Interface,t.SymbolKind.Function,t.SymbolKind.Variable,t.SymbolKind.Constant,t.SymbolKind.String,t.SymbolKind.Number,t.SymbolKind.Boolean,t.SymbolKind.Array,t.SymbolKind.Object,t.SymbolKind.Key,t.SymbolKind.Null,t.SymbolKind.EnumMember,t.SymbolKind.Struct,t.SymbolKind.Event,t.SymbolKind.Operator,t.SymbolKind.TypeParameter],ee=[t.CompletionItemKind.Text,t.CompletionItemKind.Method,t.CompletionItemKind.Function,t.CompletionItemKind.Constructor,t.CompletionItemKind.Field,t.CompletionItemKind.Variable,t.CompletionItemKind.Class,t.CompletionItemKind.Interface,t.CompletionItemKind.Module,t.CompletionItemKind.Property,t.CompletionItemKind.Unit,t.CompletionItemKind.Value,t.CompletionItemKind.Enum,t.CompletionItemKind.Keyword,t.CompletionItemKind.Snippet,t.CompletionItemKind.Color,t.CompletionItemKind.File,t.CompletionItemKind.Reference,t.CompletionItemKind.Folder,t.CompletionItemKind.EnumMember,t.CompletionItemKind.Constant,t.CompletionItemKind.Struct,t.CompletionItemKind.Event,t.CompletionItemKind.Operator,t.CompletionItemKind.TypeParameter],w=[t.SymbolTag.Deprecated];function W(U,a){return U[a]===void 0&&(U[a]={}),U[a]}var S;(function(U){function a(f){const m=n.workspace.getConfiguration("files",f);return{trimTrailingWhitespace:m.get("trimTrailingWhitespace"),trimFinalNewlines:m.get("trimFinalNewlines"),insertFinalNewline:m.get("insertFinalNewline")}}U.fromConfiguration=a})(S||(S={}));var D;(function(U){function a(f){let m=f;return m&&c.func(m.register)&&c.func(m.unregister)&&c.func(m.dispose)&&m.registrationType!==void 0}U.is=a})(D||(D={}));class P{constructor(a,f,m,O,k,T){this._client=a,this._event=f,this._type=m,this._middleware=O,this._createParams=k,this._selectorFilter=T,this._selectors=new Map}static textDocumentFilter(a,f){for(const m of a)if(n.languages.match(m,f))return!0;return!1}register(a){!a.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(a.id,a.registerOptions.documentSelector))}callback(a){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),a))&&(this._middleware?this._middleware(a,f=>this._client.sendNotification(this._type,this._createParams(f))):this._client.sendNotification(this._type,this._createParams(a)),this.notificationSent(a))}notificationSent(a){}unregister(a){this._selectors.delete(a),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(a){for(const f of this._selectors.values())if(n.languages.match(f,a))return{send:m=>{this.callback(m)}}}}class M extends P{constructor(a,f){super(a,n.workspace.onDidOpenTextDocument,t.DidOpenTextDocumentNotification.type,a.clientOptions.middleware.didOpen,m=>a.code2ProtocolConverter.asOpenTextDocumentParams(m),P.textDocumentFilter);this._syncedDocuments=f}fillClientCapabilities(a){W(W(a,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(a,f){let m=a.resolvedTextDocumentSync;f&&m&&m.openClose&&this.register({id:h.generateUuid(),registerOptions:{documentSelector:f}})}get registrationType(){return t.DidOpenTextDocumentNotification.type}register(a){if(super.register(a),!a.registerOptions.documentSelector)return;let f=a.registerOptions.documentSelector;n.workspace.textDocuments.forEach(m=>{let O=m.uri.toString();if(!this._syncedDocuments.has(O)&&n.languages.match(f,m)){let k=this._client.clientOptions.middleware,T=A=>{this._client.sendNotification(this._type,this._createParams(A))};k.didOpen?k.didOpen(m,T):T(m),this._syncedDocuments.set(O,m)}})}notificationSent(a){super.notificationSent(a),this._syncedDocuments.set(a.uri.toString(),a)}}class K extends P{constructor(a,f){super(a,n.workspace.onDidCloseTextDocument,t.DidCloseTextDocumentNotification.type,a.clientOptions.middleware.didClose,m=>a.code2ProtocolConverter.asCloseTextDocumentParams(m),P.textDocumentFilter);this._syncedDocuments=f}get registrationType(){return t.DidCloseTextDocumentNotification.type}fillClientCapabilities(a){W(W(a,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(a,f){let m=a.resolvedTextDocumentSync;f&&m&&m.openClose&&this.register({id:h.generateUuid(),registerOptions:{documentSelector:f}})}notificationSent(a){super.notificationSent(a),this._syncedDocuments.delete(a.uri.toString())}unregister(a){let f=this._selectors.get(a);super.unregister(a);let m=this._selectors.values();this._syncedDocuments.forEach(O=>{if(n.languages.match(f,O)&&!this._selectorFilter(m,O)){let k=this._client.clientOptions.middleware,T=A=>{this._client.sendNotification(this._type,this._createParams(A))};this._syncedDocuments.delete(O.uri.toString()),k.didClose?k.didClose(O,T):T(O)}})}}class x{constructor(a){this._client=a,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return t.DidChangeTextDocumentNotification.type}fillClientCapabilities(a){W(W(a,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(a,f){let m=a.resolvedTextDocumentSync;f&&m&&m.change!==void 0&&m.change!==t.TextDocumentSyncKind.None&&this.register({id:h.generateUuid(),registerOptions:Object.assign({},{documentSelector:f},{syncKind:m.change})})}register(a){!a.registerOptions.documentSelector||(this._listener||(this._listener=n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(a.id,{documentSelector:a.registerOptions.documentSelector,syncKind:a.registerOptions.syncKind}))}callback(a){if(a.contentChanges.length!==0){for(const f of this._changeData.values())if(n.languages.match(f.documentSelector,a.document)){let m=this._client.clientOptions.middleware;if(f.syncKind===t.TextDocumentSyncKind.Incremental){let O=this._client.code2ProtocolConverter.asChangeTextDocumentParams(a);m.didChange?m.didChange(a,()=>this._client.sendNotification(t.DidChangeTextDocumentNotification.type,O)):this._client.sendNotification(t.DidChangeTextDocumentNotification.type,O)}else if(f.syncKind===t.TextDocumentSyncKind.Full){let O=k=>{this._changeDelayer?(this._changeDelayer.uri!==k.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=k.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(t.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(k.document))})):(this._changeDelayer={uri:k.document.uri.toString(),delayer:new d.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(t.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(k.document))},-1))};m.didChange?m.didChange(a,O):O(a)}}}}unregister(a){this._changeData.delete(a),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(a){for(const f of this._changeData.values())if(n.languages.match(f.documentSelector,a))return{send:m=>{this.callback(m)}}}}class re extends P{constructor(a){super(a,n.workspace.onWillSaveTextDocument,t.WillSaveTextDocumentNotification.type,a.clientOptions.middleware.willSave,f=>a.code2ProtocolConverter.asWillSaveTextDocumentParams(f),(f,m)=>P.textDocumentFilter(f,m.document))}get registrationType(){return t.WillSaveTextDocumentNotification.type}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"synchronization");f.willSave=!0}initialize(a,f){let m=a.resolvedTextDocumentSync;f&&m&&m.willSave&&this.register({id:h.generateUuid(),registerOptions:{documentSelector:f}})}}class Pe{constructor(a){this._client=a,this._selectors=new Map}get registrationType(){return t.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"synchronization");f.willSaveWaitUntil=!0}initialize(a,f){let m=a.resolvedTextDocumentSync;f&&m&&m.willSaveWaitUntil&&this.register({id:h.generateUuid(),registerOptions:{documentSelector:f}})}register(a){!a.registerOptions.documentSelector||(this._listener||(this._listener=n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(a.id,a.registerOptions.documentSelector))}callback(a){if(P.textDocumentFilter(this._selectors.values(),a.document)){let f=this._client.clientOptions.middleware,m=O=>this._client.sendRequest(t.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(O)).then(k=>{let T=this._client.protocol2CodeConverter.asTextEdits(k);return T===void 0?[]:T});a.waitUntil(f.willSaveWaitUntil?f.willSaveWaitUntil(a,m):m(a))}}unregister(a){this._selectors.delete(a),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class Re extends P{constructor(a){super(a,n.workspace.onDidSaveTextDocument,t.DidSaveTextDocumentNotification.type,a.clientOptions.middleware.didSave,f=>a.code2ProtocolConverter.asSaveTextDocumentParams(f,this._includeText),P.textDocumentFilter);this._includeText=!1}get registrationType(){return t.DidSaveTextDocumentNotification.type}fillClientCapabilities(a){W(W(a,"textDocument"),"synchronization").didSave=!0}initialize(a,f){const m=a.resolvedTextDocumentSync;if(f&&m&&m.save){const O=typeof m.save=="boolean"?{includeText:!1}:{includeText:!!m.save.includeText};this.register({id:h.generateUuid(),registerOptions:Object.assign({},{documentSelector:f},O)})}}register(a){this._includeText=!!a.registerOptions.includeText,super.register(a)}}class Q{constructor(a,f){this._client=a,this._notifyFileEvent=f,this._watchers=new Map}get registrationType(){return t.DidChangeWatchedFilesNotification.type}fillClientCapabilities(a){W(W(a,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(a,f){}register(a){if(!Array.isArray(a.registerOptions.watchers))return;let f=[];for(let m of a.registerOptions.watchers){if(!c.string(m.globPattern))continue;let O=!0,k=!0,T=!0;m.kind!==void 0&&m.kind!==null&&(O=(m.kind&t.WatchKind.Create)!=0,k=(m.kind&t.WatchKind.Change)!=0,T=(m.kind&t.WatchKind.Delete)!=0);let A=n.workspace.createFileSystemWatcher(m.globPattern,!O,!k,!T);this.hookListeners(A,O,k,T),f.push(A)}this._watchers.set(a.id,f)}registerRaw(a,f){let m=[];for(let O of f)this.hookListeners(O,!0,!0,!0,m);this._watchers.set(a,m)}hookListeners(a,f,m,O,k){f&&a.onDidCreate(T=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(T),type:t.FileChangeType.Created}),null,k),m&&a.onDidChange(T=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(T),type:t.FileChangeType.Changed}),null,k),O&&a.onDidDelete(T=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(T),type:t.FileChangeType.Deleted}),null,k)}unregister(a){let f=this._watchers.get(a);if(f)for(let m of f)m.dispose()}dispose(){this._watchers.forEach(a=>{for(let f of a)f.dispose()}),this._watchers.clear()}}class ${constructor(a,f){this._client=a,this._registrationType=f,this._registrations=new Map}get registrationType(){return this._registrationType}register(a){if(!a.registerOptions.documentSelector)return;let f=this.registerLanguageProvider(a.registerOptions);this._registrations.set(a.id,{disposable:f[0],data:a,provider:f[1]})}unregister(a){let f=this._registrations.get(a);f!==void 0&&f.disposable.dispose()}dispose(){this._registrations.forEach(a=>{a.disposable.dispose()}),this._registrations.clear()}getRegistration(a,f){if(f){if(t.TextDocumentRegistrationOptions.is(f)){const m=t.StaticRegistrationOptions.hasId(f)?f.id:h.generateUuid(),O=f.documentSelector||a;if(O)return[m,Object.assign({},f,{documentSelector:O})]}else if(c.boolean(f)&&f===!0||t.WorkDoneProgressOptions.is(f)){if(!a)return[void 0,void 0];let m=c.boolean(f)&&f===!0?{documentSelector:a}:Object.assign({},f,{documentSelector:a});return[h.generateUuid(),m]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(a,f){if(!(!a||!f))return c.boolean(f)&&f===!0?{documentSelector:a}:Object.assign({},f,{documentSelector:a})}getProvider(a){for(const f of this._registrations.values()){let m=f.data.registerOptions.documentSelector;if(m!==null&&n.languages.match(m,a))return f.provider}}getAllProviders(){const a=[];for(const f of this._registrations.values())a.push(f.provider);return a}}e.TextDocumentFeature=$;class j{constructor(a,f){this._client=a,this._registrationType=f,this._registrations=new Map}get registrationType(){return this._registrationType}register(a){const f=this.registerLanguageProvider(a.registerOptions);this._registrations.set(a.id,{disposable:f[0],provider:f[1]})}unregister(a){let f=this._registrations.get(a);f!==void 0&&f.disposable.dispose()}dispose(){this._registrations.forEach(a=>{a.disposable.dispose()}),this._registrations.clear()}getProviders(){const a=[];for(const f of this._registrations.values())a.push(f.provider);return a}}class L extends ${constructor(a){super(a,t.CompletionRequest.type)}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"completion");f.dynamicRegistration=!0,f.contextSupport=!0,f.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[t.MarkupKind.Markdown,t.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[t.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[t.InsertTextMode.asIs,t.InsertTextMode.adjustIndentation]}},f.completionItemKind={valueSet:ee}}initialize(a,f){const m=this.getRegistrationOptions(f,a.completionProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f=a.triggerCharacters||[],m={provideCompletionItems:(O,k,T,A)=>{const q=this._client,J=this._client.clientOptions.middleware,Y=(ie,me,pe,C)=>q.sendRequest(t.CompletionRequest.type,q.code2ProtocolConverter.asCompletionParams(ie,me,pe),C).then(q.protocol2CodeConverter.asCompletionResult,I=>q.handleFailedRequest(t.CompletionRequest.type,I,null));return J.provideCompletionItem?J.provideCompletionItem(O,k,A,T,Y):Y(O,k,A,T)},resolveCompletionItem:a.resolveProvider?(O,k)=>{const T=this._client,A=this._client.clientOptions.middleware,q=(J,Y)=>T.sendRequest(t.CompletionResolveRequest.type,T.code2ProtocolConverter.asCompletionItem(J),Y).then(T.protocol2CodeConverter.asCompletionItem,ie=>T.handleFailedRequest(t.CompletionResolveRequest.type,ie,J));return A.resolveCompletionItem?A.resolveCompletionItem(O,k,q):q(O,k)}:void 0};return[n.languages.registerCompletionItemProvider(a.documentSelector,m,...f),m]}}class z extends ${constructor(a){super(a,t.HoverRequest.type)}fillClientCapabilities(a){const f=W(W(a,"textDocument"),"hover");f.dynamicRegistration=!0,f.contentFormat=[t.MarkupKind.Markdown,t.MarkupKind.PlainText]}initialize(a,f){const m=this.getRegistrationOptions(f,a.hoverProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideHover:(m,O,k)=>{const T=this._client,A=(J,Y,ie)=>T.sendRequest(t.HoverRequest.type,T.code2ProtocolConverter.asTextDocumentPositionParams(J,Y),ie).then(T.protocol2CodeConverter.asHover,me=>T.handleFailedRequest(t.HoverRequest.type,me,null)),q=T.clientOptions.middleware;return q.provideHover?q.provideHover(m,O,k,A):A(m,O,k)}};return[n.languages.registerHoverProvider(a.documentSelector,f),f]}}class B extends ${constructor(a){super(a,t.SignatureHelpRequest.type)}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"signatureHelp");f.dynamicRegistration=!0,f.signatureInformation={documentationFormat:[t.MarkupKind.Markdown,t.MarkupKind.PlainText]},f.signatureInformation.parameterInformation={labelOffsetSupport:!0},f.signatureInformation.activeParameterSupport=!0,f.contextSupport=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.signatureHelpProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideSignatureHelp:(O,k,T,A)=>{const q=this._client,J=(ie,me,pe,C)=>q.sendRequest(t.SignatureHelpRequest.type,q.code2ProtocolConverter.asSignatureHelpParams(ie,me,pe),C).then(q.protocol2CodeConverter.asSignatureHelp,I=>q.handleFailedRequest(t.SignatureHelpRequest.type,I,null)),Y=q.clientOptions.middleware;return Y.provideSignatureHelp?Y.provideSignatureHelp(O,k,A,T,J):J(O,k,A,T)}};let m;if(a.retriggerCharacters===void 0){const O=a.triggerCharacters||[];m=n.languages.registerSignatureHelpProvider(a.documentSelector,f,...O)}else{const O={triggerCharacters:a.triggerCharacters||[],retriggerCharacters:a.retriggerCharacters||[]};m=n.languages.registerSignatureHelpProvider(a.documentSelector,f,O)}return[m,f]}}class ne extends ${constructor(a){super(a,t.DefinitionRequest.type)}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"definition");f.dynamicRegistration=!0,f.linkSupport=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.definitionProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideDefinition:(m,O,k)=>{const T=this._client,A=(J,Y,ie)=>T.sendRequest(t.DefinitionRequest.type,T.code2ProtocolConverter.asTextDocumentPositionParams(J,Y),ie).then(T.protocol2CodeConverter.asDefinitionResult,me=>T.handleFailedRequest(t.DefinitionRequest.type,me,null)),q=T.clientOptions.middleware;return q.provideDefinition?q.provideDefinition(m,O,k,A):A(m,O,k)}};return[n.languages.registerDefinitionProvider(a.documentSelector,f),f]}}class te extends ${constructor(a){super(a,t.ReferencesRequest.type)}fillClientCapabilities(a){W(W(a,"textDocument"),"references").dynamicRegistration=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.referencesProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideReferences:(m,O,k,T)=>{const A=this._client,q=(Y,ie,me,pe)=>A.sendRequest(t.ReferencesRequest.type,A.code2ProtocolConverter.asReferenceParams(Y,ie,me),pe).then(A.protocol2CodeConverter.asReferences,C=>A.handleFailedRequest(t.ReferencesRequest.type,C,null)),J=A.clientOptions.middleware;return J.provideReferences?J.provideReferences(m,O,k,T,q):q(m,O,k,T)}};return[n.languages.registerReferenceProvider(a.documentSelector,f),f]}}class se extends ${constructor(a){super(a,t.DocumentHighlightRequest.type)}fillClientCapabilities(a){W(W(a,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.documentHighlightProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideDocumentHighlights:(m,O,k)=>{const T=this._client,A=(J,Y,ie)=>T.sendRequest(t.DocumentHighlightRequest.type,T.code2ProtocolConverter.asTextDocumentPositionParams(J,Y),ie).then(T.protocol2CodeConverter.asDocumentHighlights,me=>T.handleFailedRequest(t.DocumentHighlightRequest.type,me,null)),q=T.clientOptions.middleware;return q.provideDocumentHighlights?q.provideDocumentHighlights(m,O,k,A):A(m,O,k)}};return[n.languages.registerDocumentHighlightProvider(a.documentSelector,f),f]}}class Se extends ${constructor(a){super(a,t.DocumentSymbolRequest.type)}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"documentSymbol");f.dynamicRegistration=!0,f.symbolKind={valueSet:G},f.hierarchicalDocumentSymbolSupport=!0,f.tagSupport={valueSet:w},f.labelSupport=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.documentSymbolProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideDocumentSymbols:(O,k)=>{const T=this._client,A=(J,Y)=>T.sendRequest(t.DocumentSymbolRequest.type,T.code2ProtocolConverter.asDocumentSymbolParams(J),Y).then(ie=>{if(ie!==null){if(ie.length===0)return[];{let me=ie[0];return t.DocumentSymbol.is(me)?T.protocol2CodeConverter.asDocumentSymbols(ie):T.protocol2CodeConverter.asSymbolInformations(ie)}}},ie=>T.handleFailedRequest(t.DocumentSymbolRequest.type,ie,null)),q=T.clientOptions.middleware;return q.provideDocumentSymbols?q.provideDocumentSymbols(O,k,A):A(O,k)}},m=a.label!==void 0?{label:a.label}:void 0;return[n.languages.registerDocumentSymbolProvider(a.documentSelector,f,m),f]}}class fe extends j{constructor(a){super(a,t.WorkspaceSymbolRequest.type)}fillClientCapabilities(a){let f=W(W(a,"workspace"),"symbol");f.dynamicRegistration=!0,f.symbolKind={valueSet:G},f.tagSupport={valueSet:w}}initialize(a){!a.workspaceSymbolProvider||this.register({id:h.generateUuid(),registerOptions:a.workspaceSymbolProvider===!0?{workDoneProgress:!1}:a.workspaceSymbolProvider})}registerLanguageProvider(a){const f={provideWorkspaceSymbols:(m,O)=>{const k=this._client,T=(q,J)=>k.sendRequest(t.WorkspaceSymbolRequest.type,{query:q},J).then(k.protocol2CodeConverter.asSymbolInformations,Y=>k.handleFailedRequest(t.WorkspaceSymbolRequest.type,Y,null)),A=k.clientOptions.middleware;return A.provideWorkspaceSymbols?A.provideWorkspaceSymbols(m,O,T):T(m,O)}};return[n.languages.registerWorkspaceSymbolProvider(f),f]}}class we extends ${constructor(a){super(a,t.CodeActionRequest.type)}fillClientCapabilities(a){const f=W(W(a,"textDocument"),"codeAction");f.dynamicRegistration=!0,f.isPreferredSupport=!0,f.disabledSupport=!0,f.dataSupport=!0,f.resolveSupport={properties:["edit"]},f.codeActionLiteralSupport={codeActionKind:{valueSet:[t.CodeActionKind.Empty,t.CodeActionKind.QuickFix,t.CodeActionKind.Refactor,t.CodeActionKind.RefactorExtract,t.CodeActionKind.RefactorInline,t.CodeActionKind.RefactorRewrite,t.CodeActionKind.Source,t.CodeActionKind.SourceOrganizeImports]}},f.honorsChangeAnnotations=!1}initialize(a,f){const m=this.getRegistrationOptions(f,a.codeActionProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideCodeActions:(m,O,k,T)=>{const A=this._client,q=(Y,ie,me,pe)=>{const C={textDocument:A.code2ProtocolConverter.asTextDocumentIdentifier(Y),range:A.code2ProtocolConverter.asRange(ie),context:A.code2ProtocolConverter.asCodeActionContext(me)};return A.sendRequest(t.CodeActionRequest.type,C,pe).then(I=>{if(I===null)return;const X=[];for(let ae of I)t.Command.is(ae)?X.push(A.protocol2CodeConverter.asCommand(ae)):X.push(A.protocol2CodeConverter.asCodeAction(ae));return X},I=>A.handleFailedRequest(t.CodeActionRequest.type,I,null))},J=A.clientOptions.middleware;return J.provideCodeActions?J.provideCodeActions(m,O,k,T,q):q(m,O,k,T)},resolveCodeAction:a.resolveProvider?(m,O)=>{const k=this._client,T=this._client.clientOptions.middleware,A=(q,J)=>k.sendRequest(t.CodeActionResolveRequest.type,k.code2ProtocolConverter.asCodeAction(q),J).then(k.protocol2CodeConverter.asCodeAction,Y=>k.handleFailedRequest(t.CodeActionResolveRequest.type,Y,q));return T.resolveCodeAction?T.resolveCodeAction(m,O,A):A(m,O)}:void 0};return[n.languages.registerCodeActionsProvider(a.documentSelector,f,a.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(a.codeActionKinds)}:void 0),f]}}class he extends ${constructor(a){super(a,t.CodeLensRequest.type)}fillClientCapabilities(a){W(W(a,"textDocument"),"codeLens").dynamicRegistration=!0,W(W(a,"workspace"),"codeLens").refreshSupport=!0}initialize(a,f){this._client.onRequest(t.CodeLensRefreshRequest.type,async()=>{for(const k of this.getAllProviders())k.onDidChangeCodeLensEmitter.fire()});const O=this.getRegistrationOptions(f,a.codeLensProvider);!O||this.register({id:h.generateUuid(),registerOptions:O})}registerLanguageProvider(a){const f=new n.EventEmitter,m={onDidChangeCodeLenses:f.event,provideCodeLenses:(O,k)=>{const T=this._client,A=(J,Y)=>T.sendRequest(t.CodeLensRequest.type,T.code2ProtocolConverter.asCodeLensParams(J),Y).then(T.protocol2CodeConverter.asCodeLenses,ie=>T.handleFailedRequest(t.CodeLensRequest.type,ie,null)),q=T.clientOptions.middleware;return q.provideCodeLenses?q.provideCodeLenses(O,k,A):A(O,k)},resolveCodeLens:a.resolveProvider?(O,k)=>{const T=this._client,A=(J,Y)=>T.sendRequest(t.CodeLensResolveRequest.type,T.code2ProtocolConverter.asCodeLens(J),Y).then(T.protocol2CodeConverter.asCodeLens,ie=>T.handleFailedRequest(t.CodeLensResolveRequest.type,ie,J)),q=T.clientOptions.middleware;return q.resolveCodeLens?q.resolveCodeLens(O,k,A):A(O,k)}:void 0};return[n.languages.registerCodeLensProvider(a.documentSelector,m),{provider:m,onDidChangeCodeLensEmitter:f}]}}class ke extends ${constructor(a){super(a,t.DocumentFormattingRequest.type)}fillClientCapabilities(a){W(W(a,"textDocument"),"formatting").dynamicRegistration=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.documentFormattingProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideDocumentFormattingEdits:(m,O,k)=>{const T=this._client,A=(J,Y,ie)=>{const me={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(J),options:T.code2ProtocolConverter.asFormattingOptions(Y,S.fromConfiguration(J))};return T.sendRequest(t.DocumentFormattingRequest.type,me,ie).then(T.protocol2CodeConverter.asTextEdits,pe=>T.handleFailedRequest(t.DocumentFormattingRequest.type,pe,null))},q=T.clientOptions.middleware;return q.provideDocumentFormattingEdits?q.provideDocumentFormattingEdits(m,O,k,A):A(m,O,k)}};return[n.languages.registerDocumentFormattingEditProvider(a.documentSelector,f),f]}}class Be extends ${constructor(a){super(a,t.DocumentRangeFormattingRequest.type)}fillClientCapabilities(a){W(W(a,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.documentRangeFormattingProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideDocumentRangeFormattingEdits:(m,O,k,T)=>{const A=this._client,q=(Y,ie,me,pe)=>{const C={textDocument:A.code2ProtocolConverter.asTextDocumentIdentifier(Y),range:A.code2ProtocolConverter.asRange(ie),options:A.code2ProtocolConverter.asFormattingOptions(me,S.fromConfiguration(Y))};return A.sendRequest(t.DocumentRangeFormattingRequest.type,C,pe).then(A.protocol2CodeConverter.asTextEdits,I=>A.handleFailedRequest(t.DocumentRangeFormattingRequest.type,I,null))},J=A.clientOptions.middleware;return J.provideDocumentRangeFormattingEdits?J.provideDocumentRangeFormattingEdits(m,O,k,T,q):q(m,O,k,T)}};return[n.languages.registerDocumentRangeFormattingEditProvider(a.documentSelector,f),f]}}class Ye extends ${constructor(a){super(a,t.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(a){W(W(a,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.documentOnTypeFormattingProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideOnTypeFormattingEdits:(O,k,T,A,q)=>{const J=this._client,Y=(me,pe,C,I,X)=>{let ae={textDocument:J.code2ProtocolConverter.asTextDocumentIdentifier(me),position:J.code2ProtocolConverter.asPosition(pe),ch:C,options:J.code2ProtocolConverter.asFormattingOptions(I,S.fromConfiguration(me))};return J.sendRequest(t.DocumentOnTypeFormattingRequest.type,ae,X).then(J.protocol2CodeConverter.asTextEdits,Ie=>J.handleFailedRequest(t.DocumentOnTypeFormattingRequest.type,Ie,null))},ie=J.clientOptions.middleware;return ie.provideOnTypeFormattingEdits?ie.provideOnTypeFormattingEdits(O,k,T,A,q,Y):Y(O,k,T,A,q)}},m=a.moreTriggerCharacter||[];return[n.languages.registerOnTypeFormattingEditProvider(a.documentSelector,f,a.firstTriggerCharacter,...m),f]}}class st extends ${constructor(a){super(a,t.RenameRequest.type)}fillClientCapabilities(a){let f=W(W(a,"textDocument"),"rename");f.dynamicRegistration=!0,f.prepareSupport=!0,f.prepareSupportDefaultBehavior=t.PrepareSupportDefaultBehavior.Identifier,f.honorsChangeAnnotations=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.renameProvider);!m||(c.boolean(a.renameProvider)&&(m.prepareProvider=!1),this.register({id:h.generateUuid(),registerOptions:m}))}registerLanguageProvider(a){const f={provideRenameEdits:(m,O,k,T)=>{const A=this._client,q=(Y,ie,me,pe)=>{let C={textDocument:A.code2ProtocolConverter.asTextDocumentIdentifier(Y),position:A.code2ProtocolConverter.asPosition(ie),newName:me};return A.sendRequest(t.RenameRequest.type,C,pe).then(A.protocol2CodeConverter.asWorkspaceEdit,I=>A.handleFailedRequest(t.RenameRequest.type,I,null))},J=A.clientOptions.middleware;return J.provideRenameEdits?J.provideRenameEdits(m,O,k,T,q):q(m,O,k,T)},prepareRename:a.prepareProvider?(m,O,k)=>{const T=this._client,A=(J,Y,ie)=>{let me={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(J),position:T.code2ProtocolConverter.asPosition(Y)};return T.sendRequest(t.PrepareRenameRequest.type,me,ie).then(pe=>t.Range.is(pe)?T.protocol2CodeConverter.asRange(pe):this.isDefaultBehavior(pe)?pe.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):pe&&t.Range.is(pe.range)?{range:T.protocol2CodeConverter.asRange(pe.range),placeholder:pe.placeholder}:Promise.reject(new Error("The element can't be renamed.")),pe=>T.handleFailedRequest(t.PrepareRenameRequest.type,pe,void 0))},q=T.clientOptions.middleware;return q.prepareRename?q.prepareRename(m,O,k,A):A(m,O,k)}:void 0};return[n.languages.registerRenameProvider(a.documentSelector,f),f]}isDefaultBehavior(a){const f=a;return f&&c.boolean(f.defaultBehavior)}}class Ge extends ${constructor(a){super(a,t.DocumentLinkRequest.type)}fillClientCapabilities(a){const f=W(W(a,"textDocument"),"documentLink");f.dynamicRegistration=!0,f.tooltipSupport=!0}initialize(a,f){const m=this.getRegistrationOptions(f,a.documentLinkProvider);!m||this.register({id:h.generateUuid(),registerOptions:m})}registerLanguageProvider(a){const f={provideDocumentLinks:(m,O)=>{const k=this._client,T=(q,J)=>k.sendRequest(t.DocumentLinkRequest.type,k.code2ProtocolConverter.asDocumentLinkParams(q),J).then(k.protocol2CodeConverter.asDocumentLinks,Y=>k.handleFailedRequest(t.DocumentLinkRequest.type,Y,null)),A=k.clientOptions.middleware;return A.provideDocumentLinks?A.provideDocumentLinks(m,O,T):T(m,O)},resolveDocumentLink:a.resolveProvider?(m,O)=>{const k=this._client;let T=(q,J)=>k.sendRequest(t.DocumentLinkResolveRequest.type,k.code2ProtocolConverter.asDocumentLink(q),J).then(k.protocol2CodeConverter.asDocumentLink,Y=>k.handleFailedRequest(t.DocumentLinkResolveRequest.type,Y,q));const A=k.clientOptions.middleware;return A.resolveDocumentLink?A.resolveDocumentLink(m,O,T):T(m,O)}:void 0};return[n.languages.registerDocumentLinkProvider(a.documentSelector,f),f]}}class et{constructor(a){this._client=a,this._listeners=new Map}get registrationType(){return t.DidChangeConfigurationNotification.type}fillClientCapabilities(a){W(W(a,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let a=this._client.clientOptions.synchronize.configurationSection;a!==void 0&&this.register({id:h.generateUuid(),registerOptions:{section:a}})}register(a){let f=n.workspace.onDidChangeConfiguration(m=>{this.onDidChangeConfiguration(a.registerOptions.section,m)});this._listeners.set(a.id,f),a.registerOptions.section!==void 0&&this.onDidChangeConfiguration(a.registerOptions.section,void 0)}unregister(a){let f=this._listeners.get(a);f&&(this._listeners.delete(a),f.dispose())}dispose(){for(let a of this._listeners.values())a.dispose();this._listeners.clear()}onDidChangeConfiguration(a,f){let m;if(c.string(a)?m=[a]:m=a,m!==void 0&&f!==void 0&&!m.some(A=>f.affectsConfiguration(A)))return;let O=T=>{if(T===void 0){this._client.sendNotification(t.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(t.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(T)})},k=this.getMiddleware();k?k(m,O):O(m)}extractSettingsInformation(a){function f(k,T){let A=k;for(let q=0;q<T.length-1;q++){let J=A[T[q]];J||(J=Object.create(null),A[T[q]]=J),A=J}return A}let m=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,O=Object.create(null);for(let k=0;k<a.length;k++){let T=a[k],A=T.indexOf("."),q=null;if(A>=0?q=n.workspace.getConfiguration(T.substr(0,A),m).get(T.substr(A+1)):q=n.workspace.getConfiguration(void 0,m).get(T),q){let J=a[k].split(".");f(O,J)[J[J.length-1]]=i.toJSONObject(q)}}return O}getMiddleware(){let a=this._client.clientOptions.middleware;if(a.workspace&&a.workspace.didChangeConfiguration)return a.workspace.didChangeConfiguration}}class xe{constructor(a){this._client=a,this._commands=new Map}get registrationType(){return t.ExecuteCommandRequest.type}fillClientCapabilities(a){W(W(a,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(a){!a.executeCommandProvider||this.register({id:h.generateUuid(),registerOptions:Object.assign({},a.executeCommandProvider)})}register(a){const f=this._client,m=f.clientOptions.middleware,O=(k,T)=>{let A={command:k,arguments:T};return f.sendRequest(t.ExecuteCommandRequest.type,A).then(void 0,q=>f.handleFailedRequest(t.ExecuteCommandRequest.type,q,void 0))};if(a.registerOptions.commands){const k=[];for(const T of a.registerOptions.commands)k.push(n.commands.registerCommand(T,(...A)=>m.executeCommand?m.executeCommand(T,A,O):O(T,A)));this._commands.set(a.id,k)}}unregister(a){let f=this._commands.get(a);f&&f.forEach(m=>m.dispose())}dispose(){this._commands.forEach(a=>{a.forEach(f=>f.dispose())}),this._commands.clear()}}(function(U){function a(f){return f&&t.MessageReader.is(f.reader)&&t.MessageWriter.is(f.writer)}U.is=a})(e.MessageTransports||(e.MessageTransports={}));class tt{constructor(a,f){this._resolve=a,this._reject=f,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(a){this._used=!0,this._reject(a)}}class Me{constructor(a,f,m){var O;this._traceFormat=t.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=a,this._name=f,m=m||{};const k={isTrusted:!1};m.markdown!==void 0&&m.markdown.isTrusted===!0&&(k.isTrusted=!0),this._clientOptions={documentSelector:m.documentSelector||[],synchronize:m.synchronize||{},diagnosticCollectionName:m.diagnosticCollectionName,outputChannelName:m.outputChannelName||this._name,revealOutputChannelOn:m.revealOutputChannelOn||b.Error,stdioEncoding:m.stdioEncoding||"utf8",initializationOptions:m.initializationOptions,initializationFailedHandler:m.initializationFailedHandler,progressOnInitialization:!!m.progressOnInitialization,errorHandler:m.errorHandler||this.createDefaultErrorHandler((O=m.connectionOptions)===null||O===void 0?void 0:O.maxRestartCount),middleware:m.middleware||{},uriConverters:m.uriConverters,workspaceFolder:m.workspaceFolder,connectionOptions:m.connectionOptions,markdown:k},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=E.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,m.outputChannel?(this._outputChannel=m.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=m.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new d.Delayer(250),this._onReady=new Promise((T,A)=>{this._onReadyCallbacks=new tt(T,A)}),this._onStop=void 0,this._telemetryEmitter=new t.Emitter,this._stateChangeEmitter=new t.Emitter,this._trace=t.Trace.Off,this._tracer={log:(T,A)=>{c.string(T)?this.logTrace(T,A):this.logObjectTrace(T)}},this._c2p=o.createConverter(m.uriConverters?m.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(m.uriConverters?m.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(a){let f=this.getPublicState();this._state=a;let m=this.getPublicState();m!==f&&this._stateChangeEmitter.fire({oldState:f,newState:m})}getPublicState(){return this.state===E.Running?R.Running:this.state===E.Starting?R.Starting:R.Stopped}get initializeResult(){return this._initializeResult}sendRequest(a,...f){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(a,...f)}catch(m){throw this.error(`Sending request ${c.string(a)?a:a.method} failed.`,m),m}}onRequest(a,f){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(a,f)}catch(m){throw this.error(`Registering request handler ${c.string(a)?a:a.method} failed.`,m),m}}sendNotification(a,f){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(a,f)}catch(m){throw this.error(`Sending notification ${c.string(a)?a:a.method} failed.`,m),m}}onNotification(a,f){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(a,f)}catch(m){throw this.error(`Registering notification handler ${c.string(a)?a:a.method} failed.`,m),m}}onProgress(a,f,m){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(t.WorkDoneProgress.is(a)){const O=this._clientOptions.middleware.handleWorkDoneProgress;if(O!==void 0)return this._resolvedConnection.onProgress(a,f,k=>{O(f,k,()=>m(k))})}return this._resolvedConnection.onProgress(a,f,m)}catch(O){throw this.error(`Registering progress handler for token ${f} failed.`,O),O}}sendProgress(a,f,m){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(a,f,m)}catch(O){throw this.error(`Sending progress for token ${f} failed.`,O),O}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=n.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(a){if(a!==void 0&&a<0)throw new Error(`Invalid maxRestartCount: ${a}`);return new l(this._name,a!=null?a:4)}set trace(a){this._trace=a,this.onReady().then(()=>{this.resolveConnection().then(f=>{f.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(a){if(a instanceof t.ResponseError){const f=a;return`  Message: ${f.message}
  Code: ${f.code} ${f.data?`
`+f.data.toString():""}`}return a instanceof Error?c.string(a.stack)?a.stack:a.message:c.string(a)?a:a.toString()}info(a,f,m=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${a}`),f&&this.outputChannel.appendLine(this.data2String(f)),m&&this._clientOptions.revealOutputChannelOn<=b.Info&&this.showNotificationMessage()}warn(a,f,m=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${a}`),f&&this.outputChannel.appendLine(this.data2String(f)),m&&this._clientOptions.revealOutputChannelOn<=b.Warn&&this.showNotificationMessage()}error(a,f,m=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${a}`),f&&this.outputChannel.appendLine(this.data2String(f)),m&&this._clientOptions.revealOutputChannelOn<=b.Error&&this.showNotificationMessage()}showNotificationMessage(){n.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(a,f){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${a}`),f&&this.traceOutputChannel.appendLine(this.data2String(f))}logObjectTrace(a){a.isLSPMessage&&a.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),a&&this.traceOutputChannel.appendLine(`${JSON.stringify(a)}`)}needsStart(){return this.state===E.Initial||this.state===E.Stopping||this.state===E.Stopped}needsStop(){return this.state===E.Starting||this.state===E.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===E.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((a,f)=>{this._onReadyCallbacks=new tt(a,f)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?n.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):n.languages.createDiagnosticCollection()),this.state=E.Starting,this.resolveConnection().then(a=>(a.onLogMessage(f=>{switch(f.type){case t.MessageType.Error:this.error(f.message,void 0,!1);break;case t.MessageType.Warning:this.warn(f.message,void 0,!1);break;case t.MessageType.Info:this.info(f.message,void 0,!1);break;default:this.outputChannel.appendLine(f.message)}}),a.onShowMessage(f=>{switch(f.type){case t.MessageType.Error:n.window.showErrorMessage(f.message);break;case t.MessageType.Warning:n.window.showWarningMessage(f.message);break;case t.MessageType.Info:n.window.showInformationMessage(f.message);break;default:n.window.showInformationMessage(f.message)}}),a.onRequest(t.ShowMessageRequest.type,f=>{let m;switch(f.type){case t.MessageType.Error:m=n.window.showErrorMessage;break;case t.MessageType.Warning:m=n.window.showWarningMessage;break;case t.MessageType.Info:m=n.window.showInformationMessage;break;default:m=n.window.showInformationMessage}let O=f.actions||[];return m(f.message,...O)}),a.onTelemetry(f=>{this._telemetryEmitter.fire(f)}),a.onRequest(t.ShowDocumentRequest.type,async f=>{var m;const O=async T=>{const A=this.protocol2CodeConverter.asUri(T.uri);try{if(T.external===!0)return{success:await n.env.openExternal(A)};{const q={};return T.selection!==void 0&&(q.selection=this.protocol2CodeConverter.asRange(T.selection)),T.takeFocus===void 0||T.takeFocus===!1?q.preserveFocus=!0:T.takeFocus===!0&&(q.preserveFocus=!1),await n.window.showTextDocument(A,q),{success:!0}}}catch{return{success:!0}}},k=(m=this._clientOptions.middleware.window)===null||m===void 0?void 0:m.showDocument;return k!==void 0?k(f,O):O(f)}),a.listen(),this.initialize(a))).then(void 0,a=>{this.state=E.StartFailed,this._onReadyCallbacks.reject(a),this.error("Starting client failed",a),n.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new n.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(a){this.refreshTrace(a,!1);let f=this._clientOptions.initializationOptions,m=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),O={processId:null,clientInfo:{name:n.env.appName,version:n.version},locale:this.getLocale(),rootPath:m||null,rootUri:m?this._c2p.asUri(n.Uri.file(m)):null,capabilities:this.computeClientCapabilities(),initializationOptions:c.func(f)?f():f,trace:t.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(O),this._clientOptions.progressOnInitialization){const k=h.generateUuid(),T=new _.ProgressPart(a,k);return O.workDoneToken=k,this.doInitialize(a,O).then(A=>(T.done(),A),A=>{throw T.cancel(),A})}else return this.doInitialize(a,O)}doInitialize(a,f){return a.initialize(f).then(m=>{this._resolvedConnection=a,this._initializeResult=m,this.state=E.Running;let O;return c.number(m.capabilities.textDocumentSync)?m.capabilities.textDocumentSync===t.TextDocumentSyncKind.None?O={openClose:!1,change:t.TextDocumentSyncKind.None,save:void 0}:O={openClose:!0,change:m.capabilities.textDocumentSync,save:{includeText:!1}}:m.capabilities.textDocumentSync!==void 0&&m.capabilities.textDocumentSync!==null&&(O=m.capabilities.textDocumentSync),this._capabilities=Object.assign({},m.capabilities,{resolvedTextDocumentSync:O}),a.onDiagnostics(k=>this.handleDiagnostics(k)),a.onRequest(t.RegistrationRequest.type,k=>this.handleRegistrationRequest(k)),a.onRequest("client/registerFeature",k=>this.handleRegistrationRequest(k)),a.onRequest(t.UnregistrationRequest.type,k=>this.handleUnregistrationRequest(k)),a.onRequest("client/unregisterFeature",k=>this.handleUnregistrationRequest(k)),a.onRequest(t.ApplyWorkspaceEditRequest.type,k=>this.handleApplyWorkspaceEdit(k)),a.sendNotification(t.InitializedNotification.type,{}),this.hookFileEvents(a),this.hookConfigurationChanged(a),this.initializeFeatures(a),this._onReadyCallbacks.resolve(),m}).then(void 0,m=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(m)?this.initialize(a):(this.stop(),this._onReadyCallbacks.reject(m)):m instanceof t.ResponseError&&m.data&&m.data.retry?n.window.showErrorMessage(m.message,{title:"Retry",id:"retry"}).then(O=>{O&&O.id==="retry"?this.initialize(a):(this.stop(),this._onReadyCallbacks.reject(m))}):(m&&m.message&&n.window.showErrorMessage(m.message),this.error("Server initialization failed.",m),this.stop(),this._onReadyCallbacks.reject(m)),m})}_clientGetRootPath(){let a=n.workspace.workspaceFolders;if(!a||a.length===0)return;let f=a[0];if(f.uri.scheme==="file")return f.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===E.Stopping&&this._onStop?this._onStop:(this.state=E.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(a=>a.shutdown().then(()=>{a.exit(),a.end(),a.dispose(),this.state=E.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=E.Stopped,Promise.resolve())}cleanUp(a=!0,f=!0){this._listeners&&(this._listeners.forEach(m=>m.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(m=>m.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(const m of this._features.values())m.dispose();a&&this.cleanUpChannel(),f&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(a){var f;const m=this;function O(T){m._fileEvents.push(T),m._fileEventDelayer.trigger(()=>{m.onReady().then(()=>{m.resolveConnection().then(A=>{m.isConnectionActive()&&(m.forceDocumentSync(),A.didChangeWatchedFiles({changes:m._fileEvents})),m._fileEvents=[]})},A=>{m.error("Notify file events failed.",A)})})}const k=(f=this.clientOptions.middleware)===null||f===void 0?void 0:f.workspace;(k==null?void 0:k.didChangeWatchedFile)?k.didChangeWatchedFile(a,O):O(a)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(t.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(a){if(!this._diagnostics)return;let f=this._p2c.asUri(a.uri),m=this._p2c.asDiagnostics(a.diagnostics),O=this.clientOptions.middleware;O.handleDiagnostics?O.handleDiagnostics(f,m,(k,T)=>this.setDiagnostics(k,T)):this.setDiagnostics(f,m)}setDiagnostics(a,f){!this._diagnostics||this._diagnostics.set(a,f)}createConnection(){let a=(m,O,k)=>{this.handleConnectionError(m,O,k)},f=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(m=>p(m.reader,m.writer,a,f,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===E.Stopping||this.state===E.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let a=r.DoNotRestart;try{a=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,a===r.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===E.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=E.StartFailed):this.state=E.Stopped,this.cleanUp(!1,!0)):a===r.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=E.Initial,this.start())}handleConnectionError(a,f,m){this._clientOptions.errorHandler.error(a,f,m)===y.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(a){n.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(a,!0)})}refreshTrace(a,f=!1){let m=n.workspace.getConfiguration(this._id),O=t.Trace.Off,k=t.TraceFormat.Text;if(m){const T=m.get("trace.server","off");typeof T=="string"?O=t.Trace.fromString(T):(O=t.Trace.fromString(m.get("trace.server.verbosity","off")),k=t.TraceFormat.fromString(m.get("trace.server.format","text")))}this._trace=O,this._traceFormat=k,a.trace(this._trace,this._tracer,{sendNotification:f,traceFormat:this._traceFormat})}hookFileEvents(a){let f=this._clientOptions.synchronize.fileEvents;if(!f)return;let m;c.array(f)?m=f:m=[f],!!m&&this._dynamicFeatures.get(t.DidChangeWatchedFilesNotification.type.method).registerRaw(h.generateUuid(),m)}registerFeatures(a){for(let f of a)this.registerFeature(f)}registerFeature(a){if(this._features.push(a),D.is(a)){const f=a.registrationType;this._dynamicFeatures.set(f.method,a)}}getFeature(a){return this._dynamicFeatures.get(a)}registerBuiltinFeatures(){this.registerFeature(new et(this)),this.registerFeature(new M(this,this._syncedDocuments)),this.registerFeature(new x(this)),this.registerFeature(new re(this)),this.registerFeature(new Pe(this)),this.registerFeature(new Re(this)),this.registerFeature(new K(this,this._syncedDocuments)),this.registerFeature(new Q(this,a=>this.notifyFileEvent(a))),this.registerFeature(new L(this)),this.registerFeature(new z(this)),this.registerFeature(new B(this)),this.registerFeature(new ne(this)),this.registerFeature(new te(this)),this.registerFeature(new se(this)),this.registerFeature(new Se(this)),this.registerFeature(new fe(this)),this.registerFeature(new we(this)),this.registerFeature(new he(this)),this.registerFeature(new ke(this)),this.registerFeature(new Be(this)),this.registerFeature(new Ye(this)),this.registerFeature(new st(this)),this.registerFeature(new Ge(this)),this.registerFeature(new xe(this))}fillInitializeParams(a){for(let f of this._features)c.func(f.fillInitializeParams)&&f.fillInitializeParams(a)}computeClientCapabilities(){const a={};W(a,"workspace").applyEdit=!0;const f=W(W(a,"workspace"),"workspaceEdit");f.documentChanges=!0,f.resourceOperations=[t.ResourceOperationKind.Create,t.ResourceOperationKind.Rename,t.ResourceOperationKind.Delete],f.failureHandling=t.FailureHandlingKind.TextOnlyTransactional,f.normalizesLineEndings=!0,f.changeAnnotationSupport={groupsOnLabel:!0};const m=W(W(a,"textDocument"),"publishDiagnostics");m.relatedInformation=!0,m.versionSupport=!1,m.tagSupport={valueSet:[t.DiagnosticTag.Unnecessary,t.DiagnosticTag.Deprecated]},m.codeDescriptionSupport=!0,m.dataSupport=!0;const O=W(a,"window"),k=W(O,"showMessage");k.messageActionItem={additionalPropertiesSupport:!0};const T=W(O,"showDocument");T.support=!0;const A=W(a,"general");A.regularExpressions={engine:"ECMAScript",version:"ES2020"},A.markdown={parser:"marked",version:"1.1.0"};for(let q of this._features)q.fillClientCapabilities(a);return a}initializeFeatures(a){let f=this._clientOptions.documentSelector;for(let m of this._features)m.initialize(this._capabilities,f)}handleRegistrationRequest(a){return new Promise((f,m)=>{for(const O of a.registrations){const k=this._dynamicFeatures.get(O.method);if(k===void 0){m(new Error(`No feature implementation for ${O.method} found. Registration failed.`));return}const T=O.registerOptions||{};T.documentSelector=T.documentSelector||this._clientOptions.documentSelector;const A={id:O.id,registerOptions:T};try{k.register(A)}catch(q){m(q);return}}f()})}handleUnregistrationRequest(a){return new Promise((f,m)=>{for(let O of a.unregisterations){const k=this._dynamicFeatures.get(O.method);if(!k){m(new Error(`No feature implementation for ${O.method} found. Unregistration failed.`));return}k.unregister(O.id)}f()})}handleApplyWorkspaceEdit(a){let f=a.edit,m=new Map;n.workspace.textDocuments.forEach(k=>m.set(k.uri.toString(),k));let O=!1;if(f.documentChanges){for(const k of f.documentChanges)if(t.TextDocumentEdit.is(k)&&k.textDocument.version&&k.textDocument.version>=0){let T=m.get(k.textDocument.uri);if(T&&T.version!==k.textDocument.version){O=!0;break}}}return O?Promise.resolve({applied:!1}):c.asPromise(n.workspace.applyEdit(this._p2c.asWorkspaceEdit(a.edit)).then(k=>({applied:k})))}handleFailedRequest(a,f,m){if(f instanceof t.ResponseError){if(f.code===t.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(f.code===t.LSPErrorCodes.ContentModified)return m}throw this.error(`Request ${a.method} failed.`,f),f}makeCancelError(){const a=new Error(Me.Canceled);return a.name=Me.Canceled,a}}e.BaseLanguageClient=Me,Me.Canceled="Canceled"})(Ze);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.TypeDefinitionFeature=void 0;const Bs=Ae,zi=Oe,Js=Ze;function Rn(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class Vs extends Js.TextDocumentFeature{constructor(n){super(n,zi.TypeDefinitionRequest.type)}fillClientCapabilities(n){Rn(Rn(n,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=Rn(Rn(n,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(n,t){let[i,o]=this.getRegistration(t,n.typeDefinitionProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(n){const t={provideTypeDefinition:(i,o,s)=>{const c=this._client,d=(_,g,p)=>c.sendRequest(zi.TypeDefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(_,g),p).then(c.protocol2CodeConverter.asDefinitionResult,y=>c.handleFailedRequest(zi.TypeDefinitionRequest.type,y,null)),h=c.clientOptions.middleware;return h.provideTypeDefinition?h.provideTypeDefinition(i,o,s,d):d(i,o,s)}};return[Bs.languages.registerTypeDefinitionProvider(n.documentSelector,t),t]}}wn.TypeDefinitionFeature=Vs;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ImplementationFeature=void 0;const Qs=Ae,Ui=Oe,Gs=Ze;function Gr(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class Xs extends Gs.TextDocumentFeature{constructor(n){super(n,Ui.ImplementationRequest.type)}fillClientCapabilities(n){let t=Gr(Gr(n,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(n,t){let[i,o]=this.getRegistration(t,n.implementationProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(n){const t={provideImplementation:(i,o,s)=>{const c=this._client,d=(_,g,p)=>c.sendRequest(Ui.ImplementationRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(_,g),p).then(c.protocol2CodeConverter.asDefinitionResult,y=>c.handleFailedRequest(Ui.ImplementationRequest.type,y,null)),h=c.clientOptions.middleware;return h.provideImplementation?h.provideImplementation(i,o,s,d):d(i,o,s)}};return[Qs.languages.registerImplementationProvider(n.documentSelector,t),t]}}Tn.ImplementationFeature=Xs;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ColorProviderFeature=void 0;const Sn=Ae,xt=Oe,Zs=Ze;function Xr(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class Ys extends Zs.TextDocumentFeature{constructor(n){super(n,xt.DocumentColorRequest.type)}fillClientCapabilities(n){Xr(Xr(n,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(n,t){let[i,o]=this.getRegistration(t,n.colorProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(n){const t={provideColorPresentations:(i,o,s)=>{const c=this._client,d=(_,g,p)=>{const y={color:_,textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g.document),range:c.code2ProtocolConverter.asRange(g.range)};return c.sendRequest(xt.ColorPresentationRequest.type,y,p).then(this.asColorPresentations.bind(this),r=>c.handleFailedRequest(xt.ColorPresentationRequest.type,r,null))},h=c.clientOptions.middleware;return h.provideColorPresentations?h.provideColorPresentations(i,o,s,d):d(i,o,s)},provideDocumentColors:(i,o)=>{const s=this._client,c=(h,_)=>{const g={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(h)};return s.sendRequest(xt.DocumentColorRequest.type,g,_).then(this.asColorInformations.bind(this),p=>s.handleFailedRequest(xt.ColorPresentationRequest.type,p,null))},d=s.clientOptions.middleware;return d.provideDocumentColors?d.provideDocumentColors(i,o,c):c(i,o)}};return[Sn.languages.registerColorProvider(n.documentSelector,t),t]}asColor(n){return new Sn.Color(n.red,n.green,n.blue,n.alpha)}asColorInformations(n){return Array.isArray(n)?n.map(t=>new Sn.ColorInformation(this._client.protocol2CodeConverter.asRange(t.range),this.asColor(t.color))):[]}asColorPresentations(n){return Array.isArray(n)?n.map(t=>{let i=new Sn.ColorPresentation(t.label);return i.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(t.additionalTextEdits),i.textEdit=this._client.protocol2CodeConverter.asTextEdit(t.textEdit),i}):[]}}Pn.ColorProviderFeature=Ys;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.WorkspaceFoldersFeature=Pt.arrayDiff=void 0;const ea=Ue,kn=Ae,Bi=Oe;function Ji(e,n){if(e!==void 0)return e[n]}function Vi(e,n){return e.filter(t=>n.indexOf(t)<0)}Pt.arrayDiff=Vi;class ta{constructor(n){this._client=n,this._listeners=new Map}get registrationType(){return Bi.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(n){const t=kn.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?n.workspaceFolders=null:n.workspaceFolders=t.map(i=>this.asProtocol(i))}initializeWithFolders(n){this._initialFolders=n}fillClientCapabilities(n){n.workspace=n.workspace||{},n.workspace.workspaceFolders=!0}initialize(n){const t=this._client;t.onRequest(Bi.WorkspaceFoldersRequest.type,s=>{const c=()=>{const h=kn.workspace.workspaceFolders;return h===void 0?null:h.map(g=>this.asProtocol(g))},d=t.clientOptions.middleware.workspace;return d&&d.workspaceFolders?d.workspaceFolders(s,c):c(s)});const i=Ji(Ji(Ji(n,"workspace"),"workspaceFolders"),"changeNotifications");let o;typeof i=="string"?o=i:i===!0&&(o=ea.generateUuid()),o&&this.register({id:o,registerOptions:void 0})}sendInitialEvent(n){if(this._initialFolders&&n){const t=Vi(this._initialFolders,n),i=Vi(n,this._initialFolders);(i.length>0||t.length>0)&&this.doSendEvent(i,t)}else this._initialFolders?this.doSendEvent([],this._initialFolders):n&&this.doSendEvent(n,[])}doSendEvent(n,t){let i={event:{added:n.map(o=>this.asProtocol(o)),removed:t.map(o=>this.asProtocol(o))}};this._client.sendNotification(Bi.DidChangeWorkspaceFoldersNotification.type,i)}register(n){let t=n.id,i=this._client,o=kn.workspace.onDidChangeWorkspaceFolders(s=>{let c=h=>{this.doSendEvent(h.added,h.removed)},d=i.clientOptions.middleware.workspace;d&&d.didChangeWorkspaceFolders?d.didChangeWorkspaceFolders(s,c):c(s)});this._listeners.set(t,o),this.sendInitialEvent(kn.workspace.workspaceFolders)}unregister(n){let t=this._listeners.get(n);t!==void 0&&(this._listeners.delete(n),t.dispose())}dispose(){for(let n of this._listeners.values())n.dispose();this._listeners.clear()}asProtocol(n){return n===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(n.uri),name:n.name}}}Pt.WorkspaceFoldersFeature=ta;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.FoldingRangeFeature=void 0;const $t=Ae,St=Oe,na=Ze;function Zr(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class On extends na.TextDocumentFeature{constructor(n){super(n,St.FoldingRangeRequest.type)}fillClientCapabilities(n){let t=Zr(Zr(n,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(n,t){let[i,o]=this.getRegistration(t,n.foldingRangeProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(n){const t={provideFoldingRanges:(i,o,s)=>{const c=this._client,d=(_,g,p)=>{const y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(_)};return c.sendRequest(St.FoldingRangeRequest.type,y,p).then(On.asFoldingRanges,r=>c.handleFailedRequest(St.FoldingRangeRequest.type,r,null))},h=c.clientOptions.middleware;return h.provideFoldingRanges?h.provideFoldingRanges(i,o,s,d):d(i,o,s)}};return[$t.languages.registerFoldingRangeProvider(n.documentSelector,t),t]}static asFoldingRangeKind(n){if(n)switch(n){case St.FoldingRangeKind.Comment:return $t.FoldingRangeKind.Comment;case St.FoldingRangeKind.Imports:return $t.FoldingRangeKind.Imports;case St.FoldingRangeKind.Region:return $t.FoldingRangeKind.Region}}static asFoldingRanges(n){return Array.isArray(n)?n.map(t=>new $t.FoldingRange(t.startLine,t.endLine,On.asFoldingRangeKind(t.kind))):[]}}En.FoldingRangeFeature=On;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.CallHierarchyFeature=void 0;const ia=Ae,mt=Oe,ra=Ze;function Yr(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class oa{constructor(n){this.client=n,this.middleware=n.clientOptions.middleware}prepareCallHierarchy(n,t,i){const o=this.client,s=this.middleware,c=(d,h,_)=>{const g=o.code2ProtocolConverter.asTextDocumentPositionParams(d,h);return o.sendRequest(mt.CallHierarchyPrepareRequest.type,g,_).then(p=>o.protocol2CodeConverter.asCallHierarchyItems(p),p=>o.handleFailedRequest(mt.CallHierarchyPrepareRequest.type,p,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(n,t,i,c):c(n,t,i)}provideCallHierarchyIncomingCalls(n,t){const i=this.client,o=this.middleware,s=(c,d)=>{const h={item:i.code2ProtocolConverter.asCallHierarchyItem(c)};return i.sendRequest(mt.CallHierarchyIncomingCallsRequest.type,h,d).then(_=>i.protocol2CodeConverter.asCallHierarchyIncomingCalls(_),_=>i.handleFailedRequest(mt.CallHierarchyIncomingCallsRequest.type,_,null))};return o.provideCallHierarchyIncomingCalls?o.provideCallHierarchyIncomingCalls(n,t,s):s(n,t)}provideCallHierarchyOutgoingCalls(n,t){const i=this.client,o=this.middleware,s=(c,d)=>{const h={item:i.code2ProtocolConverter.asCallHierarchyItem(c)};return i.sendRequest(mt.CallHierarchyOutgoingCallsRequest.type,h,d).then(_=>i.protocol2CodeConverter.asCallHierarchyOutgoingCalls(_),_=>i.handleFailedRequest(mt.CallHierarchyOutgoingCallsRequest.type,_,null))};return o.provideCallHierarchyOutgoingCalls?o.provideCallHierarchyOutgoingCalls(n,t,s):s(n,t)}}class sa extends ra.TextDocumentFeature{constructor(n){super(n,mt.CallHierarchyPrepareRequest.type)}fillClientCapabilities(n){const i=Yr(Yr(n,"textDocument"),"callHierarchy");i.dynamicRegistration=!0}initialize(n,t){const[i,o]=this.getRegistration(t,n.callHierarchyProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(n){const t=this._client,i=new oa(t);return[ia.languages.registerCallHierarchyProvider(n.documentSelector,i),i]}}Fn.CallHierarchyFeature=sa;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.ProgressFeature=void 0;const aa=Oe,ca=Wt;function ua(e,n){return e[n]===void 0&&(e[n]=Object.create(null)),e[n]}class da{constructor(n){this._client=n,this.activeParts=new Set}fillClientCapabilities(n){ua(n,"window").workDoneProgress=!0}initialize(){const n=this._client,t=o=>{this.activeParts.delete(o)},i=o=>{this.activeParts.add(new ca.ProgressPart(this._client,o.token,t))};n.onRequest(aa.WorkDoneProgressCreateRequest.type,i)}dispose(){for(const n of this.activeParts)n.done();this.activeParts.clear()}}In.ProgressFeature=da;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.SemanticTokensFeature=void 0;const qn=Ae,la=Ze,ce=Oe,fa=De;function Nn(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class ga extends la.TextDocumentFeature{constructor(n){super(n,ce.SemanticTokensRegistrationType.type)}fillClientCapabilities(n){const t=Nn(Nn(n,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ce.SemanticTokenTypes.namespace,ce.SemanticTokenTypes.type,ce.SemanticTokenTypes.class,ce.SemanticTokenTypes.enum,ce.SemanticTokenTypes.interface,ce.SemanticTokenTypes.struct,ce.SemanticTokenTypes.typeParameter,ce.SemanticTokenTypes.parameter,ce.SemanticTokenTypes.variable,ce.SemanticTokenTypes.property,ce.SemanticTokenTypes.enumMember,ce.SemanticTokenTypes.event,ce.SemanticTokenTypes.function,ce.SemanticTokenTypes.method,ce.SemanticTokenTypes.macro,ce.SemanticTokenTypes.keyword,ce.SemanticTokenTypes.modifier,ce.SemanticTokenTypes.comment,ce.SemanticTokenTypes.string,ce.SemanticTokenTypes.number,ce.SemanticTokenTypes.regexp,ce.SemanticTokenTypes.operator],t.tokenModifiers=[ce.SemanticTokenModifiers.declaration,ce.SemanticTokenModifiers.definition,ce.SemanticTokenModifiers.readonly,ce.SemanticTokenModifiers.static,ce.SemanticTokenModifiers.deprecated,ce.SemanticTokenModifiers.abstract,ce.SemanticTokenModifiers.async,ce.SemanticTokenModifiers.modification,ce.SemanticTokenModifiers.documentation,ce.SemanticTokenModifiers.defaultLibrary],t.formats=[ce.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,Nn(Nn(n,"workspace"),"semanticTokens").refreshSupport=!0}initialize(n,t){this._client.onRequest(ce.SemanticTokensRefreshRequest.type,async()=>{for(const c of this.getAllProviders())c.onDidChangeSemanticTokensEmitter.fire()});const[o,s]=this.getRegistration(t,n.semanticTokensProvider);!o||!s||this.register({id:o,registerOptions:s})}registerLanguageProvider(n){const t=fa.boolean(n.full)?n.full:n.full!==void 0,i=n.full!==void 0&&typeof n.full!="boolean"&&n.full.delta===!0,o=new qn.EventEmitter,s=t?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(p,y)=>{const r=this._client,l=r.clientOptions.middleware,b=(R,E)=>{const G={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(R)};return r.sendRequest(ce.SemanticTokensRequest.type,G,E).then(ee=>r.protocol2CodeConverter.asSemanticTokens(ee),ee=>r.handleFailedRequest(ce.SemanticTokensRequest.type,ee,null))};return l.provideDocumentSemanticTokens?l.provideDocumentSemanticTokens(p,y,b):b(p,y)},provideDocumentSemanticTokensEdits:i?(p,y,r)=>{const l=this._client,b=l.clientOptions.middleware,R=(E,G,ee)=>{const w={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(E),previousResultId:G};return l.sendRequest(ce.SemanticTokensDeltaRequest.type,w,ee).then(W=>ce.SemanticTokens.is(W)?l.protocol2CodeConverter.asSemanticTokens(W):l.protocol2CodeConverter.asSemanticTokensEdits(W),W=>l.handleFailedRequest(ce.SemanticTokensDeltaRequest.type,W,null))};return b.provideDocumentSemanticTokensEdits?b.provideDocumentSemanticTokensEdits(p,y,r,R):R(p,y,r)}:void 0}:void 0,d=n.range===!0?{provideDocumentRangeSemanticTokens:(p,y,r)=>{const l=this._client,b=l.clientOptions.middleware,R=(E,G,ee)=>{const w={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(E),range:l.code2ProtocolConverter.asRange(G)};return l.sendRequest(ce.SemanticTokensRangeRequest.type,w,ee).then(W=>l.protocol2CodeConverter.asSemanticTokens(W),W=>l.handleFailedRequest(ce.SemanticTokensRangeRequest.type,W,null))};return b.provideDocumentRangeSemanticTokens?b.provideDocumentRangeSemanticTokens(p,y,r,R):R(p,y,r)}}:void 0,h=[],g=this._client.protocol2CodeConverter.asSemanticTokensLegend(n.legend);return s!==void 0&&h.push(qn.languages.registerDocumentSemanticTokensProvider(n.documentSelector,s,g)),d!==void 0&&h.push(qn.languages.registerDocumentRangeSemanticTokensProvider(n.documentSelector,d,g)),[new qn.Disposable(()=>h.forEach(p=>p.dispose())),{range:d,full:s,onDidChangeSemanticTokensEmitter:o}]}}Mn.SemanticTokensFeature=ga;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.DeclarationFeature=void 0;const ha=Ae,Qi=Oe,ma=Ze;function eo(e,n){return e[n]===void 0&&(e[n]={}),e[n]}class pa extends ma.TextDocumentFeature{constructor(n){super(n,Qi.DeclarationRequest.type)}fillClientCapabilities(n){const t=eo(eo(n,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(n,t){const[i,o]=this.getRegistration(t,n.declarationProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(n){const t={provideDeclaration:(i,o,s)=>{const c=this._client,d=(_,g,p)=>c.sendRequest(Qi.DeclarationRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(_,g),p).then(c.protocol2CodeConverter.asDeclarationResult,y=>c.handleFailedRequest(Qi.DeclarationRequest.type,y,null)),h=c.clientOptions.middleware;return h.provideDeclaration?h.provideDeclaration(i,o,s,d):d(i,o,s)}};return[ha.languages.registerDeclarationProvider(n.documentSelector,t),t]}}Ln.DeclarationFeature=pa;(function(e){var n=ue&&ue.__createBinding||(Object.create?function(b,R,E,G){G===void 0&&(G=E),Object.defineProperty(b,G,{enumerable:!0,get:function(){return R[E]}})}:function(b,R,E,G){G===void 0&&(G=E),b[G]=R[E]}),t=ue&&ue.__exportStar||function(b,R){for(var E in b)E!=="default"&&!Object.prototype.hasOwnProperty.call(R,E)&&n(R,b,E)};Object.defineProperty(e,"__esModule",{value:!0}),e.MonacoLanguageClient=void 0;const i=Ze,o=wn,s=ht,c=Tn,d=Pn,h=Pt,_=En,g=Fn,p=In,y=Mn,r=Ln;t(Ze,e);class l extends i.BaseLanguageClient{constructor({id:R,name:E,clientOptions:G,connectionProvider:ee}){super(R||E.toLowerCase(),E,G);this.connectionProvider=ee,this.createConnection=this.doCreateConnection.bind(this);const w=this;w._p2c=new Proxy(w._p2c,{get:(W,S)=>S==="asUri"?W[S]:l.bypassConversion}),w._c2p=new Proxy(w._c2p,{get:(W,S)=>S==="asUri"?W[S]:S==="asCompletionParams"?(D,P,M)=>({textDocument:W.asTextDocumentIdentifier(D),position:P,context:M}):S==="asWillSaveTextDocumentParams"?D=>({textDocument:W.asTextDocumentIdentifier(D.document),reason:D.reason}):S.endsWith("Params")?W[S]:l.bypassConversion})}doCreateConnection(){const R=this.handleConnectionError.bind(this),E=this.handleConnectionClosed.bind(this);return this.connectionProvider.get(R,E,this.outputChannel)}createMessageTransports(R){throw new Error("Unsupported")}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new s.ConfigurationFeature(this)),this.registerFeature(new o.TypeDefinitionFeature(this)),this.registerFeature(new c.ImplementationFeature(this)),this.registerFeature(new d.ColorProviderFeature(this)),this.registerFeature(new h.WorkspaceFoldersFeature(this)),_.FoldingRangeFeature.asFoldingRanges=l.bypassConversion,this.registerFeature(new _.FoldingRangeFeature(this)),this.registerFeature(new r.DeclarationFeature(this)),this.registerFeature(new y.SemanticTokensFeature(this)),this.registerFeature(new g.CallHierarchyFeature(this)),this.registerFeature(new p.ProgressFeature(this));const R=this._features;for(const E of R)E instanceof d.ColorProviderFeature&&(E.asColor=l.bypassConversion,E.asColorInformations=l.bypassConversion,E.asColorPresentations=l.bypassConversion)}registerProposedFeatures(){}getLocale(){return navigator.language||"en-US"}}e.MonacoLanguageClient=l,l.bypassConversion=b=>b||void 0})(qr);var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.MonacoCommands=void 0;class va{constructor(n){this._monaco=n}registerCommand(n,t,i){return this._monaco.editor.registerCommand(n,(o,...s)=>t.call(i,...s))}}zt.MonacoCommands=va;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.ConsoleWindow=void 0;const An=Je;class ya{constructor(){this.channels=new Map}showMessage(n,t,...i){return n===An.MessageType.Error&&console.error(t),n===An.MessageType.Warning&&console.warn(t),n===An.MessageType.Info&&console.info(t),n===An.MessageType.Log&&console.log(t),Promise.resolve(void 0)}createOutputChannel(n){const t=this.channels.get(n);if(t)return t;const i={append(o){console.log(n+": "+o)},appendLine(o){console.log(n+": "+o)},show(){},dispose(){}};return this.channels.set(n,i),i}}Ut.ConsoleWindow=ya;var Gi={},Ca=function(e,n){if(typeof e!="string")throw new TypeError("Expected a string");for(var t=String(e),i="",o=n?!!n.extended:!1,s=n?!!n.globstar:!1,c=!1,d=n&&typeof n.flags=="string"?n.flags:"",h,_=0,g=t.length;_<g;_++)switch(h=t[_],h){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":i+="\\"+h;break;case"?":if(o){i+=".";break}case"[":case"]":if(o){i+=h;break}case"{":if(o){c=!0,i+="(";break}case"}":if(o){c=!1,i+=")";break}case",":if(c){i+="|";break}i+="\\"+h;break;case"*":for(var p=t[_-1],y=1;t[_+1]==="*";)y++,_++;var r=t[_+1];if(!s)i+=".*";else{var l=y>1&&(p==="/"||p===void 0)&&(r==="/"||r===void 0);l?(i+="((?:[^/]*(?:/|$))*)",_++):i+="([^/]*)"}break;default:i+=h}return(!d||!~d.indexOf("g"))&&(i="^"+i+"$"),new RegExp(i,d)},kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.MonacoModelDiagnostics=kt.MonacoDiagnosticCollection=void 0;const Xi=Mt;class _a{constructor(n,t,i){this._monaco=n,this.name=t,this.p2m=i,this.diagnostics=new Map,this.toDispose=new Xi.DisposableCollection}dispose(){this.toDispose.dispose()}get(n){const t=this.diagnostics.get(n);return t?t.diagnostics:[]}set(n,t){const i=this.diagnostics.get(n);if(i)i.diagnostics=t;else{const o=new to(this._monaco,n,t,this.name,this.p2m);this.diagnostics.set(n,o),this.toDispose.push(Xi.Disposable.create(()=>{this.diagnostics.delete(n),o.dispose()}))}}}kt.MonacoDiagnosticCollection=_a;class to{constructor(n,t,i,o,s){this._monaco=n,this.owner=o,this.p2m=s,this._markers=[],this._diagnostics=[],this.toDispose=new Xi.DisposableCollection,this.uri=this._monaco.Uri.parse(t),this.diagnostics=i,this.toDispose.push(this._monaco.editor.onDidCreateModel(c=>this.doUpdateModelMarkers(c)))}set diagnostics(n){this._diagnostics=n,this._markers=this.p2m.asDiagnostics(n),this.updateModelMarkers()}get diagnostics(){return this._diagnostics}get markers(){return this._markers}dispose(){this._markers=[],this.updateModelMarkers(),this.toDispose.dispose()}updateModelMarkers(){const n=this._monaco.editor.getModel(this.uri);this.doUpdateModelMarkers(n||void 0)}doUpdateModelMarkers(n){n&&this.uri.toString()===n.uri.toString()&&this._monaco.editor.setModelMarkers(n,this.owner,this._markers)}}kt.MonacoModelDiagnostics=to;(function(e){var n=ue&&ue.__awaiter||function(_,g,p,y){function r(l){return l instanceof p?l:new p(function(b){b(l)})}return new(p||(p=Promise))(function(l,b){function R(ee){try{G(y.next(ee))}catch(w){b(w)}}function E(ee){try{G(y.throw(ee))}catch(w){b(w)}}function G(ee){ee.done?l(ee.value):r(ee.value).then(R,E)}G((y=y.apply(_,g||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.MonacoLanguages=e.testGlob=e.MonacoModelIdentifier=void 0;const t=Ca,i=Je,o=kt,s=Mt;var c;(function(_){function g(y,r){return{uri:y.Uri.parse(r.uri),languageId:r.languageId}}_.fromDocument=g;function p(y){return{uri:y.uri,languageId:y.getLanguageId()}}_.fromModel=p})(c=e.MonacoModelIdentifier||(e.MonacoModelIdentifier={}));function d(_,g){return t(_,{extended:!0,globstar:!0}).test(g)}e.testGlob=d;class h{constructor(g,p,y){this._monaco=g,this.p2m=p,this.m2p=y}match(g,p){return this.matchModel(g,c.fromDocument(this._monaco,p))}createDiagnosticCollection(g){return new o.MonacoDiagnosticCollection(this._monaco,g||"default",this.p2m)}registerCompletionItemProvider(g,p,...y){const r=this.createCompletionProvider(g,p,...y),l=new s.DisposableCollection;for(const b of this.matchLanguage(g))l.push(this._monaco.languages.registerCompletionItemProvider(b,r));return l}createCompletionProvider(g,p,...y){return{triggerCharacters:y,provideCompletionItems:(r,l,b,R)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(r)))return;const E=r.getWordUntilPosition(l),G=new this._monaco.Range(l.lineNumber,E.startColumn,l.lineNumber,E.endColumn),ee=this.m2p.asCompletionParams(r,l,b),w=yield p.provideCompletionItems(ee,R);return w&&this.p2m.asCompletionResult(w,G)}),resolveCompletionItem:p.resolveCompletionItem?(r,l)=>n(this,void 0,void 0,function*(){const b=this.m2p.asCompletionItem(r),R=yield p.resolveCompletionItem(b,l);if(R){const E=this.p2m.asCompletionItem(R,r.range);Object.assign(r,E)}return r}):void 0}}registerHoverProvider(g,p){const y=this.createHoverProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerHoverProvider(l,y));return r}createHoverProvider(g,p){return{provideHover:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentPositionParams(y,r),R=yield p.provideHover(b,l);return R&&this.p2m.asHover(R)})}}registerSignatureHelpProvider(g,p,...y){const r=this.createSignatureHelpProvider(g,p,...y),l=new s.DisposableCollection;for(const b of this.matchLanguage(g))l.push(this._monaco.languages.registerSignatureHelpProvider(b,r));return l}createSignatureHelpProvider(g,p,...y){return{signatureHelpTriggerCharacters:[...p.triggerCharacters||y||[]],signatureHelpRetriggerCharacters:p.retriggerCharacters,provideSignatureHelp:(l,b,R,E)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(l)))return;const G=this.m2p.asTextDocumentPositionParams(l,b),ee=yield p.provideSignatureHelp(G,R,this.m2p.asSignatureHelpContext(E));return ee&&this.p2m.asSignatureHelpResult(ee)})}}registerDefinitionProvider(g,p){const y=this.createDefinitionProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerDefinitionProvider(l,y));return r}createDefinitionProvider(g,p){return{provideDefinition:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentPositionParams(y,r),R=yield p.provideDefinition(b,l);return R&&this.p2m.asDefinitionResult(R)})}}registerReferenceProvider(g,p){const y=this.createReferenceProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerReferenceProvider(l,y));return r}createReferenceProvider(g,p){return{provideReferences:(y,r,l,b)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const R=this.m2p.asReferenceParams(y,r,l),E=yield p.provideReferences(R,b);return E&&this.p2m.asReferences(E)})}}registerDocumentHighlightProvider(g,p){const y=this.createDocumentHighlightProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerDocumentHighlightProvider(l,y));return r}createDocumentHighlightProvider(g,p){return{provideDocumentHighlights:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentPositionParams(y,r),R=yield p.provideDocumentHighlights(b,l);return R&&this.p2m.asDocumentHighlights(R)})}}registerDocumentSymbolProvider(g,p){const y=this.createDocumentSymbolProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerDocumentSymbolProvider(l,y));return r}createDocumentSymbolProvider(g,p){return{provideDocumentSymbols:(y,r)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const l=this.m2p.asDocumentSymbolParams(y),b=yield p.provideDocumentSymbols(l,r);return b&&this.p2m.asDocumentSymbols(b)})}}registerCodeActionsProvider(g,p){const y=this.createCodeActionProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerCodeActionProvider(l,y));return r}createCodeActionProvider(g,p){return{provideCodeActions:(y,r,l,b)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const R=this.m2p.asCodeActionParams(y,r,l);let E=yield p.provideCodeActions(R,b);return E&&this.p2m.asCodeActionList(E)}),resolveCodeAction:p.resolveCodeAction?(y,r)=>n(this,void 0,void 0,function*(){const l=this.m2p.asCodeAction(y),b=yield p.resolveCodeAction(l,r);if(b){const R=this.p2m.asCodeAction(b);Object.assign(y,R)}return y}):void 0}}registerCodeLensProvider(g,p){const y=this.createCodeLensProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerCodeLensProvider(l,y));return r}createCodeLensProvider(g,p){return{provideCodeLenses:(y,r)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const l=this.m2p.asCodeLensParams(y),b=yield p.provideCodeLenses(l,r);return b&&this.p2m.asCodeLensList(b)}),resolveCodeLens:p.resolveCodeLens?(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return r;const b=this.m2p.asCodeLens(r),R=yield p.resolveCodeLens(b,l);if(R){const E=this.p2m.asCodeLens(R);Object.assign(r,E)}return r}):void 0}}registerDocumentFormattingEditProvider(g,p){const y=this.createDocumentFormattingEditProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerDocumentFormattingEditProvider(l,y));return r}createDocumentFormattingEditProvider(g,p){return{provideDocumentFormattingEdits:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asDocumentFormattingParams(y,r),R=yield p.provideDocumentFormattingEdits(b,l);return R&&this.p2m.asTextEdits(R)})}}registerDocumentRangeFormattingEditProvider(g,p){const y=this.createDocumentRangeFormattingEditProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerDocumentRangeFormattingEditProvider(l,y));return r}createDocumentRangeFormattingEditProvider(g,p){return{provideDocumentRangeFormattingEdits:(y,r,l,b)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const R=this.m2p.asDocumentRangeFormattingParams(y,r,l),E=yield p.provideDocumentRangeFormattingEdits(R,b);return E&&this.p2m.asTextEdits(E)})}}registerOnTypeFormattingEditProvider(g,p,y,...r){const l=this.createOnTypeFormattingEditProvider(g,p,y,...r),b=new s.DisposableCollection;for(const R of this.matchLanguage(g))b.push(this._monaco.languages.registerOnTypeFormattingEditProvider(R,l));return b}createOnTypeFormattingEditProvider(g,p,y,...r){return{autoFormatTriggerCharacters:[y].concat(r),provideOnTypeFormattingEdits:(b,R,E,G,ee)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(b)))return;const w=this.m2p.asDocumentOnTypeFormattingParams(b,R,E,G),W=yield p.provideOnTypeFormattingEdits(w,ee);return W&&this.p2m.asTextEdits(W)})}}registerRenameProvider(g,p){const y=this.createRenameProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerRenameProvider(l,y));return r}createRenameProvider(g,p){return{provideRenameEdits:(y,r,l,b)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const R=this.m2p.asRenameParams(y,r,l),E=yield p.provideRenameEdits(R,b);return E&&this.p2m.asWorkspaceEdit(E)})}}registerDocumentLinkProvider(g,p){const y=this.createDocumentLinkProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerLinkProvider(l,y));return r}createDocumentLinkProvider(g,p){return{provideLinks:(y,r)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const l=this.m2p.asDocumentLinkParams(y),b=yield p.provideDocumentLinks(l,r);return b&&this.p2m.asDocumentLinks(b)}),resolveLink:(y,r)=>n(this,void 0,void 0,function*(){if(p.resolveDocumentLink&&(y.url===null||y.url===void 0)){const l=this.m2p.asDocumentLink(y),b=yield p.resolveDocumentLink(l,r);if(b){const R=this.p2m.asDocumentLink(b);Object.assign(y,R)}}return y})}}registerImplementationProvider(g,p){const y=this.createImplementationProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerImplementationProvider(l,y));return r}createImplementationProvider(g,p){return{provideImplementation:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentPositionParams(y,r),R=yield p.provideImplementation(b,l);return R&&this.p2m.asDefinitionResult(R)})}}registerTypeDefinitionProvider(g,p){const y=this.createTypeDefinitionProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerTypeDefinitionProvider(l,y));return r}createTypeDefinitionProvider(g,p){return{provideTypeDefinition:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentPositionParams(y,r),R=yield p.provideTypeDefinition(b,l);return R&&this.p2m.asDefinitionResult(R)})}}registerColorProvider(g,p){const y=this.createDocumentColorProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerColorProvider(l,y));return r}createDocumentColorProvider(g,p){return{provideDocumentColors:(y,r)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const l=this.m2p.asTextDocumentIdentifier(y),b=yield p.provideDocumentColors({textDocument:l},r);return b&&this.p2m.asColorInformations(b)}),provideColorPresentations:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentIdentifier(y),R=this.m2p.asRange(r.range),E=yield p.provideColorPresentations({textDocument:b,color:r.color,range:R},l);return E&&this.p2m.asColorPresentations(E)})}}registerFoldingRangeProvider(g,p){const y=this.createFoldingRangeProvider(g,p),r=new s.DisposableCollection;for(const l of this.matchLanguage(g))r.push(this._monaco.languages.registerFoldingRangeProvider(l,y));return r}createFoldingRangeProvider(g,p){return{provideFoldingRanges:(y,r,l)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(y)))return;const b=this.m2p.asTextDocumentIdentifier(y),R=yield p.provideFoldingRanges({textDocument:b},l);return R&&this.p2m.asFoldingRanges(R)})}}registerDocumentSemanticTokensProvider(g,p,y){const r=this.createSemanticTokensProvider(g,p,y),l=new s.DisposableCollection;for(const b of this.matchLanguage(g))l.push(this._monaco.languages.registerDocumentSemanticTokensProvider(b,r));return l}createSemanticTokensProvider(g,p,y){return{getLegend(){return y},onDidChange:p.onDidChange,provideDocumentSemanticTokens:(r,l,b)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(r)))return;const R=this.m2p.asTextDocumentIdentifier(r),E=yield p.provideDocumentSemanticTokens({textDocument:R},b);return E&&this.p2m.asSemanticTokens(E)}),releaseDocumentSemanticTokens:r=>{}}}registerDocumentRangeSemanticTokensProvider(g,p,y){const r=this.createRangeSemanticTokensProvider(g,p,y),l=new s.DisposableCollection;for(const b of this.matchLanguage(g))l.push(this._monaco.languages.registerDocumentRangeSemanticTokensProvider(b,r));return l}createRangeSemanticTokensProvider(g,p,y){return{getLegend(){return y},provideDocumentRangeSemanticTokens:(r,l,b)=>n(this,void 0,void 0,function*(){if(!this.matchModel(g,c.fromModel(r)))return;const R=this.m2p.asTextDocumentIdentifier(r),E=yield p.provideDocumentRangeSemanticTokens({textDocument:R,range:this.m2p.asRange(l)},b);return E&&this.p2m.asSemanticTokens(E)})}}matchModel(g,p){return Array.isArray(g)?g.some(y=>this.matchModel(y,p)):i.DocumentFilter.is(g)?!(!!g.language&&g.language!==p.languageId||!!g.scheme&&g.scheme!==p.uri.scheme||!!g.pattern&&!d(g.pattern,p.uri.path)):g===p.languageId}matchLanguage(g){const p=new Set;if(Array.isArray(g))for(const y of g)p.add(this.matchLanguageByFilter(y));else p.add(this.matchLanguageByFilter(g));return p.has("*")?new Set(["*"]):p}matchLanguageByFilter(g){return i.DocumentFilter.is(g)?g.language?g.language:"*":g}}e.MonacoLanguages=h})(Gi);var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.MonacoWorkspace=void 0;const Zi=Je,ba=Mr;class Da{constructor(n,t,i,o=null){this._monaco=n,this.p2m=t,this.m2p=i,this._rootUri=o,this.documents=new Map,this.onDidOpenTextDocumentEmitter=new Zi.Emitter,this.onDidCloseTextDocumentEmitter=new Zi.Emitter,this.onDidChangeTextDocumentEmitter=new Zi.Emitter;for(const s of this._monaco.editor.getModels())this.addModel(s);this._monaco.editor.onDidCreateModel(s=>this.addModel(s)),this._monaco.editor.onWillDisposeModel(s=>this.removeModel(s)),this._monaco.editor.onDidChangeModelLanguage(s=>{this.removeModel(s.model),this.addModel(s.model)})}get rootUri(){return this._rootUri}removeModel(n){const t=n.uri.toString(),i=this.documents.get(t);i&&(this.documents.delete(t),this.onDidCloseTextDocumentEmitter.fire(i))}addModel(n){const t=n.uri.toString(),i=this.setModel(t,n);this.onDidOpenTextDocumentEmitter.fire(i),n.onDidChangeContent(o=>this.onDidChangeContent(t,n,o))}onDidChangeContent(n,t,i){const o=this.setModel(n,t),s=[];for(const c of i.changes){const d=this.m2p.asRange(c.range),h=c.rangeLength,_=c.text;s.push({range:d,rangeLength:h,text:_})}this.onDidChangeTextDocumentEmitter.fire({textDocument:o,contentChanges:s})}setModel(n,t){const i=ba.TextDocument.create(n,t.getLanguageId(),t.getVersionId(),t.getValue());return this.documents.set(n,i),i}get textDocuments(){return Array.from(this.documents.values())}get onDidOpenTextDocument(){return this.onDidOpenTextDocumentEmitter.event}get onDidCloseTextDocument(){return this.onDidCloseTextDocumentEmitter.event}get onDidChangeTextDocument(){return this.onDidChangeTextDocumentEmitter.event}applyEdit(n){const t=this.p2m.asWorkspaceEdit(n),i=t.edits?t.edits.reduce((s,c)=>{const d=c;return s[d.resource.toString()]=this._monaco.editor.getModel(d.resource),s},{}):{};if(!Object.keys(i).map(s=>i[s]).every(s=>!!s))return Promise.resolve(!1);const o=t.edits?t.edits.reduce((s,c)=>{const d=c,h=d.resource.toString();return h in s||(s[h]=[]),s[h].push({range:this._monaco.Range.lift(d.edit.range),text:d.edit.text}),s},{}):{};return Object.keys(o).forEach(s=>{i[s].pushEditOperations([],o[s].map(c=>({identifier:{major:1,minor:0},range:c.range,text:c.text,forceMoveMarkers:!0})),()=>[])}),Promise.resolve(!0)}}Bt.MonacoWorkspace=Da;var no={},Yi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolToMonacoConverter=e.MonacoToProtocolConverter=e.ProtocolCodeAction=e.ProtocolIMarkerData=e.ProtocolCompletionItem=e.ProtocolCodeLens=e.ProtocolDocumentLink=void 0;const n=Oe,t=Fe,i=Je;var o;(function(y){function r(l){return!!l&&"data"in l}y.is=r})(o=e.ProtocolDocumentLink||(e.ProtocolDocumentLink={}));var s;(function(y){function r(l){return!!l&&"data"in l}y.is=r})(s=e.ProtocolCodeLens||(e.ProtocolCodeLens={}));var c;(function(y){function r(l){return!!l&&"data"in l}y.is=r})(c=e.ProtocolCompletionItem||(e.ProtocolCompletionItem={}));var d;(function(y){function r(l){return!!l&&"data"in l}y.is=r})(d=e.ProtocolIMarkerData||(e.ProtocolIMarkerData={}));var h;(function(y){function r(l){return!!l&&"data"in l}y.is=r})(h=e.ProtocolCodeAction||(e.ProtocolCodeAction={}));function _(y){return y.insert!==void 0}class g{constructor(r){this._monaco=r}asPosition(r,l){const b=r==null?void 0:r-1,R=l==null?void 0:l-1;return{line:b,character:R}}asRange(r){if(r!==void 0){if(r===null)return null;if(_(r))return this.asRange(r.insert);{const l=this.asPosition(r.startLineNumber,r.startColumn),b=this.asPosition(r.endLineNumber,r.endColumn);return{start:l,end:b}}}}asTextDocumentIdentifier(r){return{uri:r.uri.toString()}}asTextDocumentPositionParams(r,l){return{textDocument:this.asTextDocumentIdentifier(r),position:this.asPosition(l.lineNumber,l.column)}}asCompletionParams(r,l,b){return Object.assign(this.asTextDocumentPositionParams(r,l),{context:this.asCompletionContext(b)})}asCompletionContext(r){return{triggerKind:this.asCompletionTriggerKind(r.triggerKind),triggerCharacter:r.triggerCharacter}}asSignatureHelpContext(r){return{triggerKind:this.asSignatureHelpTriggerKind(r.triggerKind),triggerCharacter:r.triggerCharacter,isRetrigger:r.isRetrigger,activeSignatureHelp:this.asSignatureHelp(r.activeSignatureHelp)}}asSignatureHelp(r){if(r!==void 0)return{signatures:r.signatures.map(l=>this.asSignatureInformation(l)),activeParameter:r.activeParameter,activeSignature:r.activeSignature}}asSignatureInformation(r){return{documentation:this.asMarkupContent(r.documentation),label:r.label,parameters:r.parameters.map(l=>this.asParameterInformation(l)),activeParameter:r.activeParameter}}asParameterInformation(r){return{documentation:this.asMarkupContent(r.documentation),label:r.label}}asMarkupContent(r){if(r!==void 0)return typeof r=="string"?r:{kind:i.MarkupKind.Markdown,value:r.value}}asSignatureHelpTriggerKind(r){switch(r){case this._monaco.languages.SignatureHelpTriggerKind.ContentChange:return i.SignatureHelpTriggerKind.ContentChange;case this._monaco.languages.SignatureHelpTriggerKind.TriggerCharacter:return i.SignatureHelpTriggerKind.TriggerCharacter;default:return i.SignatureHelpTriggerKind.Invoke}}asCompletionTriggerKind(r){switch(r){case this._monaco.languages.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case this._monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}asCompletionItem(r){var l,b;const R={label:r.label},E=c.is(r)?r:void 0;return r.detail&&(R.detail=r.detail),r.documentation&&(typeof r.documentation=="string"?R.documentation=r.documentation:R.documentation=this.asDocumentation((l=E==null?void 0:E.documentationFormat)!==null&&l!==void 0?l:i.MarkupKind.Markdown,r.documentation)),r.filterText&&(R.filterText=r.filterText),this.fillPrimaryInsertText(R,r),t.number(r.kind)&&(R.kind=this.asCompletionItemKind(r.kind,E&&E.originalItemKind)),r.sortText&&(R.sortText=r.sortText),r.additionalTextEdits&&(R.additionalTextEdits=this.asTextEdits(r.additionalTextEdits)),r.command&&(R.command=this.asCommand(r.command)),r.commitCharacters&&(R.commitCharacters=r.commitCharacters.slice()),r.command&&(R.command=this.asCommand(r.command)),(r.preselect===!0||r.preselect===!1)&&(R.preselect=r.preselect),E&&(E.data!==void 0&&(R.data=E.data),(E.deprecated===!0||E.deprecated===!1)&&(R.deprecated=E.deprecated)),r.tags&&(R.tags=(b=r.tags)===null||b===void 0?void 0:b.slice()),R}asCompletionItemKind(r,l){if(l!==void 0)return l;switch(r){case this._monaco.languages.CompletionItemKind.Method:return i.CompletionItemKind.Method;case this._monaco.languages.CompletionItemKind.Function:return i.CompletionItemKind.Function;case this._monaco.languages.CompletionItemKind.Constructor:return i.CompletionItemKind.Constructor;case this._monaco.languages.CompletionItemKind.Field:return i.CompletionItemKind.Field;case this._monaco.languages.CompletionItemKind.Variable:return i.CompletionItemKind.Variable;case this._monaco.languages.CompletionItemKind.Class:return i.CompletionItemKind.Class;case this._monaco.languages.CompletionItemKind.Struct:return i.CompletionItemKind.Struct;case this._monaco.languages.CompletionItemKind.Interface:return i.CompletionItemKind.Interface;case this._monaco.languages.CompletionItemKind.Module:return i.CompletionItemKind.Module;case this._monaco.languages.CompletionItemKind.Property:return i.CompletionItemKind.Property;case this._monaco.languages.CompletionItemKind.Event:return i.CompletionItemKind.Event;case this._monaco.languages.CompletionItemKind.Operator:return i.CompletionItemKind.Operator;case this._monaco.languages.CompletionItemKind.Unit:return i.CompletionItemKind.Unit;case this._monaco.languages.CompletionItemKind.Value:return i.CompletionItemKind.Value;case this._monaco.languages.CompletionItemKind.Constant:return i.CompletionItemKind.Constant;case this._monaco.languages.CompletionItemKind.Enum:return i.CompletionItemKind.Enum;case this._monaco.languages.CompletionItemKind.EnumMember:return i.CompletionItemKind.EnumMember;case this._monaco.languages.CompletionItemKind.Keyword:return i.CompletionItemKind.Keyword;case this._monaco.languages.CompletionItemKind.Text:return i.CompletionItemKind.Text;case this._monaco.languages.CompletionItemKind.Color:return i.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.File:return i.CompletionItemKind.File;case this._monaco.languages.CompletionItemKind.Reference:return i.CompletionItemKind.Reference;case this._monaco.languages.CompletionItemKind.Customcolor:return i.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.Folder:return i.CompletionItemKind.Folder;case this._monaco.languages.CompletionItemKind.TypeParameter:return i.CompletionItemKind.TypeParameter;case this._monaco.languages.CompletionItemKind.Snippet:return i.CompletionItemKind.Snippet;default:return r+1}}asDocumentation(r,l){switch(r){case i.MarkupKind.PlainText:return{kind:r,value:l};case i.MarkupKind.Markdown:return{kind:r,value:l.value};default:return`Unsupported Markup content received. Kind is: ${r}`}}fillPrimaryInsertText(r,l){let b=i.InsertTextFormat.PlainText,R,E;l.insertTextRules!==void 0&&(l.insertTextRules&this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet)==0&&(b=i.InsertTextFormat.Snippet,R=l.insertText),r.insertTextFormat=b,R=l.insertText,l.range&&(E=this.asRange(l.range)),r.insertTextFormat=b,l.fromEdit&&R&&E?r.textEdit={newText:R,range:E}:r.insertText=R,r.insertTextMode=l.insertTextMode}asTextEdit(r){return{range:this.asRange(r.range),newText:r.text||""}}asTextEdits(r){if(!!r)return r.map(l=>this.asTextEdit(l))}asReferenceParams(r,l,b){return{textDocument:this.asTextDocumentIdentifier(r),position:this.asPosition(l.lineNumber,l.column),context:{includeDeclaration:b.includeDeclaration}}}asDocumentSymbolParams(r){return{textDocument:this.asTextDocumentIdentifier(r)}}asCodeLensParams(r){return{textDocument:this.asTextDocumentIdentifier(r)}}asDiagnosticSeverity(r){switch(r){case this._monaco.MarkerSeverity.Error:return i.DiagnosticSeverity.Error;case this._monaco.MarkerSeverity.Warning:return i.DiagnosticSeverity.Warning;case this._monaco.MarkerSeverity.Info:return i.DiagnosticSeverity.Information;case this._monaco.MarkerSeverity.Hint:return i.DiagnosticSeverity.Hint}}asDiagnostic(r){const l=this.asRange(new this._monaco.Range(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)),b=this.asDiagnosticSeverity(r.severity),R=i.Diagnostic.create(l,r.message,b,r.code,r.source);return d.is(r)&&(R.data=r.data,R.codeDescription=r.codeDescription),R}asDiagnostics(r){return r==null?r:r.map(l=>this.asDiagnostic(l))}asCodeActionContext(r){if(r==null)return r;const l=this.asDiagnostics(r.markers);return i.CodeActionContext.create(l,t.string(r.only)?[r.only]:void 0)}asCodeActionParams(r,l,b){return{textDocument:this.asTextDocumentIdentifier(r),range:this.asRange(l),context:this.asCodeActionContext(b)}}asCommand(r){if(r){let l=r.arguments||[];return i.Command.create(r.title,r.id,...l)}}asCodeLens(r){let l=i.CodeLens.create(this.asRange(r.range));return r.command&&(l.command=this.asCommand(r.command)),s.is(r)&&r.data&&(l.data=r.data),l}asFormattingOptions(r){return{tabSize:r.tabSize,insertSpaces:r.insertSpaces}}asDocumentFormattingParams(r,l){return{textDocument:this.asTextDocumentIdentifier(r),options:this.asFormattingOptions(l)}}asDocumentRangeFormattingParams(r,l,b){return{textDocument:this.asTextDocumentIdentifier(r),range:this.asRange(l),options:this.asFormattingOptions(b)}}asDocumentOnTypeFormattingParams(r,l,b,R){return{textDocument:this.asTextDocumentIdentifier(r),position:this.asPosition(l.lineNumber,l.column),ch:b,options:this.asFormattingOptions(R)}}asRenameParams(r,l,b){return{textDocument:this.asTextDocumentIdentifier(r),position:this.asPosition(l.lineNumber,l.column),newName:b}}asDocumentLinkParams(r){return{textDocument:this.asTextDocumentIdentifier(r)}}asDocumentLink(r){let l=i.DocumentLink.create(this.asRange(r.range));return r.url&&(l.target=typeof r.url=="string"?r.url:r.url.toString()),o.is(r)&&r.data&&(l.data=r.data),r.tooltip&&(l.tooltip=r.tooltip),l}asCodeAction(r){const l={title:r.title},b=h.is(r)?r:void 0;if(t.number(r.kind)&&(l.kind=r.kind),r.diagnostics&&(l.diagnostics=this.asDiagnostics(r.diagnostics)),r.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return r.command&&(l.command=this.asCommand(r.command)),r.isPreferred!==void 0&&(l.isPreferred=r.isPreferred),r.disabled&&(l.disabled={reason:r.disabled}),b&&b.data!==void 0&&(l.data=b.data),l}}e.MonacoToProtocolConverter=g;class p{constructor(r){this._monaco=r}asResourceEdits(r,l,b,R){return l.map(E=>({resource:r,edit:this.asTextEdit(E),modelVersionId:R,metadata:i.AnnotatedTextEdit.is(E)?b(E.annotationId):void 0}))}asWorkspaceEditMetadata(r){return{needsConfirmation:r.needsConfirmation===!0,label:r.label,description:r.description}}asWorkspaceEdit(r){if(!r)return;const l=new Map;if(r.changeAnnotations!==void 0)for(const E of Object.keys(r.changeAnnotations)){const G=this.asWorkspaceEditMetadata(r.changeAnnotations[E]);l.set(E,G)}const b=E=>{if(E!==void 0)return l.get(E)},R=[];if(r.documentChanges)r.documentChanges.forEach(E=>{if(n.CreateFile.is(E))R.push({newUri:this._monaco.Uri.parse(E.uri),options:E.options,metadata:b(E.annotationId)});else if(n.RenameFile.is(E))R.push({oldUri:this._monaco.Uri.parse(E.oldUri),newUri:this._monaco.Uri.parse(E.newUri),options:E.options,metadata:b(E.annotationId)});else if(n.DeleteFile.is(E))R.push({oldUri:this._monaco.Uri.parse(E.uri),options:E.options,metadata:b(E.annotationId)});else if(n.TextDocumentEdit.is(E)){const G=this._monaco.Uri.parse(E.textDocument.uri),ee=typeof E.textDocument.version=="number"?E.textDocument.version:void 0;R.push(...this.asResourceEdits(G,E.edits,b,ee))}else console.error(`Unknown workspace edit change received:
${JSON.stringify(E,void 0,4)}`)});else if(r.changes)for(const E of Object.keys(r.changes)){const G=this._monaco.Uri.parse(E);R.push(...this.asResourceEdits(G,r.changes[E],b))}return{edits:R}}asTextEdit(r){return r?{range:this.asRange(r.range),text:r.newText}:void 0}asTextEdits(r){if(!!r)return r.map(l=>this.asTextEdit(l))}asCodeLens(r){if(!r)return;let b={range:this.asRange(r.range)};return r.command&&(b.command=this.asCommand(r.command)),r.data!==void 0&&r.data!==null&&(b.data=r.data),b}asCodeLensList(r){if(!!r)return{lenses:r.map(l=>this.asCodeLens(l)),dispose:()=>{}}}asCodeActionList(r){return{actions:r.map(l=>this.asCodeAction(l)),dispose:()=>{}}}asCodeAction(r){return i.Command.is(r)?{command:{id:r.command,title:r.title,arguments:r.arguments},title:r.title}:{title:r.title,command:this.asCommand(r.command),edit:this.asWorkspaceEdit(r.edit),diagnostics:this.asDiagnostics(r.diagnostics),kind:r.kind,disabled:r.disabled?r.disabled.reason:void 0,isPreferred:r.isPreferred,data:r.data}}asCommand(r){if(!!r)return{id:r.command,title:r.title,arguments:r.arguments}}asDocumentSymbol(r){const l=r.children&&r.children.map(b=>this.asDocumentSymbol(b));return{name:r.name,detail:r.detail||"",kind:this.asSymbolKind(r.kind),tags:r.tags||[],range:this.asRange(r.range),selectionRange:this.asRange(r.selectionRange),children:l}}asDocumentSymbols(r){return i.DocumentSymbol.is(r[0])?r.map(l=>this.asDocumentSymbol(l)):this.asSymbolInformations(r)}asSymbolInformations(r,l){if(!!r)return r.map(b=>this.asSymbolInformation(b,l))}asSymbolInformation(r,l){const b=this.asLocation(l?Object.assign(Object.assign({},r.location),{uri:l.toString()}):r.location);return{name:r.name,detail:"",containerName:r.containerName,kind:this.asSymbolKind(r.kind),tags:r.tags||[],range:b.range,selectionRange:b.range}}asSymbolKind(r){return r<=i.SymbolKind.TypeParameter?r-1:this._monaco.languages.SymbolKind.Property}asDocumentHighlights(r){if(!!r)return r.map(l=>this.asDocumentHighlight(l))}asDocumentHighlight(r){const l=this.asRange(r.range),b=t.number(r.kind)?this.asDocumentHighlightKind(r.kind):void 0;return{range:l,kind:b}}asDocumentHighlightKind(r){switch(r){case i.DocumentHighlightKind.Text:return this._monaco.languages.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return this._monaco.languages.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return this._monaco.languages.DocumentHighlightKind.Write}return this._monaco.languages.DocumentHighlightKind.Text}asReferences(r){if(!!r)return r.map(l=>this.asLocation(l))}asDefinitionResult(r){if(!!r)return t.array(r)?r.length==0?void 0:i.LocationLink.is(r[0])?r.map(b=>this.asLocationLink(b)):r.map(b=>this.asLocation(b)):this.asLocation(r)}asLocation(r){if(!r)return;const l=this._monaco.Uri.parse(r.uri),b=this.asRange(r.range);return{uri:l,range:b}}asLocationLink(r){if(!r)return;let l={uri:this._monaco.Uri.parse(r.targetUri),range:this.asRange(r.targetSelectionRange),originSelectionRange:this.asRange(r.originSelectionRange),targetSelectionRange:this.asRange(r.targetSelectionRange)};if(!l.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return l}asSignatureHelpResult(r){if(!r)return;let l={};return t.number(r.activeSignature)?l.activeSignature=r.activeSignature:l.activeSignature=0,t.number(r.activeParameter)?l.activeParameter=r.activeParameter:l.activeParameter=0,r.signatures?l.signatures=this.asSignatureInformations(r.signatures):l.signatures=[],{value:l,dispose:()=>{}}}asSignatureInformations(r){return r.map(l=>this.asSignatureInformation(l))}asSignatureInformation(r){let l={label:r.label};return r.documentation&&(l.documentation=this.asDocumentation(r.documentation)),r.parameters?l.parameters=this.asParameterInformations(r.parameters):l.parameters=[],r.activeParameter&&(l.activeParameter=r.activeParameter),l}asParameterInformations(r){return r.map(l=>this.asParameterInformation(l))}asParameterInformation(r){let l={label:r.label};return r.documentation&&(l.documentation=this.asDocumentation(r.documentation)),l}asHover(r){if(!!r)return{contents:this.asHoverContent(r.contents),range:this.asRange(r.range)}}asHoverContent(r){return Array.isArray(r)?r.map(l=>this.asMarkdownString(l)):[this.asMarkdownString(r)]}asDocumentation(r){return t.string(r)?r:r.kind===i.MarkupKind.PlainText?r.value:this.asMarkdownString(r)}asMarkdownString(r){if(i.MarkupContent.is(r))return{value:r.value};if(t.string(r))return{value:r};const{language:l,value:b}=r;return{value:"```"+l+`
`+b+"\n```"}}asSeverity(r){return r===1?this._monaco.MarkerSeverity.Error:r===2?this._monaco.MarkerSeverity.Warning:r===3?this._monaco.MarkerSeverity.Info:this._monaco.MarkerSeverity.Hint}asDiagnostics(r){if(!!r)return r.map(l=>this.asDiagnostic(l))}asDiagnostic(r){return{code:typeof r.code=="number"?r.code.toString():r.code,severity:this.asSeverity(r.severity),message:r.message,source:r.source,startLineNumber:r.range.start.line+1,startColumn:r.range.start.character+1,endLineNumber:r.range.end.line+1,endColumn:r.range.end.character+1,relatedInformation:this.asRelatedInformations(r.relatedInformation),codeDescription:r.codeDescription,tags:r.tags,data:r.data}}asRelatedInformations(r){if(!!r)return r.map(l=>this.asRelatedInformation(l))}asRelatedInformation(r){return{resource:this._monaco.Uri.parse(r.location.uri),startLineNumber:r.location.range.start.line+1,startColumn:r.location.range.start.character+1,endLineNumber:r.location.range.end.line+1,endColumn:r.location.range.end.character+1,message:r.message}}asCompletionResult(r,l){if(!r)return{incomplete:!1,suggestions:[]};if(Array.isArray(r)){const b=r.map(R=>this.asCompletionItem(R,l));return{incomplete:!1,suggestions:b}}return{incomplete:r.isIncomplete,suggestions:r.items.map(b=>this.asCompletionItem(b,l))}}asCompletionItem(r,l){const b={label:r.label};r.detail&&(b.detail=r.detail),r.documentation&&(b.documentation=this.asDocumentation(r.documentation),b.documentationFormat=t.string(r.documentation)?void 0:r.documentation.kind),r.filterText&&(b.filterText=r.filterText);const R=this.asCompletionInsertText(r,l);if(b.insertText=R.insertText,b.range=R.range,b.fromEdit=R.fromEdit,R.isSnippet&&(b.insertTextRules=this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),t.number(r.kind)){let[E,G]=this.asCompletionItemKind(r.kind);b.kind=E,G&&(b.originalItemKind=G)}return r.sortText&&(b.sortText=r.sortText),r.additionalTextEdits&&(b.additionalTextEdits=this.asTextEdits(r.additionalTextEdits)),t.stringArray(r.commitCharacters)&&(b.commitCharacters=r.commitCharacters.slice()),r.command&&(b.command=this.asCommand(r.command)),(r.deprecated===!0||r.deprecated===!1)&&(b.deprecated=r.deprecated),(r.preselect===!0||r.preselect===!1)&&(b.preselect=r.preselect),r.data!==void 0&&(b.data=r.data),(r.deprecated===!0||r.deprecated===!1)&&(b.deprecated=r.deprecated),r.insertTextMode&&(b.insertTextMode=r.insertTextMode),r.tags&&(b.tags=r.tags),b}asCompletionItemKind(r){if(i.CompletionItemKind.Text<=r&&r<=i.CompletionItemKind.TypeParameter)switch(r){case i.CompletionItemKind.Text:return[this._monaco.languages.CompletionItemKind.Text,void 0];case i.CompletionItemKind.Method:return[this._monaco.languages.CompletionItemKind.Method,void 0];case i.CompletionItemKind.Function:return[this._monaco.languages.CompletionItemKind.Function,void 0];case i.CompletionItemKind.Constructor:return[this._monaco.languages.CompletionItemKind.Constructor,void 0];case i.CompletionItemKind.Field:return[this._monaco.languages.CompletionItemKind.Field,void 0];case i.CompletionItemKind.Variable:return[this._monaco.languages.CompletionItemKind.Variable,void 0];case i.CompletionItemKind.Class:return[this._monaco.languages.CompletionItemKind.Class,void 0];case i.CompletionItemKind.Interface:return[this._monaco.languages.CompletionItemKind.Interface,void 0];case i.CompletionItemKind.Module:return[this._monaco.languages.CompletionItemKind.Module,void 0];case i.CompletionItemKind.Property:return[this._monaco.languages.CompletionItemKind.Property,void 0];case i.CompletionItemKind.Unit:return[this._monaco.languages.CompletionItemKind.Unit,void 0];case i.CompletionItemKind.Value:return[this._monaco.languages.CompletionItemKind.Value,void 0];case i.CompletionItemKind.Enum:return[this._monaco.languages.CompletionItemKind.Enum,void 0];case i.CompletionItemKind.Keyword:return[this._monaco.languages.CompletionItemKind.Keyword,void 0];case i.CompletionItemKind.Snippet:return[this._monaco.languages.CompletionItemKind.Snippet,void 0];case i.CompletionItemKind.Color:return[this._monaco.languages.CompletionItemKind.Color,void 0];case i.CompletionItemKind.File:return[this._monaco.languages.CompletionItemKind.File,void 0];case i.CompletionItemKind.Reference:return[this._monaco.languages.CompletionItemKind.Reference,void 0];case i.CompletionItemKind.Folder:return[this._monaco.languages.CompletionItemKind.Folder,void 0];case i.CompletionItemKind.EnumMember:return[this._monaco.languages.CompletionItemKind.EnumMember,void 0];case i.CompletionItemKind.Constant:return[this._monaco.languages.CompletionItemKind.Constant,void 0];case i.CompletionItemKind.Struct:return[this._monaco.languages.CompletionItemKind.Struct,void 0];case i.CompletionItemKind.Event:return[this._monaco.languages.CompletionItemKind.Event,void 0];case i.CompletionItemKind.Operator:return[this._monaco.languages.CompletionItemKind.Operator,void 0];case i.CompletionItemKind.TypeParameter:return[this._monaco.languages.CompletionItemKind.TypeParameter,void 0];default:return[r-1,void 0]}return[i.CompletionItemKind.Text,r]}asCompletionInsertText(r,l){const b=r.insertTextFormat===i.InsertTextFormat.Snippet;if(r.textEdit)if(i.TextEdit.is(r.textEdit)){const R=this.asRange(r.textEdit.range),E=r.textEdit.newText;return{isSnippet:b,insertText:E,range:R,fromEdit:!0}}else{const R={insert:this.asRange(r.textEdit.insert),replace:this.asRange(r.textEdit.replace)},E=r.textEdit.newText;return{isSnippet:b,insertText:E,range:R,fromEdit:!0}}return r.insertText?{isSnippet:b,insertText:r.insertText,fromEdit:!1,range:l}:{insertText:r.label,range:l,fromEdit:!1,isSnippet:!1}}asDocumentLinks(r){return{links:r.map(b=>this.asDocumentLink(b))}}asDocumentLink(r){return{range:this.asRange(r.range),url:r.target,data:r.data,tooltip:r.tooltip}}asRange(r){if(r===void 0)return;if(r===null)return null;const l=this.asPosition(r.start),b=this.asPosition(r.end);if(l instanceof this._monaco.Position&&b instanceof this._monaco.Position)return new this._monaco.Range(l.lineNumber,l.column,b.lineNumber,b.column);const R=!l||l.lineNumber===void 0?void 0:l.lineNumber,E=!l||l.column===void 0?void 0:l.column,G=!b||b.lineNumber===void 0?void 0:b.lineNumber,ee=!b||b.column===void 0?void 0:b.column;return{startLineNumber:R,startColumn:E,endLineNumber:G,endColumn:ee}}asPosition(r){if(r===void 0)return;if(r===null)return null;const{line:l,character:b}=r,R=l===void 0?void 0:l+1,E=b===void 0?void 0:b+1;return R!==void 0&&E!==void 0?new this._monaco.Position(R,E):{lineNumber:R,column:E}}asColorInformations(r){return r.map(l=>this.asColorInformation(l))}asColorInformation(r){return{range:this.asRange(r.range),color:r.color}}asColorPresentations(r){return r.map(l=>this.asColorPresentation(l))}asColorPresentation(r){return{label:r.label,textEdit:this.asTextEdit(r.textEdit),additionalTextEdits:this.asTextEdits(r.additionalTextEdits)}}asFoldingRanges(r){return r&&r.map(l=>this.asFoldingRange(l))}asFoldingRange(r){return{start:r.startLine+1,end:r.endLine+1,kind:this.asFoldingRangeKind(r.kind)}}asFoldingRangeKind(r){if(r)switch(r){case i.FoldingRangeKind.Comment:return this._monaco.languages.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return this._monaco.languages.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return this._monaco.languages.FoldingRangeKind.Region}}asSemanticTokens(r){return{resultId:r.resultId,data:Uint32Array.from(r.data)}}}e.ProtocolToMonacoConverter=p})(Yi);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonacoServices=void 0;const n=Yi,t=zt,i=Gi,o=Bt,s=Ut,c=Je;(function(d){function h(p,y={}){const r=new n.MonacoToProtocolConverter(p),l=new n.ProtocolToMonacoConverter(p);return{commands:new t.MonacoCommands(p),languages:new i.MonacoLanguages(p,l,r),workspace:new o.MonacoWorkspace(p,l,r,y.rootUri),window:new s.ConsoleWindow}}d.create=h;function _(p,y={}){const r=h(p,y);return c.Services.install(r),r}d.install=_;function g(){return c.Services.get()}d.get=g})(e.MonacoServices||(e.MonacoServices={}))})(no);(function(e){var n=ue&&ue.__createBinding||(Object.create?function(i,o,s,c){c===void 0&&(c=s),Object.defineProperty(i,c,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,c){c===void 0&&(c=s),i[c]=o[s]}),t=ue&&ue.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&n(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),t(Mt,e),t(Je,e),t(ln,e),t(qr,e),t(zt,e),t(Ut,e),t(Gi,e),t(Bt,e),t(no,e),t(Yi,e)})(Zn);var wa=tr(Zn),Pa=Object.freeze(er({__proto__:null,[Symbol.toStringTag]:"Module",default:wa},[Zn]));export { Ra as j, Pa as l };

